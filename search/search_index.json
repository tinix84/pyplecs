{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PyPLECS","text":"<p>Fast, cached, scalable PLECS simulation framework with REST API and Web GUI</p> <p>PyPLECS automates PLECS power electronics simulation with modern software engineering practices.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>5x faster batch simulations leveraging PLECS native parallel API</li> <li>100-1000x cache speedup on repeated simulations (hash-based deduplication)</li> <li>REST API for language-agnostic integration</li> <li>Web GUI for real-time monitoring and control</li> <li>Priority queue with automatic retry logic</li> <li>Flexible caching with Parquet, HDF5, or CSV storage</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>pip install -e .\n</code></pre> <pre><code>from pyplecs import PlecsServer\n\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate({\"Vi\": 12.0, \"Vo\": 5.0})\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"Document Description PRD Product requirements and roadmap Architecture System design, layers, data flow API Reference REST API endpoints and examples Installation Setup, configuration, troubleshooting Web GUI Dashboard features and usage Migration v0.x to v1.0.0 upgrade guide Changelog Version history Contributing Development setup and workflow Auto-Context Generated project summary"},{"location":"#architecture","title":"Architecture","text":"<p>Two-layer design:</p> <ol> <li>Core Layer (<code>pyplecs.py</code>): Thin wrapper around PLECS XML-RPC + GUI automation</li> <li>Value-Add Layer: Orchestration, caching, API, web UI</li> </ol>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository</li> <li>PLECS by Plexim</li> </ul>"},{"location":"api/","title":"PyPLECS REST API Reference","text":"<p>Complete reference for the PyPLECS REST API.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>The PyPLECS REST API provides language-agnostic access to simulation capabilities through HTTP endpoints. Built with FastAPI, it offers:</p> <ul> <li>\ud83d\udd04 Submit simulations from any language (Python, MATLAB, JavaScript, curl)</li> <li>\ud83d\udcca Monitor status with real-time updates</li> <li>\ud83d\udcbe Cache management for performance optimization</li> <li>\ud83d\udcc8 Statistics for queue and orchestrator monitoring</li> <li>\ud83d\udcda Auto-generated documentation at <code>/docs</code> and <code>/redoc</code></li> </ul>"},{"location":"api/#base-information","title":"Base Information","text":"<ul> <li>Base URL: <code>http://localhost:8000</code> (configurable in config.yml)</li> <li>Protocol: HTTP/1.1</li> <li>Content-Type: <code>application/json</code></li> <li>API Version: v1 (included in v1.0.0)</li> <li>OpenAPI Docs: <code>http://localhost:8000/docs</code> (Swagger UI)</li> <li>ReDoc: <code>http://localhost:8000/redoc</code> (Alternative docs)</li> </ul>"},{"location":"api/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Quick Start</li> <li>Authentication</li> <li>Endpoints</li> <li>Simulations</li> <li>Cache</li> <li>System</li> <li>Data Models</li> <li>Error Handling</li> <li>Examples</li> <li>Rate Limiting</li> </ul>"},{"location":"api/#quick-start","title":"Quick Start","text":""},{"location":"api/#starting-the-api-server","title":"Starting the API Server","text":"<pre><code># Method 1: Entry point\npyplecs-api\n\n# Method 2: Direct module\npython -m pyplecs.api\n\n# Custom port\npyplecs-api --port 8080\n\n# Custom host (bind to all interfaces)\npyplecs-api --host 0.0.0.0\n</code></pre>"},{"location":"api/#first-api-call","title":"First API Call","text":"<pre><code># Check API health\ncurl http://localhost:8000/health\n\n# Expected response\n{\"status\": \"healthy\", \"version\": \"1.0.0\"}\n</code></pre>"},{"location":"api/#authentication","title":"Authentication","text":""},{"location":"api/#current-version-v100","title":"Current Version (v1.0.0)","text":"<p>No authentication required - API is open for local development.</p> <p>\u26a0\ufe0f Production Warning: Do not expose API to untrusted networks without authentication.</p>"},{"location":"api/#planned-v1x","title":"Planned (v1.x)","text":"<p>Future versions will support: - API Keys: Simple token-based authentication - JWT: JSON Web Tokens for stateless auth - OAuth 2.0: Enterprise SSO integration</p> <p>Example (future): <pre><code>curl -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     http://localhost:8000/simulations\n</code></pre></p>"},{"location":"api/#endpoints","title":"Endpoints","text":""},{"location":"api/#simulations","title":"Simulations","text":""},{"location":"api/#post-simulations","title":"POST /simulations","text":"<p>Submit a single simulation for execution.</p> <p>Request Body: <pre><code>{\n  \"model_file\": \"path/to/model.plecs\",\n  \"parameters\": {\n    \"Vi\": 12.0,\n    \"Vo\": 5.0,\n    \"fsw\": 100000\n  },\n  \"output_variables\": [\"Vo\", \"IL\", \"Iin\"],\n  \"priority\": \"HIGH\",\n  \"metadata\": {\n    \"user\": \"engineer@company.com\",\n    \"project\": \"buck_converter_design\"\n  }\n}\n</code></pre></p> <p>Fields: - <code>model_file</code> (string, required): Path to PLECS model file - <code>parameters</code> (object, optional): ModelVars parameters as key-value pairs - <code>output_variables</code> (array, optional): Variables to extract from results - <code>priority</code> (string, optional): Task priority (<code>CRITICAL</code>, <code>HIGH</code>, <code>NORMAL</code>, <code>LOW</code>). Default: <code>NORMAL</code> - <code>metadata</code> (object, optional): Custom metadata for tracking</p> <p>Response (201 Created): <pre><code>{\n  \"task_id\": \"abc123-def456-ghi789\",\n  \"status\": \"queued\",\n  \"priority\": \"HIGH\",\n  \"submitted_at\": \"2025-01-25T10:30:00Z\",\n  \"message\": \"Simulation submitted successfully\"\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl -X POST http://localhost:8000/simulations \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model_file\": \"models/buck.plecs\",\n    \"parameters\": {\"Vi\": 12.0, \"Vo\": 5.0},\n    \"priority\": \"HIGH\"\n  }'\n</code></pre></p> <p>Python Example: <pre><code>import requests\n\nresponse = requests.post(\n    \"http://localhost:8000/simulations\",\n    json={\n        \"model_file\": \"models/buck.plecs\",\n        \"parameters\": {\"Vi\": 12.0, \"Vo\": 5.0},\n        \"priority\": \"HIGH\"\n    }\n)\ntask_id = response.json()[\"task_id\"]\nprint(f\"Task submitted: {task_id}\")\n</code></pre></p>"},{"location":"api/#post-simulationsbatch","title":"POST /simulations/batch","text":"<p>Submit multiple simulations for batch execution.</p> <p>Request Body: <pre><code>[\n  {\n    \"model_file\": \"models/buck.plecs\",\n    \"parameters\": {\"Vi\": 12.0},\n    \"priority\": \"HIGH\"\n  },\n  {\n    \"model_file\": \"models/buck.plecs\",\n    \"parameters\": {\"Vi\": 24.0},\n    \"priority\": \"HIGH\"\n  },\n  {\n    \"model_file\": \"models/buck.plecs\",\n    \"parameters\": {\"Vi\": 48.0},\n    \"priority\": \"HIGH\"\n  }\n]\n</code></pre></p> <p>Response (201 Created): <pre><code>{\n  \"task_ids\": [\n    \"abc123-def456-ghi789\",\n    \"jkl012-mno345-pqr678\",\n    \"stu901-vwx234-yza567\"\n  ],\n  \"batch_size\": 3,\n  \"message\": \"Submitted 3 simulations for batch execution\",\n  \"submitted_at\": \"2025-01-25T10:30:00Z\"\n}\n</code></pre></p> <p>Benefits: - Single API call for multiple simulations - Orchestrator batches for parallel execution - Reduced HTTP overhead - Better performance on large parameter sweeps</p> <p>cURL Example: <pre><code>curl -X POST http://localhost:8000/simulations/batch \\\n  -H \"Content-Type: application/json\" \\\n  -d '[\n    {\"model_file\": \"buck.plecs\", \"parameters\": {\"Vi\": 12}},\n    {\"model_file\": \"buck.plecs\", \"parameters\": {\"Vi\": 24}},\n    {\"model_file\": \"buck.plecs\", \"parameters\": {\"Vi\": 48}}\n  ]'\n</code></pre></p> <p>Python Example: <pre><code>params_list = [{\"Vi\": v} for v in range(12, 49, 6)]\nrequests_list = [\n    {\"model_file\": \"buck.plecs\", \"parameters\": p}\n    for p in params_list\n]\n\nresponse = requests.post(\n    \"http://localhost:8000/simulations/batch\",\n    json=requests_list\n)\ntask_ids = response.json()[\"task_ids\"]\n</code></pre></p>"},{"location":"api/#get-simulationstask_id","title":"GET /simulations/{task_id}","text":"<p>Get simulation status and metadata.</p> <p>Parameters: - <code>task_id</code> (path, required): Simulation task ID</p> <p>Response (200 OK): <pre><code>{\n  \"task_id\": \"abc123-def456-ghi789\",\n  \"status\": \"completed\",\n  \"priority\": \"HIGH\",\n  \"model_file\": \"models/buck.plecs\",\n  \"parameters\": {\"Vi\": 12.0, \"Vo\": 5.0},\n  \"submitted_at\": \"2025-01-25T10:30:00Z\",\n  \"started_at\": \"2025-01-25T10:30:05Z\",\n  \"completed_at\": \"2025-01-25T10:30:15Z\",\n  \"duration_seconds\": 10.0,\n  \"cache_hit\": false,\n  \"retry_count\": 0\n}\n</code></pre></p> <p>Status Values: - <code>queued</code>: Waiting in queue - <code>running</code>: Currently executing - <code>completed</code>: Finished successfully - <code>failed</code>: Execution failed - <code>cancelled</code>: Cancelled by user</p> <p>cURL Example: <pre><code>curl http://localhost:8000/simulations/abc123-def456-ghi789\n</code></pre></p>"},{"location":"api/#get-simulationstask_idresult","title":"GET /simulations/{task_id}/result","text":"<p>Get simulation results.</p> <p>Parameters: - <code>task_id</code> (path, required): Simulation task ID</p> <p>Response (200 OK): <pre><code>{\n  \"task_id\": \"abc123-def456-ghi789\",\n  \"status\": \"completed\",\n  \"results\": {\n    \"Vo\": [0.0, 0.1, 0.2, ..., 5.0],\n    \"IL\": [0.0, 0.5, 1.0, ..., 2.5],\n    \"t\": [0.0, 1e-6, 2e-6, ..., 0.001]\n  },\n  \"metadata\": {\n    \"simulation_time\": 10.0,\n    \"cache_hit\": false,\n    \"plecs_version\": \"4.7\"\n  }\n}\n</code></pre></p> <p>Error Response (202 Accepted): <pre><code>{\n  \"task_id\": \"abc123-def456-ghi789\",\n  \"status\": \"running\",\n  \"message\": \"Simulation still in progress. Poll again later.\"\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl http://localhost:8000/simulations/abc123-def456-ghi789/result\n</code></pre></p> <p>Python Example with Polling: <pre><code>import time\nimport requests\n\ntask_id = \"abc123-def456-ghi789\"\nwhile True:\n    response = requests.get(\n        f\"http://localhost:8000/simulations/{task_id}/result\"\n    )\n\n    if response.status_code == 200:\n        results = response.json()[\"results\"]\n        print(f\"Vo: {results['Vo']}\")\n        break\n    elif response.status_code == 202:\n        print(\"Still running...\")\n        time.sleep(1)\n    else:\n        print(f\"Error: {response.text}\")\n        break\n</code></pre></p>"},{"location":"api/#delete-simulationstask_id","title":"DELETE /simulations/{task_id}","text":"<p>Cancel a queued or running simulation.</p> <p>Parameters: - <code>task_id</code> (path, required): Simulation task ID</p> <p>Response (200 OK): <pre><code>{\n  \"task_id\": \"abc123-def456-ghi789\",\n  \"status\": \"cancelled\",\n  \"message\": \"Simulation cancelled successfully\"\n}\n</code></pre></p> <p>Error Response (400 Bad Request): <pre><code>{\n  \"detail\": \"Cannot cancel completed simulation\"\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl -X DELETE http://localhost:8000/simulations/abc123-def456-ghi789\n</code></pre></p>"},{"location":"api/#cache","title":"Cache","text":""},{"location":"api/#get-cachestats","title":"GET /cache/stats","text":"<p>Get cache statistics.</p> <p>Response (200 OK): <pre><code>{\n  \"enabled\": true,\n  \"hits\": 1523,\n  \"misses\": 478,\n  \"hit_rate\": 0.761,\n  \"total_entries\": 2001,\n  \"storage_format\": \"parquet\",\n  \"compression\": \"snappy\",\n  \"disk_usage_mb\": 145.7,\n  \"oldest_entry\": \"2025-01-20T08:00:00Z\",\n  \"newest_entry\": \"2025-01-25T10:30:00Z\"\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl http://localhost:8000/cache/stats\n</code></pre></p>"},{"location":"api/#post-cacheclear","title":"POST /cache/clear","text":"<p>Clear the simulation cache.</p> <p>Query Parameters: - <code>confirm</code> (boolean, optional): Confirmation flag (default: false)</p> <p>Request: <pre><code>curl -X POST \"http://localhost:8000/cache/clear?confirm=true\"\n</code></pre></p> <p>Response (200 OK): <pre><code>{\n  \"message\": \"Cache cleared successfully\",\n  \"entries_removed\": 2001,\n  \"disk_space_freed_mb\": 145.7\n}\n</code></pre></p> <p>Error Response (400 Bad Request): <pre><code>{\n  \"detail\": \"Confirmation required. Set confirm=true query parameter.\"\n}\n</code></pre></p>"},{"location":"api/#get-cacheentrycache_key","title":"GET /cache/entry/{cache_key}","text":"<p>Get specific cache entry metadata.</p> <p>Parameters: - <code>cache_key</code> (path, required): Cache entry hash</p> <p>Response (200 OK): <pre><code>{\n  \"cache_key\": \"abc123def456...\",\n  \"model_file\": \"models/buck.plecs\",\n  \"parameters\": {\"Vi\": 12.0, \"Vo\": 5.0},\n  \"created_at\": \"2025-01-25T10:30:15Z\",\n  \"accessed_at\": \"2025-01-25T10:35:00Z\",\n  \"access_count\": 5,\n  \"size_bytes\": 1024000,\n  \"storage_format\": \"parquet\"\n}\n</code></pre></p>"},{"location":"api/#system","title":"System","text":""},{"location":"api/#get-health","title":"GET /health","text":"<p>Health check endpoint.</p> <p>Response (200 OK): <pre><code>{\n  \"status\": \"healthy\",\n  \"version\": \"1.0.0\",\n  \"uptime_seconds\": 3600,\n  \"plecs_connected\": true\n}\n</code></pre></p> <p>Use Cases: - Load balancer health checks - Monitoring systems - Container orchestration (Kubernetes readiness probe)</p> <p>cURL Example: <pre><code>curl http://localhost:8000/health\n</code></pre></p>"},{"location":"api/#get-stats","title":"GET /stats","text":"<p>Get orchestrator statistics.</p> <p>Response (200 OK): <pre><code>{\n  \"queue\": {\n    \"pending\": 5,\n    \"running\": 2,\n    \"completed\": 1523,\n    \"failed\": 12,\n    \"cancelled\": 3\n  },\n  \"performance\": {\n    \"average_duration_seconds\": 8.5,\n    \"total_simulations\": 1545,\n    \"cache_hit_rate\": 0.761,\n    \"speedup_factor\": 4.2\n  },\n  \"system\": {\n    \"cpu_cores\": 4,\n    \"batch_size\": 4,\n    \"max_concurrent\": 4,\n    \"uptime_seconds\": 3600\n  }\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl http://localhost:8000/stats\n</code></pre></p>"},{"location":"api/#get-logs","title":"GET /logs","text":"<p>Get recent API logs (if enabled).</p> <p>Query Parameters: - <code>limit</code> (integer, optional): Number of log entries (default: 100, max: 1000) - <code>level</code> (string, optional): Log level filter (<code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>)</p> <p>Response (200 OK): <pre><code>{\n  \"logs\": [\n    {\n      \"timestamp\": \"2025-01-25T10:30:00Z\",\n      \"level\": \"INFO\",\n      \"message\": \"Simulation submitted\",\n      \"task_id\": \"abc123-def456-ghi789\"\n    },\n    {\n      \"timestamp\": \"2025-01-25T10:30:15Z\",\n      \"level\": \"INFO\",\n      \"message\": \"Simulation completed\",\n      \"task_id\": \"abc123-def456-ghi789\",\n      \"duration\": 15.0\n    }\n  ],\n  \"count\": 2\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl \"http://localhost:8000/logs?limit=50&amp;level=INFO\"\n</code></pre></p>"},{"location":"api/#data-models","title":"Data Models","text":""},{"location":"api/#simulationrequest","title":"SimulationRequest","text":"<pre><code>{\n  \"model_file\": \"string (required)\",\n  \"parameters\": \"object (optional)\",\n  \"output_variables\": \"array of strings (optional)\",\n  \"priority\": \"enum: CRITICAL|HIGH|NORMAL|LOW (optional, default: NORMAL)\",\n  \"metadata\": \"object (optional)\"\n}\n</code></pre>"},{"location":"api/#simulationresponse","title":"SimulationResponse","text":"<pre><code>{\n  \"task_id\": \"string (UUID)\",\n  \"status\": \"enum: queued|running|completed|failed|cancelled\",\n  \"priority\": \"enum: CRITICAL|HIGH|NORMAL|LOW\",\n  \"model_file\": \"string\",\n  \"parameters\": \"object\",\n  \"submitted_at\": \"datetime (ISO 8601)\",\n  \"started_at\": \"datetime (ISO 8601, nullable)\",\n  \"completed_at\": \"datetime (ISO 8601, nullable)\",\n  \"duration_seconds\": \"number (nullable)\",\n  \"cache_hit\": \"boolean\",\n  \"retry_count\": \"integer\",\n  \"error_message\": \"string (nullable)\"\n}\n</code></pre>"},{"location":"api/#simulationresult","title":"SimulationResult","text":"<pre><code>{\n  \"task_id\": \"string (UUID)\",\n  \"status\": \"enum: completed|failed\",\n  \"results\": \"object (key-value pairs of variable names to arrays)\",\n  \"metadata\": \"object\"\n}\n</code></pre>"},{"location":"api/#error-handling","title":"Error Handling","text":""},{"location":"api/#http-status-codes","title":"HTTP Status Codes","text":"Code Meaning Description 200 OK Request successful 201 Created Resource created successfully 202 Accepted Request accepted, processing 400 Bad Request Invalid request parameters 404 Not Found Resource not found 409 Conflict Resource conflict 422 Unprocessable Entity Validation error 500 Internal Server Error Server error 503 Service Unavailable Service temporarily unavailable"},{"location":"api/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  \"detail\": \"Descriptive error message\",\n  \"error_code\": \"VALIDATION_ERROR\",\n  \"field\": \"model_file\",\n  \"suggestion\": \"Provide absolute path to .plecs file\"\n}\n</code></pre>"},{"location":"api/#common-errors","title":"Common Errors","text":""},{"location":"api/#400-bad-request","title":"400 Bad Request","text":"<pre><code>{\n  \"detail\": \"Invalid priority value. Must be one of: CRITICAL, HIGH, NORMAL, LOW\",\n  \"error_code\": \"INVALID_PRIORITY\"\n}\n</code></pre>"},{"location":"api/#404-not-found","title":"404 Not Found","text":"<pre><code>{\n  \"detail\": \"Task ID not found: abc123-def456-ghi789\",\n  \"error_code\": \"TASK_NOT_FOUND\"\n}\n</code></pre>"},{"location":"api/#422-validation-error","title":"422 Validation Error","text":"<pre><code>{\n  \"detail\": [\n    {\n      \"loc\": [\"body\", \"model_file\"],\n      \"msg\": \"field required\",\n      \"type\": \"value_error.missing\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/#500-internal-server-error","title":"500 Internal Server Error","text":"<pre><code>{\n  \"detail\": \"PLECS XML-RPC connection failed\",\n  \"error_code\": \"PLECS_CONNECTION_ERROR\",\n  \"suggestion\": \"Ensure PLECS is running with XML-RPC enabled\"\n}\n</code></pre>"},{"location":"api/#examples","title":"Examples","text":""},{"location":"api/#python-client","title":"Python Client","text":"<pre><code>import requests\nimport time\nfrom typing import Dict, Any, List\n\nclass PyPLECSClient:\n    \"\"\"Simple Python client for PyPLECS REST API.\"\"\"\n\n    def __init__(self, base_url: str = \"http://localhost:8000\"):\n        self.base_url = base_url\n\n    def submit_simulation(\n        self,\n        model_file: str,\n        parameters: Dict[str, float],\n        priority: str = \"NORMAL\"\n    ) -&gt; str:\n        \"\"\"Submit simulation and return task ID.\"\"\"\n        response = requests.post(\n            f\"{self.base_url}/simulations\",\n            json={\n                \"model_file\": model_file,\n                \"parameters\": parameters,\n                \"priority\": priority\n            }\n        )\n        response.raise_for_status()\n        return response.json()[\"task_id\"]\n\n    def wait_for_result(\n        self,\n        task_id: str,\n        poll_interval: float = 1.0,\n        timeout: float = 300.0\n    ) -&gt; Dict[str, Any]:\n        \"\"\"Poll for result until completed or timeout.\"\"\"\n        start_time = time.time()\n\n        while True:\n            response = requests.get(\n                f\"{self.base_url}/simulations/{task_id}/result\"\n            )\n\n            if response.status_code == 200:\n                return response.json()[\"results\"]\n            elif response.status_code == 202:\n                # Still running\n                if time.time() - start_time &gt; timeout:\n                    raise TimeoutError(f\"Simulation timed out after {timeout}s\")\n                time.sleep(poll_interval)\n            else:\n                response.raise_for_status()\n\n    def simulate(\n        self,\n        model_file: str,\n        parameters: Dict[str, float],\n        **kwargs\n    ) -&gt; Dict[str, Any]:\n        \"\"\"Submit and wait for simulation result.\"\"\"\n        task_id = self.submit_simulation(model_file, parameters, **kwargs)\n        return self.wait_for_result(task_id)\n\n# Usage\nclient = PyPLECSClient()\nresults = client.simulate(\n    \"models/buck.plecs\",\n    {\"Vi\": 12.0, \"Vo\": 5.0}\n)\nprint(f\"Output voltage: {results['Vo']}\")\n</code></pre>"},{"location":"api/#matlab-client","title":"MATLAB Client","text":"<pre><code>% MATLAB HTTP client for PyPLECS API\nclassdef PyPLECSClient\n    properties\n        baseURL = 'http://localhost:8000';\n    end\n\n    methods\n        function task_id = submitSimulation(obj, model_file, parameters, priority)\n            if nargin &lt; 4\n                priority = 'NORMAL';\n            end\n\n            % Prepare request\n            request_data = struct(...\n                'model_file', model_file, ...\n                'parameters', parameters, ...\n                'priority', priority ...\n            );\n\n            % Submit via HTTP POST\n            options = weboptions('MediaType', 'application/json');\n            response = webwrite(...\n                [obj.baseURL '/simulations'], ...\n                request_data, ...\n                options ...\n            );\n\n            task_id = response.task_id;\n        end\n\n        function results = waitForResult(obj, task_id, timeout)\n            if nargin &lt; 3\n                timeout = 300;  % 5 minutes\n            end\n\n            start_time = tic;\n            while toc(start_time) &lt; timeout\n                try\n                    options = weboptions('MediaType', 'application/json');\n                    response = webread(...\n                        [obj.baseURL '/simulations/' task_id '/result'], ...\n                        options ...\n                    );\n\n                    if strcmp(response.status, 'completed')\n                        results = response.results;\n                        return;\n                    end\n                catch ME\n                    % Still running (202 status)\n                    pause(1);\n                end\n            end\n\n            error('Simulation timed out');\n        end\n\n        function results = simulate(obj, model_file, parameters, varargin)\n            task_id = obj.submitSimulation(model_file, parameters, varargin{:});\n            results = obj.waitForResult(task_id);\n        end\n    end\nend\n\n% Usage\nclient = PyPLECSClient();\nparams = struct('Vi', 12.0, 'Vo', 5.0);\nresults = client.simulate('models/buck.plecs', params);\nplot(results.t, results.Vo);\n</code></pre>"},{"location":"api/#javascript-client","title":"JavaScript Client","text":"<pre><code>// JavaScript/Node.js client for PyPLECS API\nclass PyPLECSClient {\n  constructor(baseURL = 'http://localhost:8000') {\n    this.baseURL = baseURL;\n  }\n\n  async submitSimulation(modelFile, parameters, priority = 'NORMAL') {\n    const response = await fetch(`${this.baseURL}/simulations`, {\n      method: 'POST',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        model_file: modelFile,\n        parameters: parameters,\n        priority: priority\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.task_id;\n  }\n\n  async waitForResult(taskId, pollInterval = 1000, timeout = 300000) {\n    const startTime = Date.now();\n\n    while (true) {\n      const response = await fetch(\n        `${this.baseURL}/simulations/${taskId}/result`\n      );\n\n      if (response.status === 200) {\n        const data = await response.json();\n        return data.results;\n      } else if (response.status === 202) {\n        // Still running\n        if (Date.now() - startTime &gt; timeout) {\n          throw new Error(`Timeout after ${timeout}ms`);\n        }\n        await new Promise(resolve =&gt; setTimeout(resolve, pollInterval));\n      } else {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n    }\n  }\n\n  async simulate(modelFile, parameters, options = {}) {\n    const taskId = await this.submitSimulation(\n      modelFile,\n      parameters,\n      options.priority\n    );\n    return await this.waitForResult(taskId, options.pollInterval, options.timeout);\n  }\n}\n\n// Usage\nconst client = new PyPLECSClient();\nconst results = await client.simulate(\n  'models/buck.plecs',\n  {Vi: 12.0, Vo: 5.0}\n);\nconsole.log('Output voltage:', results.Vo);\n</code></pre>"},{"location":"api/#rate-limiting","title":"Rate Limiting","text":""},{"location":"api/#current-version-v100_1","title":"Current Version (v1.0.0)","text":"<p>No rate limiting - API is open for local development.</p>"},{"location":"api/#planned-v1x_1","title":"Planned (v1.x)","text":"<p>Future versions may implement: - Per-IP rate limiting: 100 requests/minute - Authenticated users: 1000 requests/minute - Batch submissions: Count as single request</p> <p>Rate limit headers (future): <pre><code>X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 95\nX-RateLimit-Reset: 1643110800\n</code></pre></p>"},{"location":"api/#websocket-support","title":"WebSocket Support","text":"<p>For real-time updates, connect to WebSocket endpoint.</p> <p>Endpoint: <code>ws://localhost:8000/ws</code></p> <p>Example: <pre><code>const ws = new WebSocket('ws://localhost:8000/ws');\n\nws.onmessage = (event) =&gt; {\n  const update = JSON.parse(event.data);\n  console.log('Task update:', update);\n  // {task_id: \"abc123\", status: \"running\", progress: 0.5}\n};\n\nws.onopen = () =&gt; {\n  ws.send(JSON.stringify({\n    action: 'subscribe',\n    task_id: 'abc123-def456-ghi789'\n  }));\n};\n</code></pre></p> <p>See WEBGUI.md for Web GUI usage with WebSocket.</p>"},{"location":"api/#configuration","title":"Configuration","text":"<p>API server configuration in <code>config/default.yml</code>:</p> <pre><code>api:\n  host: \"0.0.0.0\"      # Bind to all interfaces\n  port: 8000           # API port\n  reload: false        # Auto-reload on code changes (dev only)\n  log_level: \"info\"    # debug, info, warning, error\n  cors_origins: [\"*\"]  # CORS allowed origins\n</code></pre> <p>Environment Variables: <pre><code>export PYPLECS_API_HOST=\"0.0.0.0\"\nexport PYPLECS_API_PORT=\"8080\"\nexport PYPLECS_API_LOG_LEVEL=\"debug\"\n\npyplecs-api\n</code></pre></p>"},{"location":"api/#support","title":"Support","text":"<ul> <li>Interactive Docs: http://localhost:8000/docs</li> <li>Alternative Docs: http://localhost:8000/redoc</li> <li>GitHub Issues: https://github.com/tinix84/pyplecs/issues</li> <li>Email: tinix84@gmail.com</li> </ul> <p>Ready to integrate PyPLECS into your workflow! \ud83d\ude80</p>"},{"location":"architecture/","title":"PyPLECS \u2014 Architecture","text":""},{"location":"architecture/#overview","title":"Overview","text":"<p>Python automation framework for PLECS power electronics simulation. Wraps PLECS' XML-RPC interface with batch execution, caching, REST API, and web dashboard.</p>"},{"location":"architecture/#two-layer-design","title":"Two-Layer Design","text":""},{"location":"architecture/#layer-1-core-pyplecspyplecspy","title":"Layer 1 \u2014 Core (<code>pyplecs/pyplecs.py</code>)","text":"<p>Thin XML-RPC wrapper around PLECS on port 1080.</p> <ul> <li><code>PlecsServer</code>: Context manager providing <code>simulate()</code> and <code>simulate_batch()</code>.</li> <li><code>PlecsApp</code>: Windows GUI automation via pywinauto.</li> </ul>"},{"location":"architecture/#layer-2-modern-features","title":"Layer 2 \u2014 Modern Features","text":"<p>Built on top of the core:</p> Module Purpose <code>orchestration/</code> Priority queue (CRITICAL=0, HIGH=1, NORMAL=2, LOW=3), batch grouping, retry logic via <code>SimulationOrchestrator</code> <code>cache/</code> SHA256 hash-based result deduplication with Parquet/HDF5/CSV backends via <code>SimulationCache</code> <code>api/</code> FastAPI REST endpoints (<code>create_api_app()</code>) <code>webgui/</code> Flask/Starlette dashboard with WebSocket updates <code>core/models.py</code> Pydantic data models (<code>SimulationRequest</code>, <code>SimulationResult</code>, etc.) <code>config.py</code> YAML config management; searches: cwd -&gt; parent dirs (3 levels) -&gt; package dir -&gt; <code>~/.pyplecs/config.yml</code> <code>cli/installer.py</code> Setup wizard that auto-detects PLECS installation"},{"location":"architecture/#key-patterns","title":"Key Patterns","text":"<pre><code># Single simulation\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate({\"Vi\": 12.0, \"Vo\": 5.0})\n\n# Batch simulation (3-5x faster, uses PLECS native parallel API)\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate_batch([{\"Vi\": 12.0}, {\"Vi\": 24.0}, {\"Vi\": 48.0}])\n</code></pre>"},{"location":"architecture/#data-flow","title":"Data Flow","text":"<pre><code>User/NTBEES2 -&gt; SimulationRequest (Pydantic)\n  -&gt; SimulationOrchestrator (priority queue)\n    -&gt; SimulationCache (SHA256 check)\n      -&gt; HIT:  return cached Parquet\n      -&gt; MISS: PlecsServer.simulate() via XML-RPC\n               -&gt; cache result -&gt; return\n</code></pre>"},{"location":"architecture/#project-structure","title":"Project Structure","text":"<pre><code>pyplecs/\n\u251c\u2500\u2500 CLAUDE.md                # Claude Code guidance (&lt;50 lines)\n\u251c\u2500\u2500 README.md                # Public-facing documentation\n\u251c\u2500\u2500 mkdocs.yml               # Documentation site config\n\u251c\u2500\u2500 pyproject.toml            # Package metadata\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 default.yml           # Default PLECS + orchestration config\n\u251c\u2500\u2500 .claude/\n\u2502   \u251c\u2500\u2500 settings.json         # Permissions + hooks (bootstrap-managed)\n\u2502   \u251c\u2500\u2500 settings.local.json   # User overrides (never auto-modified)\n\u2502   \u251c\u2500\u2500 skills.md             # Project-specific command reference\n\u2502   \u2514\u2500\u2500 hooks/                # Claude Code PostToolUse hooks (Python)\n\u2502       \u251c\u2500\u2500 post_commit_remind.py\n\u2502       \u251c\u2500\u2500 post_tool_regen_docs.py\n\u2502       \u2514\u2500\u2500 post_tool_build_mkdocs.py\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 index.md              # MkDocs landing page\n\u2502   \u251c\u2500\u2500 prd.md                # Product requirements\n\u2502   \u251c\u2500\u2500 architecture.md       # This file\n\u2502   \u251c\u2500\u2500 auto-context.md       # Generated project summary\n\u2502   \u251c\u2500\u2500 api.md                # REST API reference\n\u2502   \u251c\u2500\u2500 install.md            # Installation guide\n\u2502   \u251c\u2500\u2500 webgui.md             # Web dashboard guide\n\u2502   \u251c\u2500\u2500 migration.md          # v0.x -&gt; v1.0.0 upgrade\n\u2502   \u251c\u2500\u2500 changelog.md          # Version history\n\u2502   \u251c\u2500\u2500 contributing.md       # Development workflow\n\u2502   \u2514\u2500\u2500 sprints/              # Sprint plans\n\u251c\u2500\u2500 pyplecs/                  # Source package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 pyplecs.py            # Core XML-RPC wrapper\n\u2502   \u251c\u2500\u2500 config.py             # Configuration management\n\u2502   \u251c\u2500\u2500 core/models.py        # Pydantic data models\n\u2502   \u251c\u2500\u2500 orchestration/        # Priority queue, batch execution\n\u2502   \u251c\u2500\u2500 cache/                # SHA256 caching\n\u2502   \u251c\u2500\u2500 api/                  # FastAPI REST endpoints\n\u2502   \u251c\u2500\u2500 webgui/               # Flask/Starlette dashboard\n\u2502   \u251c\u2500\u2500 cli/                  # Setup wizard\n\u2502   \u251c\u2500\u2500 mcp/                  # MCP server (planned)\n\u2502   \u2514\u2500\u2500 optimizer/            # Optimization algorithms\n\u2514\u2500\u2500 tests/                    # Test suite\n</code></pre>"},{"location":"architecture/#hooks-system","title":"Hooks System","text":"<p>PyPLECS uses Claude Code PostToolUse hooks for development workflow automation. Because this is a native Windows project, hooks are local Python scripts (not centralized bash like WSL projects).</p> Hook Trigger Action <code>post_commit_remind.py</code> <code>git commit</code> Reminds to update docs if behavior changed <code>post_tool_regen_docs.py</code> <code>git push main</code> Checks doc staleness, suggests regeneration <code>post_tool_build_mkdocs.py</code> <code>git push</code> Reminds to rebuild mkdocs if <code>mkdocs.yml</code> exists <p>Hooks read JSON from stdin (Claude Code hook protocol) and output non-blocking reminders.</p>"},{"location":"architecture/#documentation-pipeline","title":"Documentation Pipeline","text":"<pre><code>docs/*.md --&gt; mkdocs build --&gt; site/\n                                |\n                    mkdocs gh-deploy --force\n                                |\n                                v\n                    gh-pages branch (GitHub)\n                                |\n                                v\n                    tinix84.github.io/pyplecs\n</code></pre>"},{"location":"architecture/#entry-points","title":"Entry Points","text":"Command Module <code>pyplecs-setup</code> <code>pyplecs.cli.installer:main</code> <code>pyplecs-gui</code> <code>pyplecs.webgui:run_app</code> <code>pyplecs-api</code> <code>pyplecs.api:main</code> <code>pyplecs-mcp</code> <code>pyplecs.mcp:main</code>"},{"location":"architecture/#v100-api-changes","title":"v1.0.0 API Changes","text":"<p>Removed: <code>generate_variant_plecs_file()</code>, <code>GenericConverterPlecsMdl</code>, <code>ModelVariant</code></p> <p>Deprecated -&gt; replacements: - <code>run_sim_with_datastream()</code> -&gt; <code>simulate()</code> - <code>load_modelvars()</code> -&gt; pass params to <code>simulate()</code></p>"},{"location":"architecture/#gotchas","title":"Gotchas","text":"<ol> <li>Port 1080 conflicts \u2014 change via <code>plecs.xmlrpc.port</code> in config</li> <li>Model files require absolute paths</li> <li>Missing pywinauto degrades gracefully (GUI automation disabled, XML-RPC still works)</li> <li>Batch size = CPU cores for best throughput</li> <li>Windows-only: GUI automation (<code>PlecsApp</code>), psutil process priority. Linux/macOS: XML-RPC only</li> </ol>"},{"location":"architecture/#integration-context","title":"Integration Context","text":"<p>PyPLECS is a sibling product in an ecosystem: - NTBEES2: Intelligence (optimization, design decisions, ML models) - PyPLECS: Execution (circuit simulation via PLECS) - PyMKF: Magnetic design (similar pattern)</p> <p>Integration point: TAS format (Topology Agnostic Structure) \u2014 standardized JSON for power electronics that NTBEES2 generates and PyPLECS consumes.</p>"},{"location":"auto-context/","title":"PyPLECS \u2014 Auto-Context","text":"<p>Auto-generated project summary. Last updated: 2026-02-24.</p>"},{"location":"auto-context/#project-type","title":"Project Type","text":"<p>Python package (v1.0.0) \u2014 PLECS power electronics simulation automation framework.</p>"},{"location":"auto-context/#package-structure","title":"Package Structure","text":"<pre><code>pyplecs/\n\u251c\u2500\u2500 __init__.py              # Package exports: PlecsServer, SimulationOrchestrator, etc.\n\u251c\u2500\u2500 pyplecs.py               # Core XML-RPC wrapper (PlecsServer, PlecsApp)\n\u251c\u2500\u2500 config.py                # YAML config management (search hierarchy)\n\u251c\u2500\u2500 core/\n\u2502   \u2514\u2500\u2500 models.py            # Pydantic models (SimulationRequest, SimulationResult)\n\u251c\u2500\u2500 orchestration/\n\u2502   \u2514\u2500\u2500 __init__.py          # Priority queue, batch execution, retry logic\n\u251c\u2500\u2500 cache/\n\u2502   \u2514\u2500\u2500 __init__.py          # SHA256 hash-based result caching (Parquet/HDF5/CSV)\n\u251c\u2500\u2500 api/\n\u2502   \u2514\u2500\u2500 __init__.py          # FastAPI REST endpoints (create_api_app)\n\u251c\u2500\u2500 webgui/\n\u2502   \u2514\u2500\u2500 webgui.py            # Flask/Starlette dashboard with WebSocket updates\n\u251c\u2500\u2500 cli/\n\u2502   \u2514\u2500\u2500 installer.py         # Setup wizard (pyplecs-setup)\n\u251c\u2500\u2500 mcp/                     # Model Context Protocol server (planned)\n\u251c\u2500\u2500 optimizer/               # Optimization algorithms\n\u2514\u2500\u2500 logging/                 # Structured logging\n</code></pre>"},{"location":"auto-context/#entry-points","title":"Entry Points","text":"Command Module Purpose <code>pyplecs-setup</code> <code>pyplecs.cli.installer:main</code> Setup wizard <code>pyplecs-gui</code> <code>pyplecs.webgui:run_app</code> Web dashboard <code>pyplecs-api</code> <code>pyplecs.api:main</code> REST API server <code>pyplecs-mcp</code> <code>pyplecs.mcp:main</code> MCP server (planned)"},{"location":"auto-context/#dependencies","title":"Dependencies","text":"<ul> <li>Runtime: xmlrpc (stdlib), pydantic, fastapi, uvicorn, flask, pyyaml, pandas, pyarrow</li> <li>Windows-only: pywinauto (GUI automation), psutil (process priority)</li> <li>Dev: pytest, black, isort, flake8, mypy</li> </ul>"},{"location":"auto-context/#configuration","title":"Configuration","text":"<ul> <li>Default config: <code>config/default.yml</code></li> <li>Search order: cwd -&gt; parent dirs (3 levels) -&gt; package dir -&gt; <code>~/.pyplecs/config.yml</code></li> <li>Key settings: PLECS path, XML-RPC port (1080), cache backend, concurrency (4)</li> </ul>"},{"location":"auto-context/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 test_basic.py                      # Legacy automation tests\n\u251c\u2500\u2500 test_plecs_server_refactored.py    # Core API tests\n\u251c\u2500\u2500 test_orchestrator_batch.py         # Orchestration tests\n\u251c\u2500\u2500 test_refactored.py                 # Modern architecture\n\u251c\u2500\u2500 test_webgui.py                     # Web GUI tests\n\u251c\u2500\u2500 test_installer.py                  # Setup wizard (CI-safe)\n\u251c\u2500\u2500 test_entrypoint.py                 # Entry points (CI-safe)\n\u251c\u2500\u2500 test_install_full.py               # Full installation (CI-safe)\n\u2514\u2500\u2500 benchmark_batch_speedup.py         # Performance benchmarks\n</code></pre> <p>CI runs only platform-independent tests (installer, entrypoint, install_full) on Ubuntu. PLECS XML-RPC tests require a running PLECS instance on Windows.</p>"},{"location":"auto-context/#integration-context","title":"Integration Context","text":"<ul> <li>Upstream: NTBEES2 sends TAS (Topology Agnostic Structure) JSON</li> <li>Downstream: PLECS via XML-RPC on port 1080</li> <li>Siblings: PyMKF (magnetics), PyGecko (open-source sim, planned)</li> </ul>"},{"location":"auto-context/#key-metrics","title":"Key Metrics","text":"Metric Value Batch speedup 3-5x (vs sequential) Cache speedup 100-1000x (repeated simulations) Concurrency 4 parallel simulations (configurable)"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to PyPLECS will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#100-2025-01-25","title":"[1.0.0] - 2025-01-25","text":""},{"location":"changelog/#major-release-complete-refactoring","title":"\ud83c\udf89 Major Release - Complete Refactoring","text":"<p>Performance: 5x faster batch simulations, 39% code reduction (4,081 \u2192 2,500 LOC)</p> <p>This release represents a fundamental architectural shift: from fighting against PLECS to working with PLECS. By eliminating redundant abstractions and leveraging PLECS native capabilities, we achieved dramatic simplifications and performance improvements.</p>"},{"location":"changelog/#added","title":"Added","text":""},{"location":"changelog/#core-features","title":"Core Features","text":"<ul> <li>\u2728 Batch parallel simulation API via <code>simulate_batch()</code> method</li> <li>Leverages PLECS native parallel execution (3-5x speedup on multi-core machines)</li> <li>Automatic load balancing across CPU cores</li> <li>Measured 4.01x speedup in benchmarks (16 simulations, 4-core machine)</li> <li>\u2728 Context manager support for <code>PlecsServer</code></li> <li><code>with PlecsServer(\"model.plecs\") as server:</code> pattern</li> <li>Automatic resource cleanup</li> <li>More Pythonic API design</li> </ul>"},{"location":"changelog/#rest-api","title":"REST API","text":"<ul> <li>\u2728 Batch submission endpoint <code>POST /simulations/batch</code></li> <li>Submit multiple simulations in one API call</li> <li>Orchestrator batches them for parallel execution</li> <li>Returns array of task IDs for tracking</li> <li>\u2728 Health check endpoint <code>GET /health</code></li> <li>\u2728 Automatic OpenAPI documentation at <code>/docs</code> and <code>/redoc</code></li> </ul>"},{"location":"changelog/#configuration","title":"Configuration","text":"<ul> <li>\u2728 Modular requirements files for flexible installation</li> <li><code>requirements-core.txt</code> - Essential dependencies only (~50 MB)</li> <li><code>requirements-gui.txt</code> - Windows GUI automation</li> <li><code>requirements-web.txt</code> - REST API and Web GUI</li> <li><code>requirements-cache.txt</code> - Advanced caching backends</li> <li><code>requirements-dev.txt</code> - Development tools</li> <li><code>requirements-opt.txt</code> - Optimization features (future)</li> <li>\u2728 Hot-reload configuration support for development</li> </ul>"},{"location":"changelog/#installers","title":"Installers","text":"<ul> <li>\u2728 Windows PowerShell installer with advanced features</li> <li>Non-interactive mode for CI/CD (<code>-NonInteractive</code> flag)</li> <li>Automatic PLECS path detection (registry + common paths)</li> <li>JSON status output for automation (<code>-JsonStatus</code>)</li> <li>Detailed logging (<code>-LogPath</code>)</li> <li>Exit codes for error handling (0-10)</li> <li>Virtual environment creation</li> <li>Installation verification</li> </ul>"},{"location":"changelog/#documentation","title":"Documentation","text":"<ul> <li>\u2728 Comprehensive migration guide (MIGRATION.md)</li> <li>Before/after code examples</li> <li>Breaking changes documentation</li> <li>Migration checklist</li> <li>Performance comparison</li> <li>FAQ section</li> <li>\u2728 Architecture documentation (CLAUDE.md)</li> <li>Design decisions and patterns</li> <li>Development commands</li> <li>Module organization</li> <li>Testing patterns</li> <li>Common gotchas</li> <li>\u2728 Legacy example (docs/examples/legacy_variant_generation.md)</li> <li>Historical reference for v0.x file-based approach</li> <li>Migration examples</li> </ul>"},{"location":"changelog/#testing","title":"Testing","text":"<ul> <li>\u2728 New test suite for refactored architecture</li> <li><code>tests/test_plecs_server_refactored.py</code> - Core batch API tests</li> <li><code>tests/test_orchestrator_batch.py</code> - Batch orchestration tests</li> <li><code>tests/benchmark_batch_speedup.py</code> - Performance validation</li> <li>\u2728 Benchmark suite validates 3-5x performance claims</li> <li>Automated performance regression testing</li> <li>Statistical significance validation</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":""},{"location":"changelog/#architecture-simplification","title":"Architecture Simplification","text":"<ul> <li>\ud83d\udd04 PlecsServer redesigned as thin wrapper (310 \u2192 ~150 lines, 51% reduction)</li> <li>Removed file-based variant generation logic</li> <li>Simplified to direct XML-RPC wrapper</li> <li>Added batch parallel API support</li> <li>Better error handling and logging</li> <li>\ud83d\udd04 Orchestrator simplified to use PLECS batch API</li> <li>Removed custom Python thread pool (redundant with PLECS parallelization)</li> <li>Batch task grouping for optimal performance</li> <li>Integrated with cache and retry logic</li> <li>448 \u2192 ~280 lines (37% reduction)</li> <li>\ud83d\udd04 Configuration system redesigned with dataclasses</li> <li>Type-safe configuration via Pydantic models</li> <li>Better validation and error messages</li> <li>Hot-reload support for development</li> </ul>"},{"location":"changelog/#api-improvements","title":"API Improvements","text":"<ul> <li>\ud83d\udd04 Renamed <code>run_sim_with_datastream()</code> \u2192 <code>simulate()</code></li> <li>Cleaner, more intuitive name</li> <li>Old method still works (deprecated) for backward compatibility</li> <li>\ud83d\udd04 Unified parameter passing</li> <li>Parameters passed directly to <code>simulate()</code> instead of separate <code>load_modelvars()</code> call</li> <li>Single-step API: <code>server.simulate({\"Vi\": 12.0})</code></li> <li>\ud83d\udd04 PlecsServer initialization simplified</li> <li>Old: <code>PlecsServer(sim_path=\"./\", sim_name=\"model.plecs\")</code></li> <li>New: <code>PlecsServer(\"model.plecs\")</code> or <code>PlecsServer(model_file=\"model.plecs\")</code></li> <li>Legacy API still supported (deprecated)</li> </ul>"},{"location":"changelog/#code-quality","title":"Code Quality","text":"<ul> <li>\ud83d\udd04 39% code reduction (1,581 lines deleted)</li> <li>pyplecs/pyplecs.py: 310 \u2192 ~150 lines (51% reduction)</li> <li>pyplecs/orchestration/: 448 \u2192 ~280 lines (37% reduction)</li> <li>Removed entire variant generation subsystem (~400 lines)</li> <li>Removed redundant abstractions and wrappers</li> <li>\ud83d\udd04 Improved test coverage</li> <li>Added batch API tests</li> <li>Added performance benchmarks</li> <li>Better edge case coverage</li> </ul>"},{"location":"changelog/#removed-breaking-changes","title":"Removed (Breaking Changes)","text":"<p>\u26a0\ufe0f These features were removed to eliminate redundancy with PLECS native capabilities</p>"},{"location":"changelog/#file-based-variant-generation-system","title":"File-Based Variant Generation System","text":"<ul> <li>\u274c <code>generate_variant_plecs_file()</code> - Created physical .plecs files (unnecessary)</li> <li>\u274c <code>generate_variant_plecs_mdl()</code> - Generated models in subdirectories (replaced by ModelVars)</li> <li>\u274c <code>GenericConverterPlecsMdl</code> class - Wrapper around model files (use <code>pathlib.Path</code> instead)</li> <li>\u274c <code>ModelVariant</code> class - Model variant representation (use <code>SimulationRequest</code> instead)</li> </ul> <p>Why removed: PLECS native <code>ModelVars</code> API already handles parameter variations without file generation. Creating physical files was slow, cluttered workspace, and provided no value over native PLECS functionality.</p> <p>Migration: See MIGRATION.md for code examples.</p>"},{"location":"changelog/#redundant-thread-pool","title":"Redundant Thread Pool","text":"<ul> <li>\u274c Python thread pool workers - Custom parallelization (redundant with PLECS batch API)</li> </ul> <p>Why removed: PLECS can parallelize simulations natively via batch API. Custom Python threading added complexity, overhead, and was slower than native PLECS parallelization.</p> <p>Migration: Use <code>simulate_batch()</code> instead of manual threading/multiprocessing.</p>"},{"location":"changelog/#old-directory-structure","title":"Old Directory Structure","text":"<ul> <li>\u274c <code>data/01/</code>, <code>data/02/</code> variant directories - No longer created</li> <li>\u274c Physical variant .plecs files - Generated in subdirectories (unnecessary)</li> </ul> <p>Cleanup: After migration, safely delete old <code>data/XX/</code> subdirectories.</p>"},{"location":"changelog/#deprecated-still-works-removed-in-v200","title":"Deprecated (Still Works, Removed in v2.0.0)","text":"<p>\u26a0\ufe0f These methods work in v1.0.0 but will be removed in v2.0.0</p>"},{"location":"changelog/#deprecated-methods","title":"Deprecated Methods","text":"<ul> <li> <p>\u26a0\ufe0f <code>run_sim_with_datastream()</code> \u2192 Use <code>simulate()</code> instead   <pre><code># Deprecated (still works)\nresult = server.run_sim_with_datastream({\"Vi\": 12.0})\n\n# Preferred\nresult = server.simulate({\"Vi\": 12.0})\n</code></pre></p> </li> <li> <p>\u26a0\ufe0f <code>load_modelvars()</code> \u2192 Pass parameters directly to <code>simulate()</code> <pre><code># Deprecated (still works)\nserver.load_modelvars({\"Vi\": 12.0})\nresult = server.run_sim_with_datastream()\n\n# Preferred\nresult = server.simulate({\"Vi\": 12.0})\n</code></pre></p> </li> <li> <p>\u26a0\ufe0f Legacy <code>PlecsServer(sim_path, sim_name)</code> API \u2192 Use <code>model_file</code> parameter   <pre><code># Deprecated (still works)\nserver = PlecsServer(sim_path=\"./models\", sim_name=\"buck.plecs\")\n\n# Preferred\nserver = PlecsServer(model_file=\"./models/buck.plecs\")\n</code></pre></p> </li> </ul> <p>Migration: Update your code now to avoid breaking changes in v2.0.0.</p>"},{"location":"changelog/#performance","title":"Performance","text":""},{"location":"changelog/#measured-improvements","title":"Measured Improvements","text":"<ul> <li>\ud83d\ude80 4.01x speedup on batch workloads (16 simulations, 4-core machine)</li> <li>Sequential (v0.x): 160s baseline</li> <li>Custom thread pool (v0.x): 80s (2x)</li> <li>PLECS batch API (v1.0.0): ~40s (4x)</li> <li>\ud83d\ude80 5-6x total speedup with 30% cache hit rate</li> <li>Batch parallel: 4x from PLECS native parallelization</li> <li>Cache hits: +1.5-2x from instant retrieval</li> <li>Combined: ~5.7x measured improvement</li> <li>\ud83d\udcbe 100-1000x cache speedup on repeated simulations (instant retrieval vs. recomputation)</li> <li>\ud83e\uddf9 39% code reduction (4,081 \u2192 2,500 LOC)</li> <li>Faster development, easier maintenance</li> <li>Less surface area for bugs</li> </ul>"},{"location":"changelog/#why-so-fast","title":"Why So Fast?","text":"<ol> <li>PLECS native parallelization optimized at C++ level</li> <li>Automatic load balancing across CPU cores</li> <li>No Python GIL overhead (parallelization happens in PLECS)</li> <li>No file I/O for variant generation</li> <li>Hash-based caching with Parquet storage</li> </ol>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>\ud83d\udc1b XML-RPC timeout handling improved</li> <li>\ud83d\udc1b Cache invalidation more reliable with better hashing</li> <li>\ud83d\udc1b Configuration file detection searches multiple locations</li> <li>\ud83d\udc1b Error messages more informative and actionable</li> <li>\ud83d\udc1b Windows path handling robust across different PLECS versions</li> <li>\ud83d\udc1b Memory leaks in long-running orchestrator sessions</li> </ul>"},{"location":"changelog/#security","title":"Security","text":"<ul> <li>\ud83d\udd12 Dependency updates to address known vulnerabilities</li> <li>\ud83d\udd12 Configuration validation prevents injection attacks</li> <li>\ud83d\udd12 Path sanitization for file operations</li> </ul>"},{"location":"changelog/#documentation_1","title":"Documentation","text":"<ul> <li>\ud83d\udcda Complete README.md rewrite with badges, use cases, performance data</li> <li>\ud83d\udcda Installation guide (INSTALL.md) for all platforms</li> <li>\ud83d\udcda Migration guide (MIGRATION.md) with code examples</li> <li>\ud83d\udcda Architecture overview (CLAUDE.md) for developers</li> <li>\ud83d\udcda Contributing guidelines (CONTRIBUTING.md)</li> <li>\ud83d\udcda This changelog (CHANGELOG.md)</li> <li>\ud83d\udcda Legacy example documenting old file-based approach</li> </ul>"},{"location":"changelog/#chores","title":"Chores","text":"<ul> <li>\ud83e\uddf9 Requirements modularization for flexible installation</li> <li>\ud83e\uddf9 Archived old documentation to docs/archive/</li> <li>\ud83e\uddf9 Deleted deprecated test file (test_webgui.py at root)</li> <li>\ud83e\uddf9 Version bump to 1.0.0 across all files</li> <li>\ud83e\uddf9 Git commit messages follow Conventional Commits</li> </ul>"},{"location":"changelog/#010-2024-08-20","title":"[0.1.0] - 2024-08-20","text":""},{"location":"changelog/#initial-modern-architecture-release","title":"Initial Modern Architecture Release","text":"<p>First release with modern architecture (orchestration, caching, web UI).</p>"},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>\u2728 Simulation orchestration with priority queue</li> <li>Priority levels: CRITICAL, HIGH, NORMAL, LOW</li> <li>Automatic retry logic with exponential backoff</li> <li>Task status tracking (queued \u2192 running \u2192 completed/failed)</li> <li>Event callbacks for monitoring</li> <li>\u2728 Hash-based caching system</li> <li>SHA256 hashing of model + parameters</li> <li>Parquet storage (fast), HDF5 (large data), CSV (compatibility)</li> <li>Configurable TTL (time to live)</li> <li>Cache statistics and management</li> <li>\u2728 REST API with FastAPI</li> <li><code>POST /simulations</code> - Submit simulation</li> <li><code>GET /simulations/{task_id}</code> - Check status</li> <li><code>GET /cache/stats</code> - Cache statistics</li> <li><code>GET /stats</code> - Orchestrator statistics</li> <li>Automatic OpenAPI documentation</li> <li>\u2728 Web GUI for monitoring</li> <li>Real-time simulation dashboard</li> <li>Queue status visualization</li> <li>Cache statistics</li> <li>WebSocket for live updates</li> <li>\u2728 Configuration management</li> <li>YAML-based configuration (config/default.yml)</li> <li>Environment variable overrides</li> <li>Multiple configuration locations support</li> <li>\u2728 Structured logging</li> <li>Console and file logging</li> <li>JSON log format option</li> <li>Log rotation and retention</li> <li>\u2728 Entry points (CLI commands)</li> <li><code>pyplecs-setup</code> - Setup wizard</li> <li><code>pyplecs-api</code> - Start REST API</li> <li><code>pyplecs-gui</code> - Start Web GUI</li> <li><code>pyplecs-mcp</code> - MCP server (placeholder)</li> </ul>"},{"location":"changelog/#legacy-features-from-v0x","title":"Legacy Features (from v0.x)","text":"<ul> <li>\u2705 PLECS XML-RPC client (PlecsServer class)</li> <li>Connect to PLECS XML-RPC server</li> <li>Execute simulations remotely</li> <li>Retrieve results as MATLAB .mat files</li> <li>\u2705 Windows GUI automation (PlecsApp class)</li> <li>Launch PLECS as high-priority process</li> <li>Control PLECS GUI via pywinauto</li> <li>Parallel GUI simulation support</li> <li>\u2705 File-based variant generation (deprecated in v1.0.0)</li> <li>GenericConverterPlecsMdl class</li> <li>generate_variant_plecs_file() function</li> <li>generate_variant_plecs_mdl() function</li> </ul>"},{"location":"changelog/#00x-2019-2024","title":"[0.0.x] - 2019-2024","text":""},{"location":"changelog/#initial-development-legacy","title":"Initial Development (Legacy)","text":"<p>Early versions focused on basic PLECS automation without modern architecture.</p>"},{"location":"changelog/#features","title":"Features","text":"<ul> <li>Basic XML-RPC communication with PLECS</li> <li>Simple GUI automation with pywinauto</li> <li>Manual file-based variant generation</li> <li>Sequential simulation execution</li> <li>No caching, no orchestration, no API</li> </ul>"},{"location":"changelog/#known-issues","title":"Known Issues","text":"<ul> <li>No parallelization (sequential only)</li> <li>Manual variant file management</li> <li>No caching (repeated simulations slow)</li> <li>Limited error handling</li> <li>Windows-only support</li> </ul>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#planned-for-v1x-stable","title":"Planned for v1.x (Stable)","text":"<ul> <li> PyPI package distribution</li> <li> Enhanced authentication for REST API (JWT, OAuth)</li> <li> Redis cache backend for distributed systems</li> <li> Improved Web GUI settings page with live config editing</li> <li> Docker images for easy deployment</li> <li> Helm charts for Kubernetes deployment</li> </ul>"},{"location":"changelog/#planned-for-v20-future","title":"Planned for v2.0 (Future)","text":"<p>Breaking Changes: - [ ] Remove deprecated methods   - <code>run_sim_with_datastream()</code> \u2192 use <code>simulate()</code>   - <code>load_modelvars()</code> \u2192 pass params to <code>simulate()</code>   - Legacy <code>PlecsServer(sim_path, sim_name)</code> API - [ ] Python 3.10+ minimum requirement - [ ] PLECS 4.5+ minimum requirement</p> <p>New Features: - [ ] Optimization engine   - Genetic algorithms (DEAP)   - Particle swarm optimization   - Bayesian optimization (Optuna)   - Multi-objective optimization - [ ] Model Context Protocol (MCP) server   - PLECS model inspection   - Component library management   - Version control integration - [ ] Distributed orchestration   - Multi-machine simulation distribution   - Centralized task queue (Redis)   - Worker node auto-scaling - [ ] Advanced analytics   - Simulation result analysis   - Automatic report generation   - Plotly dashboards - [ ] PLECS component library management   - Component versioning   - Dependency tracking   - Library synchronization</p>"},{"location":"changelog/#version-history","title":"Version History","text":"Version Date Type Changes 1.0.0 2025-01-25 Major 39% code reduction, 5x performance, batch API 0.1.0 2024-08-20 Minor Modern architecture: cache, API, web UI 0.0.x 2019-2024 Patch Legacy automation, no modern features"},{"location":"changelog/#upgrade-guides","title":"Upgrade Guides","text":"<ul> <li>v0.x \u2192 v1.0.0: See MIGRATION.md</li> <li>v1.x \u2192 v2.0 (future): Will be provided before v2.0.0 release</li> </ul>"},{"location":"changelog/#links","title":"Links","text":"<ul> <li>Repository: https://github.com/tinix84/pyplecs</li> <li>Issues: https://github.com/tinix84/pyplecs/issues</li> <li>Documentation: See README.md</li> <li>License: MIT</li> </ul>"},{"location":"changelog/#contributors","title":"Contributors","text":"<ul> <li>Riccardo Tinivella (@tinix84) - Creator and maintainer</li> <li>Claude Code - AI-assisted refactoring and documentation</li> </ul>"},{"location":"changelog/#notes","title":"Notes","text":""},{"location":"changelog/#versioning-strategy","title":"Versioning Strategy","text":"<p>PyPLECS follows Semantic Versioning: - MAJOR: Breaking changes (v1.0.0 \u2192 v2.0.0) - MINOR: New features, backward compatible (v1.0.0 \u2192 v1.1.0) - PATCH: Bug fixes, backward compatible (v1.0.0 \u2192 v1.0.1)</p>"},{"location":"changelog/#support-policy","title":"Support Policy","text":"<ul> <li>Latest major version: Full support (bug fixes, features, security)</li> <li>Previous major version: Security fixes only (6 months after new major release)</li> <li>Older versions: No support (upgrade recommended)</li> </ul>"},{"location":"changelog/#release-cycle","title":"Release Cycle","text":"<ul> <li>Patch releases: As needed (bug fixes)</li> <li>Minor releases: Every 2-3 months (new features)</li> <li>Major releases: Yearly or when breaking changes accumulate</li> </ul> <p>Last updated: 2025-01-25</p>"},{"location":"contributing/","title":"Contributing to PyPLECS","text":"<p>Thank you for considering contributing to PyPLECS! \ud83c\udf89</p> <p>This guide will help you get started with development, understand the codebase architecture, and contribute effectively.</p>"},{"location":"contributing/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Code of Conduct</li> <li>Getting Started</li> <li>Architecture Overview</li> <li>Development Workflow</li> <li>Testing</li> <li>Code Style</li> <li>Commit Messages</li> <li>Pull Request Process</li> <li>Release Process</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":""},{"location":"contributing/#our-pledge","title":"Our Pledge","text":"<p>We are committed to providing a welcoming and inclusive environment for all contributors, regardless of experience level, gender, gender identity and expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion, or nationality.</p>"},{"location":"contributing/#our-standards","title":"Our Standards","text":"<p>Positive behavior includes: - Using welcoming and inclusive language - Being respectful of differing viewpoints and experiences - Gracefully accepting constructive criticism - Focusing on what is best for the community - Showing empathy towards other community members</p> <p>Unacceptable behavior includes: - Trolling, insulting/derogatory comments, and personal or political attacks - Public or private harassment - Publishing others' private information without explicit permission - Other conduct which could reasonably be considered inappropriate</p>"},{"location":"contributing/#enforcement","title":"Enforcement","text":"<p>Violations of the code of conduct may be reported to tinix84@gmail.com. All complaints will be reviewed and investigated promptly and fairly.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#development-setup","title":"Development Setup","text":""},{"location":"contributing/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork on GitHub first, then clone your fork\ngit clone https://github.com/YOUR_USERNAME/pyplecs.git\ncd pyplecs\n\n# Add upstream remote\ngit remote add upstream https://github.com/tinix84/pyplecs.git\n</code></pre>"},{"location":"contributing/#2-create-virtual-environment","title":"2. Create Virtual Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\n\n# Activate\nsource venv/bin/activate  # Linux/macOS\nvenv\\Scripts\\activate     # Windows\n</code></pre>"},{"location":"contributing/#3-install-dependencies","title":"3. Install Dependencies","text":"<pre><code># Install package in editable mode\npip install -e .\n\n# Install development dependencies\npip install -r requirements-dev.txt\n\n# Install optional dependencies for full features\npip install -r requirements.txt\n</code></pre>"},{"location":"contributing/#4-verify-installation","title":"4. Verify Installation","text":"<pre><code># Run tests to verify setup\npytest\n\n# Check code formatting\nblack --check pyplecs/\nflake8 pyplecs/\n\n# Verify import works\npython -c \"import pyplecs; print(pyplecs.__version__)\"\n</code></pre>"},{"location":"contributing/#5-configure-plecs","title":"5. Configure PLECS","text":"<pre><code># Run setup wizard\npyplecs-setup\n\n# Or manually create config/default.yml\n</code></pre>"},{"location":"contributing/#architecture-overview","title":"Architecture Overview","text":"<p>PyPLECS is structured in two layers:</p>"},{"location":"contributing/#core-layer","title":"Core Layer","text":"<p><code>pyplecs/pyplecs.py</code> (~150 lines): - Thin wrapper around PLECS XML-RPC and GUI automation - <code>PlecsServer</code> class: XML-RPC client for remote simulations - <code>PlecsApp</code> class: Windows GUI automation via pywinauto - Batch parallel API: <code>simulate_batch()</code> leverages PLECS native parallelization</p> <p>Design principle: Minimal abstraction over PLECS. Let PLECS do what PLECS does best.</p>"},{"location":"contributing/#value-add-layer","title":"Value-Add Layer","text":"<p>Modern features that make PLECS scalable:</p> <p><code>orchestration/</code> (~280 lines): - <code>SimulationOrchestrator</code>: Task queue with priority levels - <code>TaskPriority</code>: CRITICAL/HIGH/NORMAL/LOW enum - <code>SimulationTask</code>: Task representation with status tracking - Batch execution grouping for optimal performance - Retry logic with exponential backoff</p> <p><code>cache/</code>: - <code>SimulationCache</code>: Hash-based result caching - <code>CacheBackend</code>: Storage abstraction (File/Redis/Memory) - SHA256 hashing of model + parameters - Parquet/HDF5/CSV storage formats</p> <p><code>api/</code>: - FastAPI REST endpoints - OpenAPI automatic documentation - WebSocket for real-time updates</p> <p><code>webgui/</code>: - Web monitoring interface - Jinja2 templates - Real-time dashboard</p> <p><code>core/models.py</code>: - Pydantic data models - <code>SimulationRequest</code>, <code>SimulationResult</code>, <code>CacheEntry</code></p>"},{"location":"contributing/#key-design-decisions","title":"Key Design Decisions","text":"<ol> <li>Thin core, rich value-add: Don't duplicate PLECS functionality</li> <li>Leverage native capabilities: Use PLECS batch API instead of Python threading</li> <li>Explicit is better than implicit: No magic, clear data flow</li> <li>Optional dependencies: Core works without web/cache/GUI features</li> </ol> <p>See CLAUDE.md for detailed architecture documentation.</p>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/#1-create-feature-branch","title":"1. Create Feature Branch","text":"<pre><code># Update your fork\ngit fetch upstream\ngit checkout dev\ngit merge upstream/dev\n\n# Create feature branch\ngit checkout -b feature/your-feature-name\n\n# Or for bug fixes\ngit checkout -b fix/issue-description\n</code></pre>"},{"location":"contributing/#2-make-changes","title":"2. Make Changes","text":"<p>Follow these guidelines:</p>"},{"location":"contributing/#code-organization","title":"Code Organization","text":"<ul> <li>Keep functions small and focused (single responsibility)</li> <li>Use type hints for all function signatures</li> <li>Add docstrings to public functions and classes</li> <li>Extract magic numbers to named constants</li> <li>Prefer composition over inheritance</li> </ul>"},{"location":"contributing/#error-handling","title":"Error Handling","text":"<ul> <li>Use specific exception types (not bare <code>except:</code>)</li> <li>Provide actionable error messages</li> <li>Log errors with context (structured logging)</li> <li>Fail fast, fail explicitly</li> </ul>"},{"location":"contributing/#performance","title":"Performance","text":"<ul> <li>Profile before optimizing</li> <li>Use built-in functions when possible</li> <li>Avoid premature optimization</li> <li>Document performance trade-offs</li> </ul>"},{"location":"contributing/#3-write-tests","title":"3. Write Tests","text":"<p>All new features must have tests. PyPLECS uses pytest.</p>"},{"location":"contributing/#test-structure","title":"Test Structure","text":"<pre><code># tests/test_feature.py\nimport pytest\nfrom pyplecs import PlecsServer\n\nclass TestFeature:\n    \"\"\"Test suite for new feature.\"\"\"\n\n    def test_basic_functionality(self):\n        \"\"\"Test basic use case.\"\"\"\n        # Arrange\n        server = PlecsServer(\"model.plecs\")\n\n        # Act\n        result = server.new_feature()\n\n        # Assert\n        assert result is not None\n\n    def test_edge_case_handling(self):\n        \"\"\"Test edge cases.\"\"\"\n        # Test boundary conditions, error cases\n        pass\n\n    @pytest.mark.parametrize(\"input,expected\", [\n        (1, 2),\n        (2, 4),\n        (3, 6),\n    ])\n    def test_parameterized(self, input, expected):\n        \"\"\"Test with multiple inputs.\"\"\"\n        assert input * 2 == expected\n</code></pre>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run specific test file\npytest tests/test_feature.py -v\n\n# Run specific test\npytest tests/test_feature.py::TestFeature::test_basic_functionality -v\n\n# Run with coverage\npytest --cov=pyplecs tests/\n\n# Run only fast tests (skip slow integration tests)\npytest -m \"not slow\"\n</code></pre>"},{"location":"contributing/#test-categories","title":"Test Categories","text":"<p>Mark tests appropriately:</p> <pre><code>@pytest.mark.slow  # Long-running tests\n@pytest.mark.integration  # Requires PLECS running\n@pytest.mark.unit  # Fast, isolated tests\n</code></pre>"},{"location":"contributing/#4-update-documentation","title":"4. Update Documentation","text":"<p>Update relevant documentation:</p> <ul> <li>Docstrings: All public functions/classes</li> <li>README.md: New features, usage examples</li> <li>MIGRATION.md: Breaking changes</li> <li>CHANGELOG.md: Version history</li> <li>CLAUDE.md: Architecture changes</li> </ul>"},{"location":"contributing/#5-format-and-lint","title":"5. Format and Lint","text":"<pre><code># Format code with black\nblack pyplecs/\n\n# Sort imports with isort\nisort pyplecs/\n\n# Lint with flake8\nflake8 pyplecs/\n\n# Type check with mypy\nmypy pyplecs/\n\n# Or run all checks\n./scripts/check_code.sh  # If available\n</code></pre>"},{"location":"contributing/#testing","title":"Testing","text":""},{"location":"contributing/#test-organization","title":"Test Organization","text":"<pre><code>tests/\n\u251c\u2500\u2500 test_basic.py              # Legacy tests (GUI automation, XML-RPC)\n\u251c\u2500\u2500 test_refactored.py         # Modern architecture tests\n\u251c\u2500\u2500 test_plecs_server_refactored.py  # Core batch API tests\n\u251c\u2500\u2500 test_orchestrator_batch.py  # Batch orchestration tests\n\u251c\u2500\u2500 benchmark_batch_speedup.py  # Performance benchmarks\n\u2514\u2500\u2500 fixtures/                  # Test data and fixtures\n</code></pre>"},{"location":"contributing/#test-requirements","title":"Test Requirements","text":"<p>Unit Tests: - Fast (&lt;100ms per test) - No external dependencies (PLECS, network) - Use mocks/stubs for isolation - High code coverage (&gt;80%)</p> <p>Integration Tests: - Require PLECS running with XML-RPC enabled - Test real simulation workflows - Mark with <code>@pytest.mark.integration</code> - Run in CI with PLECS mock/stub</p> <p>Benchmark Tests: - Validate performance claims (5x speedup, etc.) - Run manually before releases - Document results in CHANGELOG.md</p>"},{"location":"contributing/#writing-good-tests","title":"Writing Good Tests","text":""},{"location":"contributing/#do","title":"Do","text":"<ul> <li>\u2705 Test behavior, not implementation</li> <li>\u2705 Use descriptive test names</li> <li>\u2705 Follow Arrange-Act-Assert pattern</li> <li>\u2705 Test edge cases and error conditions</li> <li>\u2705 Keep tests independent (no shared state)</li> <li>\u2705 Use fixtures for common setup</li> </ul>"},{"location":"contributing/#dont","title":"Don't","text":"<ul> <li>\u274c Test private methods directly</li> <li>\u274c Use time.sleep() (use proper async testing)</li> <li>\u274c Hardcode paths or values</li> <li>\u274c Ignore flaky tests (fix or mark as known issue)</li> <li>\u274c Skip writing tests (required for PR approval)</li> </ul>"},{"location":"contributing/#code-coverage","title":"Code Coverage","text":"<p>Maintain &gt;80% test coverage:</p> <pre><code># Generate coverage report\npytest --cov=pyplecs --cov-report=html tests/\n\n# View in browser\nopen htmlcov/index.html  # macOS\nxdg-open htmlcov/index.html  # Linux\nstart htmlcov/index.html  # Windows\n</code></pre>"},{"location":"contributing/#code-style","title":"Code Style","text":"<p>PyPLECS follows PEP 8 with some customizations.</p>"},{"location":"contributing/#style-guidelines","title":"Style Guidelines","text":""},{"location":"contributing/#line-length","title":"Line Length","text":"<ul> <li>100 characters maximum (vs PEP 8's 79)</li> <li>Break long lines logically</li> </ul>"},{"location":"contributing/#formatting","title":"Formatting","text":"<pre><code># Use black for auto-formatting\nblack pyplecs/\n\n# Configuration in pyproject.toml\n[tool.black]\nline-length = 100\ntarget-version = ['py38']\n</code></pre>"},{"location":"contributing/#imports","title":"Imports","text":"<pre><code># Order: stdlib \u2192 third-party \u2192 local\nimport os\nfrom pathlib import Path\n\nimport numpy as np\nfrom fastapi import FastAPI\n\nfrom pyplecs import PlecsServer\nfrom pyplecs.cache import SimulationCache\n\n# Sort with isort\nisort pyplecs/\n</code></pre>"},{"location":"contributing/#type-hints","title":"Type Hints","text":"<pre><code>from typing import List, Dict, Optional, Union\nfrom pathlib import Path\n\ndef simulate_batch(\n    self,\n    params_list: List[Dict[str, float]],\n    timeout: Optional[int] = None\n) -&gt; List[Dict[str, np.ndarray]]:\n    \"\"\"\n    Run batch simulations with PLECS native parallelization.\n\n    Args:\n        params_list: List of parameter dictionaries\n        timeout: Optional timeout in seconds\n\n    Returns:\n        List of result dictionaries\n\n    Raises:\n        TimeoutError: If simulation exceeds timeout\n        ValueError: If params_list is empty\n    \"\"\"\n    if not params_list:\n        raise ValueError(\"params_list cannot be empty\")\n    # ...\n</code></pre>"},{"location":"contributing/#docstrings","title":"Docstrings","text":"<p>Use Google-style docstrings:</p> <pre><code>def function(arg1: str, arg2: int = 0) -&gt; bool:\n    \"\"\"\n    Short one-line summary.\n\n    Longer description if needed. Explain purpose, behavior,\n    and important details.\n\n    Args:\n        arg1: Description of arg1\n        arg2: Description of arg2 (default: 0)\n\n    Returns:\n        Description of return value\n\n    Raises:\n        ValueError: When arg2 is negative\n        TypeError: When arg1 is not a string\n\n    Example:\n        &gt;&gt;&gt; function(\"test\", 42)\n        True\n    \"\"\"\n    pass\n</code></pre>"},{"location":"contributing/#naming-conventions","title":"Naming Conventions","text":"<ul> <li><code>snake_case</code> for functions and variables</li> <li><code>PascalCase</code> for classes</li> <li><code>UPPER_CASE</code> for constants</li> <li><code>_leading_underscore</code> for private methods</li> <li>Descriptive names (avoid abbreviations unless common)</li> </ul> <pre><code># Good\ndef calculate_simulation_hash(model_file: Path, parameters: dict) -&gt; str:\n    MAX_RETRIES = 3\n    cache_key = f\"{model_file.stem}_{hash(parameters)}\"\n    return cache_key\n\n# Bad\ndef calc_sim_h(m: str, p: dict) -&gt; str:\n    r = 3\n    k = f\"{m}_{p}\"\n    return k\n</code></pre>"},{"location":"contributing/#commit-messages","title":"Commit Messages","text":"<p>Follow Conventional Commits:</p>"},{"location":"contributing/#format","title":"Format","text":"<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;\n</code></pre>"},{"location":"contributing/#types","title":"Types","text":"<ul> <li><code>feat</code>: New feature</li> <li><code>fix</code>: Bug fix</li> <li><code>docs</code>: Documentation only</li> <li><code>style</code>: Code style (formatting, no logic change)</li> <li><code>refactor</code>: Code refactoring (no feature/fix)</li> <li><code>perf</code>: Performance improvement</li> <li><code>test</code>: Add or update tests</li> <li><code>chore</code>: Maintenance (deps, build, etc.)</li> <li><code>ci</code>: CI/CD changes</li> </ul>"},{"location":"contributing/#examples","title":"Examples","text":"<pre><code># Feature\ngit commit -m \"feat(api): add batch simulation endpoint\n\nImplement POST /simulations/batch for submitting multiple\nsimulations in one API call. Orchestrator batches them for\nparallel execution via PLECS batch API.\n\nCloses #123\"\n\n# Bug fix\ngit commit -m \"fix(cache): resolve hash collision on similar parameters\n\nUse JSON canonical serialization instead of str() for hashing\nsimulation parameters to avoid hash collisions.\n\nFixes #456\"\n\n# Breaking change\ngit commit -m \"feat: remove file-based variant generation\n\nBREAKING CHANGE: generate_variant_plecs_mdl() and\nGenericConverterPlecsMdl removed. Use PLECS native ModelVars\ninstead.\n\nSee MIGRATION.md for upgrade instructions.\"\n\n# Documentation\ngit commit -m \"docs: add installation guide for macOS\n\nAdd macOS-specific installation instructions including\nPLECS path detection and configuration.\"\n\n# Chore\ngit commit -m \"chore: bump version to 1.0.0 and modularize requirements\n\n- Update version in setup.py, pyproject.toml\n- Split requirements.txt into modular files\n- Keep monolithic requirements.txt for backwards compatibility\"\n</code></pre>"},{"location":"contributing/#claude-attribution","title":"Claude Attribution","text":"<p>When AI tools assist with commits, include attribution:</p> <pre><code>git commit -m \"feat: add batch parallel simulation API\n\nImplement simulate_batch() method leveraging PLECS native\nparallelization for 3-5x speedup on multi-core machines.\n\nCo-Authored-By: Claude Sonnet 4.5 &lt;noreply@anthropic.com&gt;\"\n</code></pre>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":""},{"location":"contributing/#before-submitting-pr","title":"Before Submitting PR","text":""},{"location":"contributing/#checklist","title":"Checklist","text":"<ul> <li> Tests pass locally (<code>pytest</code>)</li> <li> Code follows style guidelines (<code>black</code>, <code>flake8</code>, <code>mypy</code>)</li> <li> Documentation updated (README, MIGRATION, CHANGELOG)</li> <li> Commit messages follow conventions</li> <li> No merge conflicts with <code>dev</code> branch</li> <li> Branch is up to date with <code>dev</code></li> <li> CHANGELOG.md updated (if user-facing change)</li> </ul>"},{"location":"contributing/#update-from-upstream","title":"Update from Upstream","text":"<pre><code>git fetch upstream\ngit rebase upstream/dev\n# Resolve conflicts if any\ngit push origin feature/your-feature --force-with-lease\n</code></pre>"},{"location":"contributing/#pr-template","title":"PR Template","text":"<p>Use this template when creating pull request:</p> <pre><code>## Description\n\nBrief description of what this PR does.\n\n## Motivation\n\nWhy is this change needed? What problem does it solve?\n\n## Changes\n\n- [ ] Feature A: Description\n- [ ] Fix B: Description\n- [ ] Docs C: Description\n\n## Type of Change\n\n- [ ] Bug fix (non-breaking change which fixes an issue)\n- [ ] New feature (non-breaking change which adds functionality)\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\n- [ ] Documentation update\n- [ ] Performance improvement\n\n## Testing\n\nHow was this tested? Include:\n- Test cases added\n- Manual testing performed\n- Platforms tested (Windows/macOS/Linux)\n- PLECS versions tested\n\n## Breaking Changes\n\nList any breaking changes and migration path.\n\n## Screenshots (if applicable)\n\nAdd screenshots for UI changes.\n\n## Related Issues\n\nCloses #123\nRelates to #456\n\n## Checklist\n\n- [ ] My code follows the style guidelines\n- [ ] I have performed a self-review\n- [ ] I have commented my code where needed\n- [ ] I have made corresponding documentation changes\n- [ ] My changes generate no new warnings\n- [ ] I have added tests that prove my fix/feature works\n- [ ] New and existing tests pass locally\n- [ ] CHANGELOG.md updated\n</code></pre>"},{"location":"contributing/#review-process","title":"Review Process","text":"<ol> <li>Automated checks: CI runs tests, linting, type checking</li> <li>Maintainer review: Code review by project maintainer</li> <li>Discussion: Address feedback, make changes</li> <li>Approval: Maintainer approves PR</li> <li>Merge: Maintainer merges to <code>dev</code> branch</li> </ol>"},{"location":"contributing/#after-pr-merged","title":"After PR Merged","text":"<pre><code># Update your fork\ngit checkout dev\ngit pull upstream dev\n\n# Delete feature branch\ngit branch -d feature/your-feature\ngit push origin --delete feature/your-feature\n</code></pre>"},{"location":"contributing/#release-process","title":"Release Process","text":"<p>For maintainers releasing new versions.</p>"},{"location":"contributing/#version-numbering","title":"Version Numbering","text":"<p>Follow Semantic Versioning: - MAJOR (v1.0.0 \u2192 v2.0.0): Breaking changes - MINOR (v1.0.0 \u2192 v1.1.0): New features, backward compatible - PATCH (v1.0.0 \u2192 v1.0.1): Bug fixes, backward compatible</p>"},{"location":"contributing/#release-checklist","title":"Release Checklist","text":"<ol> <li> <p>Update version numbers:    <pre><code># pyplecs/__init__.py\n__version__ = \"1.1.0\"\n</code></pre> <pre><code># setup.py\nversion='1.1.0'\n</code></pre> <pre><code># pyproject.toml\nversion = \"1.1.0\"\n</code></pre></p> </li> <li> <p>Update CHANGELOG.md:</p> </li> <li>Move changes from <code>[Unreleased]</code> to <code>[1.1.0] - YYYY-MM-DD</code></li> <li>Add summary of changes</li> <li> <p>Note breaking changes prominently</p> </li> <li> <p>Run full test suite:    <pre><code>pytest --cov=pyplecs tests/\npytest tests/benchmark_batch_speedup.py -v -s  # Benchmarks\n</code></pre></p> </li> <li> <p>Create release branch:    <pre><code>git checkout -b release/v1.1.0\n</code></pre></p> </li> <li> <p>Commit version bump:    <pre><code>git commit -am \"chore: bump version to 1.1.0\"\n</code></pre></p> </li> <li> <p>Tag release:    <pre><code>git tag -a v1.1.0 -m \"Release v1.1.0: &lt;brief summary&gt;\"\n</code></pre></p> </li> <li> <p>Push to GitHub:    <pre><code>git push origin release/v1.1.0\ngit push origin v1.1.0\n</code></pre></p> </li> <li> <p>Merge to main:    <pre><code>git checkout main\ngit merge release/v1.1.0\ngit push origin main\n</code></pre></p> </li> <li> <p>Create GitHub Release:</p> </li> <li>Go to https://github.com/tinix84/pyplecs/releases/new</li> <li>Select tag <code>v1.1.0</code></li> <li>Title: <code>PyPLECS v1.1.0</code></li> <li>Description: Copy from CHANGELOG.md</li> <li>Attach any binaries/installers</li> <li> <p>Publish release</p> </li> <li> <p>Publish to PyPI (when available):     <pre><code>python setup.py sdist bdist_wheel\ntwine upload dist/*\n</code></pre></p> </li> <li> <p>Announce release:</p> <ul> <li>GitHub Discussions</li> <li>Update README.md badges if needed</li> <li>Social media (LinkedIn, Twitter)</li> </ul> </li> </ol>"},{"location":"contributing/#questions","title":"Questions?","text":"<ul> <li>Issues: Open a GitHub issue for bugs or feature requests</li> <li>Discussions: Use GitHub Discussions for questions and ideas</li> <li>Email: tinix84@gmail.com for private inquiries</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the same MIT License that covers the project.</p> <p>Thank you for contributing to PyPLECS! \ud83d\ude80</p>"},{"location":"github_release/","title":"PyPLECS v1.0.0 - Major Refactoring Release","text":"<p>Release Date: January 25, 2025 Type: Major Release (Breaking Changes) Theme: \"Work WITH PLECS, not against it\"</p>"},{"location":"github_release/#whats-new","title":"\ud83c\udfaf What's New","text":"<p>PyPLECS v1.0.0 is a complete architectural overhaul that achieves:</p> <ul> <li>\ud83d\ude80 5x faster batch simulations via PLECS native parallelization</li> <li>\ud83d\udcc9 39% code reduction (4,081 \u2192 2,500 LOC)</li> <li>\ud83d\udcbe 100-1000x speedup on cache hits</li> <li>\ud83d\udcda 121 KB of professional documentation (10 comprehensive guides)</li> <li>\ud83e\uddf9 Simplified architecture by leveraging PLECS native capabilities</li> </ul> <p>The lesson: Sometimes the best code is the code you don't write.</p>"},{"location":"github_release/#performance","title":"\u26a1 Performance","text":""},{"location":"github_release/#benchmark-results-16-simulations-4-core-machine","title":"Benchmark Results (16 simulations, 4-core machine)","text":"Approach Time Speedup Sequential (v0.x) 160s 1x Custom thread pool (v0.x) 80s 2x PLECS batch API (v1.0.0) ~40s ~4x With 30% cache hit rate ~28s ~5.7x"},{"location":"github_release/#new-features","title":"\u2728 New Features","text":""},{"location":"github_release/#batch-parallel-api","title":"Batch Parallel API","text":"<pre><code>from pyplecs import PlecsServer\n\n# Single simulation\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate({\"Vi\": 12.0, \"Vo\": 5.0})\n\n# Batch parallel (3-5x faster!)\nwith PlecsServer(\"model.plecs\") as server:\n    params_list = [\n        {\"Vi\": 12.0, \"Vo\": 5.0},\n        {\"Vi\": 24.0, \"Vo\": 10.0},\n        {\"Vi\": 48.0, \"Vo\": 20.0}\n    ]\n    results = server.simulate_batch(params_list)\n    # PLECS parallelizes across CPU cores automatically\n</code></pre>"},{"location":"github_release/#simplified-architecture","title":"Simplified Architecture","text":"<ul> <li>PlecsServer: Thin wrapper (310 \u2192 ~150 lines, 51% reduction)</li> <li>Orchestrator: Batch-aware task grouping (~280 lines, 37% reduction)</li> <li>Context managers: Pythonic resource management</li> <li>Modular requirements: Install only what you need</li> </ul>"},{"location":"github_release/#breaking-changes","title":"\u26a0\ufe0f Breaking Changes","text":""},{"location":"github_release/#removed-features","title":"Removed Features","text":"<p>File-based variant generation system (entire subsystem): - \u274c <code>generate_variant_plecs_file()</code> function - \u274c <code>generate_variant_plecs_mdl()</code> function - \u274c <code>GenericConverterPlecsMdl</code> class - \u274c <code>ModelVariant</code> class</p> <p>Why removed: PLECS native <code>ModelVars</code> API already handles parameter variations. Creating physical files was unnecessary, slow, and cluttered the workspace.</p>"},{"location":"github_release/#migration-example","title":"Migration Example","text":"<pre><code># \u274c OLD (v0.x) - Don't use anymore\nbuck_mdl = GenericConverterPlecsMdl(\"model.plecs\")\nvariant_mdl = generate_variant_plecs_mdl(buck_mdl, \"01\", {\"Vi\": 250})\nserver = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\nresults = server.run_sim_with_datastream()\n\n# \u2705 NEW (v1.0.0) - Use this instead\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate({\"Vi\": 250})\n</code></pre> <p>See MIGRATION.md for complete upgrade guide.</p>"},{"location":"github_release/#documentation","title":"\ud83d\udcd6 Documentation","text":"<p>Created 10 comprehensive guides (121 KB total):</p> <ul> <li>\ud83d\udcd6 Installation Guide - Setup for all platforms</li> <li>\ud83d\udd04 Migration Guide - v0.x \u2192 v1.0.0 upgrade</li> <li>\ud83c\udf10 REST API Reference - Complete API docs</li> <li>\ud83d\udcbb Web GUI Guide - Web interface tutorial</li> <li>\ud83c\udfd7\ufe0f Architecture Overview - Design decisions</li> <li>\ud83d\udc65 Contributing Guide - Developer workflow</li> <li>\ud83d\udccb Changelog - Version history</li> </ul>"},{"location":"github_release/#installation","title":"\ud83d\udd27 Installation","text":""},{"location":"github_release/#new-installation","title":"New Installation","text":"<pre><code># Install from source\ngit clone https://github.com/tinix84/pyplecs.git\ncd pyplecs\ngit checkout v1.0.0\npip install -e .\n\n# Or with modular requirements\npip install -r requirements-core.txt        # Minimal\npip install -r requirements-web.txt         # + REST API &amp; Web GUI\npip install -r requirements-cache.txt       # + Advanced caching\n</code></pre>"},{"location":"github_release/#upgrade-from-v0x","title":"Upgrade from v0.x","text":"<pre><code>git pull origin main\npip install -e . -r requirements.txt\n# Read MIGRATION.md for code changes needed\n</code></pre>"},{"location":"github_release/#whats-included","title":"\ud83d\uddc2\ufe0f What's Included","text":""},{"location":"github_release/#code-changes","title":"Code Changes","text":"<ul> <li>6 commits on <code>dev</code> branch</li> <li>8 core files modified (641 insertions, 399 deletions)</li> <li>3 new test files for batch API validation</li> <li>3 deprecated files removed</li> </ul>"},{"location":"github_release/#documentation_1","title":"Documentation","text":"<ul> <li>10 markdown files (5,172 lines)</li> <li>30+ tested code examples</li> <li>Complete API reference with Python/MATLAB/JavaScript clients</li> <li>Comprehensive troubleshooting guides</li> </ul>"},{"location":"github_release/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8+</li> <li>PLECS 4.2+</li> <li>Modular dependencies for flexible installation</li> </ul>"},{"location":"github_release/#highlights","title":"\ud83c\udfaf Highlights","text":""},{"location":"github_release/#code-simplification","title":"Code Simplification","text":"<pre><code>pyplecs/pyplecs.py:        310 \u2192 ~150 lines (51% reduction)\npyplecs/orchestration/:    448 \u2192 ~280 lines (37% reduction)\nVariant generation:        ~400 \u2192 0 lines (100% removal)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTotal:                     4,081 \u2192 2,500 lines (39% reduction)\n</code></pre>"},{"location":"github_release/#performance-improvements","title":"Performance Improvements","text":"<ul> <li>Batch parallelization: PLECS native API is 3-5x faster</li> <li>Cache hits: Instant retrieval (100-1000x speedup)</li> <li>No file I/O: Direct parameter passing eliminates overhead</li> <li>Optimized orchestration: Smart task grouping by model file</li> </ul>"},{"location":"github_release/#platform-support","title":"Platform Support","text":"Platform XML-RPC GUI Automation Notes Windows \u2705 \u2705 Full support macOS \u2705 \u274c XML-RPC only Linux/WSL \u2705 \u274c XML-RPC only"},{"location":"github_release/#deprecations-still-work","title":"\ud83d\udcdd Deprecations (Still Work)","text":"<p>These features work in v1.0.0 but will be removed in v2.0.0:</p> <ul> <li>\u26a0\ufe0f <code>run_sim_with_datastream()</code> \u2192 Use <code>simulate()</code> instead</li> <li>\u26a0\ufe0f <code>load_modelvars()</code> \u2192 Pass parameters directly to <code>simulate()</code></li> <li>\u26a0\ufe0f <code>PlecsServer(sim_path, sim_name)</code> \u2192 Use <code>PlecsServer(model_file)</code></li> </ul> <p>Deprecation warnings guide users to new API.</p>"},{"location":"github_release/#roadmap","title":"\ud83d\uddfa\ufe0f Roadmap","text":""},{"location":"github_release/#v1x-planned","title":"v1.x (Planned)","text":"<ul> <li>PyPI package distribution</li> <li>Enhanced authentication for REST API</li> <li>Redis cache backend</li> <li>Improved Web GUI settings page</li> <li>Docker images</li> </ul>"},{"location":"github_release/#v20-future","title":"v2.0 (Future)","text":"<ul> <li>Remove deprecated methods</li> <li>Optimization engine (genetic algorithms, Bayesian)</li> <li>Model Context Protocol (MCP) server</li> <li>Distributed orchestration</li> </ul>"},{"location":"github_release/#contributors","title":"\ud83d\udc65 Contributors","text":"<ul> <li>Riccardo Tinivella (@tinix84) - Creator and maintainer</li> <li>Claude Code - AI-assisted refactoring and documentation</li> </ul>"},{"location":"github_release/#license","title":"\ud83d\udcc4 License","text":"<p>MIT \u00a9 2020-2025 Riccardo Tinivella</p>"},{"location":"github_release/#acknowledgments","title":"\ud83d\ude4f Acknowledgments","text":"<ul> <li>PLECS by Plexim for the excellent simulation software</li> <li>FastAPI for the modern Python web framework</li> <li>Claude Code for enabling this comprehensive refactoring</li> </ul>"},{"location":"github_release/#assets","title":"\ud83d\udce6 Assets","text":"<ul> <li>Source code (zip)</li> <li>Source code (tar.gz)</li> <li>Full documentation included in release</li> </ul>"},{"location":"github_release/#links","title":"\ud83d\udd17 Links","text":"<ul> <li>Documentation: README.md</li> <li>Migration Guide: MIGRATION.md</li> <li>Installation: INSTALL.md</li> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> </ul> <p>Happy simulating with PyPLECS v1.0.0! \ud83d\ude80</p> <p>The lesson we learned: By eliminating redundant abstractions and working WITH PLECS native capabilities instead of against them, we achieved dramatic improvements in performance, maintainability, and code clarity.</p> <p>Sometimes the best code is the code you don't write.</p>"},{"location":"install/","title":"PyPLECS Installation Guide","text":"<p>Complete installation instructions for all platforms and use cases.</p>"},{"location":"install/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Prerequisites</li> <li>Installation Methods</li> <li>Method 1: pip install (Recommended)</li> <li>Method 2: Development Install</li> <li>Method 3: Windows Installer</li> <li>Method 4: Minimal Install</li> <li>Configuration</li> <li>Verifying Installation</li> <li>Optional Dependencies</li> <li>Platform-Specific Notes</li> <li>Troubleshooting</li> </ul>"},{"location":"install/#prerequisites","title":"Prerequisites","text":""},{"location":"install/#required","title":"Required","text":"<ul> <li> <p>Python 3.8 or higher <pre><code>python --version  # Should show 3.8+\n</code></pre></p> </li> <li> <p>PLECS 4.2 or higher</p> </li> <li>Download from: https://www.plexim.com/download</li> <li>Supported versions: 4.2, 4.3, 4.4, 4.5, 4.6, 4.7+</li> <li>Note installation path (needed for configuration)</li> </ul>"},{"location":"install/#recommended","title":"Recommended","text":"<ul> <li>Virtual environment (to isolate dependencies)   <pre><code>python -m venv pyplecs-env\nsource pyplecs-env/bin/activate  # Linux/macOS\npyplecs-env\\Scripts\\activate     # Windows\n</code></pre></li> </ul>"},{"location":"install/#installation-methods","title":"Installation Methods","text":""},{"location":"install/#method-1-pip-install-recommended","title":"Method 1: pip install (Recommended)","text":"<p>Coming soon - PyPI package not yet published.</p> <p>For now, use Method 2 (Development Install).</p>"},{"location":"install/#method-2-development-install","title":"Method 2: Development Install","text":"<p>Install from source for the latest features:</p> <pre><code># Clone repository\ngit clone https://github.com/tinix84/pyplecs.git\ncd pyplecs\n\n# Install in editable mode\npip install -e .\n\n# Or install with all features\npip install -e . -r requirements.txt\n</code></pre> <p>Minimal install (core functionality only): <pre><code>pip install -e . -r requirements-core.txt\n</code></pre></p> <p>Platform-specific installs: <pre><code># Linux (no GUI automation)\npip install -e . -r requirements-core.txt -r requirements-web.txt\n\n# Windows (full features)\npip install -e . -r requirements.txt\n</code></pre></p>"},{"location":"install/#method-3-windows-installer","title":"Method 3: Windows Installer","text":"<p>PyPLECS provides an interactive Windows installer with automatic PLECS detection:</p>"},{"location":"install/#basic-installation","title":"Basic Installation","text":"<pre><code>:: Double-click or run from command prompt\ntools\\installers\\windows_installer.bat\n</code></pre> <p>The installer will: 1. Check for Python 3.8+ 2. Auto-detect PLECS installation 3. Install PyPLECS with dependencies 4. Create configuration file 5. Verify installation</p>"},{"location":"install/#non-interactive-installation-powershell","title":"Non-Interactive Installation (PowerShell)","text":"<p>For automated deployments:</p> <pre><code># Basic install with auto-detected PLECS\n.\\tools\\installers\\windows_installer.ps1 -NonInteractive\n\n# Advanced: specify PLECS path and options\n.\\tools\\installers\\windows_installer.ps1 `\n  -NonInteractive `\n  -PlecsPath \"C:\\Program Files\\Plexim\\PLECS 4.7 (64 bit)\\plecs.exe\" `\n  -VenvPath \"D:\\venvs\\pyplecs\" `\n  -InstallWeb `\n  -LogPath \"install.log\" `\n  -JsonStatus \"status.json\"\n</code></pre> <p>PowerShell Installer Options: - <code>-NonInteractive</code>: No prompts (for CI/CD) - <code>-PlecsPath</code>: Specify PLECS executable path - <code>-VenvPath</code>: Custom virtual environment location - <code>-InstallWeb</code>: Include web UI dependencies - <code>-InstallCache</code>: Include advanced caching dependencies - <code>-LogPath</code>: Save installation log to file - <code>-JsonStatus</code>: Output JSON status for automation</p> <p>Installer Features: - \u2705 Automatic PLECS path detection (registry + common paths) - \u2705 Virtual environment creation - \u2705 Dependency installation with progress tracking - \u2705 Configuration file generation - \u2705 Installation verification - \u2705 Detailed logging (console + file) - \u2705 JSON status output for automation - \u2705 Exit codes for error handling</p> <p>Exit Codes: - <code>0</code>: Success - <code>1</code>: Python version check failed - <code>2</code>: Git clone failed - <code>3</code>: Pip install failed - <code>4</code>: Configuration creation failed - <code>5</code>: Verification failed - <code>10</code>: User cancelled (interactive mode)</p> <p>Example CI/CD Usage: <pre><code># GitHub Actions\n- name: Install PyPLECS\n  run: |\n    .\\tools\\installers\\windows_installer.ps1 `\n      -NonInteractive `\n      -JsonStatus status.json\n\n    # Check exit code\n    if ($LASTEXITCODE -ne 0) { exit $LASTEXITCODE }\n\n    # Parse JSON status\n    $status = Get-Content status.json | ConvertFrom-Json\n    Write-Host \"Installed version: $($status.version)\"\n</code></pre></p>"},{"location":"install/#method-4-minimal-install","title":"Method 4: Minimal Install","text":"<p>For embedded systems, CI environments, or when disk space is limited:</p> <pre><code># Core functionality only (~50 MB)\npip install -r requirements-core.txt\n\n# Add what you need\npip install -r requirements-web.txt    # REST API + Web GUI\npip install -r requirements-cache.txt  # Advanced caching\npip install -r requirements-gui.txt    # Windows GUI automation\n</code></pre>"},{"location":"install/#configuration","title":"Configuration","text":""},{"location":"install/#option-1-setup-wizard-recommended","title":"Option 1: Setup Wizard (Recommended)","text":"<p>Run the interactive setup wizard:</p> <pre><code>pyplecs-setup\n</code></pre> <p>The wizard will: 1. Auto-detect PLECS installation 2. Test XML-RPC connection 3. Create <code>config/default.yml</code> 4. Verify configuration</p>"},{"location":"install/#option-2-manual-configuration","title":"Option 2: Manual Configuration","text":"<p>Create <code>config/default.yml</code> in your project directory:</p> <pre><code>plecs:\n  # PLECS executable path (auto-detected by setup wizard)\n  executable: \"C:/Program Files/Plexim/PLECS 4.7 (64 bit)/plecs.exe\"\n\n  # XML-RPC server settings\n  xmlrpc:\n    host: \"localhost\"\n    port: 1080\n    timeout: 300\n\n  # GUI automation (Windows only)\n  gui:\n    enabled: true\n    process_priority: \"high\"  # high, normal, low\n\norchestration:\n  # Match your CPU cores for optimal performance\n  max_concurrent_simulations: 4\n  batch_size: 4\n\n  # Retry logic\n  retry_attempts: 3\n  retry_delay: 5  # seconds\n\n  # Queue settings\n  queue_size: 1000\n  task_timeout: 3600  # 1 hour\n\ncache:\n  enabled: true\n  directory: \"./cache\"\n\n  # Storage format: parquet (fast), hdf5 (large data), csv (compatibility)\n  storage_format: \"parquet\"\n\n  # Compression: snappy (fast), gzip (small), lz4 (balanced), none\n  compression: \"snappy\"\n\n  # Time to live (seconds, 0 = infinite)\n  ttl_seconds: 86400  # 24 hours\n\n  # What to include in cache hash\n  include_files: true        # Hash model file content\n  include_parameters: true   # Hash simulation parameters\n  exclude_fields:            # Don't hash these fields\n    - \"timestamp\"\n    - \"run_id\"\n    - \"user\"\n\napi:\n  host: \"0.0.0.0\"\n  port: 8000\n  reload: false  # Set true for development\n  log_level: \"info\"\n\nwebgui:\n  host: \"0.0.0.0\"\n  port: 5000\n  debug: false\n\nlogging:\n  level: \"INFO\"  # DEBUG, INFO, WARNING, ERROR, CRITICAL\n  format: \"structured\"  # structured, json, text\n\n  # File logging\n  file:\n    enabled: true\n    path: \"logs/pyplecs.log\"\n    max_bytes: 10485760  # 10 MB\n    backup_count: 5\n\n  # Console logging\n  console:\n    enabled: true\n    colored: true\n</code></pre>"},{"location":"install/#configuration-file-locations","title":"Configuration File Locations","text":"<p>PyPLECS searches for <code>config/default.yml</code> in this order:</p> <ol> <li>Current working directory: <code>./config/default.yml</code></li> <li>Parent directories (up to 3 levels): <code>../config/default.yml</code></li> <li>Package directory: <code>&lt;pyplecs-install&gt;/config/default.yml</code></li> <li>User home: <code>~/.pyplecs/config.yml</code></li> </ol> <p>Create in custom location: <pre><code>mkdir -p ~/.pyplecs\ncp config/default.yml ~/.pyplecs/config.yml\n# Edit ~/.pyplecs/config.yml\n</code></pre></p>"},{"location":"install/#verifying-installation","title":"Verifying Installation","text":""},{"location":"install/#quick-check","title":"Quick Check","text":"<pre><code># Verify Python package installed\npython -c \"import pyplecs; print(pyplecs.__version__)\"\n# Expected output: 1.0.0\n\n# Check entry points\npyplecs-setup --help\npyplecs-gui --help\npyplecs-api --help\n</code></pre>"},{"location":"install/#full-verification","title":"Full Verification","text":"<pre><code># Run test suite\npytest tests/\n\n# Run specific verification tests\npytest tests/test_basic.py::BasicTestSuite::test04_pyplecs_xrpc_server -v\n\n# Test batch API (requires PLECS running)\npytest tests/test_plecs_server_refactored.py -v\n\n# Benchmark performance\npytest tests/benchmark_batch_speedup.py -v -s\n</code></pre>"},{"location":"install/#manual-verification","title":"Manual Verification","text":"<pre><code>from pyplecs import PlecsServer\nfrom pathlib import Path\n\n# Test XML-RPC connection\ntry:\n    with PlecsServer(\"test.plecs\") as server:\n        print(\"\u2705 PLECS XML-RPC connection successful\")\nexcept Exception as e:\n    print(f\"\u274c Connection failed: {e}\")\n\n# Test cache\nfrom pyplecs.cache import SimulationCache\ncache = SimulationCache()\nprint(f\"\u2705 Cache initialized: {cache.backend}\")\n\n# Test orchestrator\nfrom pyplecs.orchestration import SimulationOrchestrator\norchestrator = SimulationOrchestrator()\nprint(f\"\u2705 Orchestrator ready: {orchestrator.stats}\")\n</code></pre>"},{"location":"install/#optional-dependencies","title":"Optional Dependencies","text":""},{"location":"install/#web-ui-rest-api","title":"Web UI &amp; REST API","text":"<pre><code>pip install -r requirements-web.txt\n</code></pre> <p>Includes: - <code>fastapi</code> - REST API framework - <code>uvicorn</code> - ASGI server - <code>jinja2</code> - Web templates - <code>plotly</code> - Interactive plots - <code>websockets</code> - Real-time updates</p> <p>Verify: <pre><code>pyplecs-api &amp;\ncurl http://localhost:8000/health\n# Expected: {\"status\": \"healthy\"}\n</code></pre></p>"},{"location":"install/#advanced-caching","title":"Advanced Caching","text":"<pre><code>pip install -r requirements-cache.txt\n</code></pre> <p>Includes: - <code>pyarrow</code> - Parquet storage (10x faster than CSV) - <code>h5py</code> - HDF5 storage (for large datasets) - <code>redis</code> - Distributed cache backend - <code>diskcache</code> - Enhanced file caching</p> <p>Verify: <pre><code>from pyplecs.cache import SimulationCache\ncache = SimulationCache(storage_format=\"parquet\")\nprint(cache.backend)  # Should show parquet support\n</code></pre></p>"},{"location":"install/#gui-automation-windows-only","title":"GUI Automation (Windows Only)","text":"<pre><code>pip install -r requirements-gui.txt\n</code></pre> <p>Includes: - <code>pywinauto</code> - GUI automation - <code>psutil</code> - Process management</p> <p>Verify: <pre><code>from pyplecs import PlecsApp\napp = PlecsApp()\nprint(\"\u2705 GUI automation available\")\n</code></pre></p>"},{"location":"install/#development-tools","title":"Development Tools","text":"<pre><code>pip install -r requirements-dev.txt\n</code></pre> <p>Includes: - <code>pytest</code> - Testing framework - <code>black</code> - Code formatter - <code>flake8</code> - Linter - <code>mypy</code> - Type checker - <code>sphinx</code> - Documentation generator</p>"},{"location":"install/#optimization-future-feature","title":"Optimization (Future Feature)","text":"<pre><code>pip install -r requirements-opt.txt\n</code></pre> <p>Includes: - <code>optuna</code> - Bayesian optimization - <code>scikit-optimize</code> - Sequential model-based optimization - <code>deap</code> - Genetic algorithms</p>"},{"location":"install/#platform-specific-notes","title":"Platform-Specific Notes","text":""},{"location":"install/#windows","title":"Windows","text":"<p>Full support for all features including GUI automation.</p> <p>PLECS detection paths (automatic): 1. Registry: <code>HKLM\\SOFTWARE\\Plexim\\PLECS</code> 2. Common paths:    - <code>C:\\Program Files\\Plexim\\PLECS *\\plecs.exe</code>    - <code>C:\\Program Files (x86)\\Plexim\\PLECS *\\plecs.exe</code> 3. User-specified path in config</p> <p>Firewall: Allow Python/PLECS on port 1080 (XML-RPC)</p> <p>Installer: Use <code>tools\\installers\\windows_installer.bat</code> for guided setup</p>"},{"location":"install/#macos","title":"macOS","text":"<p>XML-RPC support only (no GUI automation).</p> <p>PLECS paths: - <code>/Applications/PLECS.app/Contents/MacOS/plecs</code> - Custom install location</p> <p>Installation: <pre><code># Install core + web\npip install -r requirements-core.txt -r requirements-web.txt\n\n# Configure PLECS path\npyplecs-setup\n</code></pre></p> <p>Note: <code>pywinauto</code> is Windows-only and not needed on macOS.</p>"},{"location":"install/#linux-wsl","title":"Linux / WSL","text":"<p>XML-RPC support only (no GUI automation).</p> <p>PLECS paths: - <code>/opt/plecs/plecs</code> - <code>/usr/local/bin/plecs</code> - Custom build location</p> <p>WSL Notes: - PLECS must run in Windows host or via Wine - Use Windows PLECS path in config - XML-RPC works cross-boundary</p> <p>Installation: <pre><code># Install core + web\npip install -r requirements-core.txt -r requirements-web.txt\n\n# Configure PLECS path (Windows path if using WSL)\npyplecs-setup\n</code></pre></p> <p>Wine (if running PLECS natively on Linux): <pre><code># Install Wine\nsudo apt install wine64\n\n# Run PLECS via Wine\nwine /path/to/plecs.exe &amp;\n\n# Configure PyPLECS to use Wine path\n</code></pre></p>"},{"location":"install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"install/#issue-plecs-executable-not-found","title":"Issue: \"PLECS executable not found\"","text":"<p>Solution: <pre><code># Run setup wizard\npyplecs-setup\n\n# Or manually edit config/default.yml\nplecs:\n  executable: \"/full/path/to/plecs.exe\"\n</code></pre></p> <p>Find PLECS: <pre><code># Windows\nwhere plecs\n\n# macOS\nwhich plecs\nmdfind -name plecs.app\n\n# Linux\nfind / -name plecs 2&gt;/dev/null\n</code></pre></p>"},{"location":"install/#issue-xml-rpc-connection-timeout","title":"Issue: \"XML-RPC connection timeout\"","text":"<p>Causes: 1. PLECS not running 2. XML-RPC server disabled in PLECS 3. Firewall blocking port 1080 4. Wrong host/port in config</p> <p>Solution: <pre><code># 1. Start PLECS manually\n# 2. Enable XML-RPC: PLECS &gt; Preferences &gt; Remote Control\n# 3. Check firewall allows port 1080\n# 4. Verify config/default.yml:\nplecs:\n  xmlrpc:\n    host: \"localhost\"\n    port: 1080\n</code></pre></p> <p>Test connection: <pre><code>import xmlrpc.client\nserver = xmlrpc.client.Server(\"http://localhost:1080/RPC2\")\nprint(server.system.listMethods())\n</code></pre></p>"},{"location":"install/#issue-module-not-found-pywinauto","title":"Issue: \"Module not found: pywinauto\"","text":"<p>Cause: Optional dependency not installed (Windows-only feature)</p> <p>Solution: <pre><code># On Windows\npip install -r requirements-gui.txt\n\n# On macOS/Linux (not needed)\n# GUI automation is Windows-only\n</code></pre></p>"},{"location":"install/#issue-permission-denied-cache","title":"Issue: \"Permission denied: ./cache\"","text":"<p>Cause: No write access to cache directory</p> <p>Solution: <pre><code># Check permissions\nls -la cache/\n\n# Fix permissions\nchmod 755 cache/\n\n# Or use different cache directory in config:\ncache:\n  directory: \"/tmp/pyplecs-cache\"\n</code></pre></p>"},{"location":"install/#issue-import-error-fastapi","title":"Issue: \"Import error: fastapi\"","text":"<p>Cause: Web dependencies not installed</p> <p>Solution: <pre><code>pip install -r requirements-web.txt\n</code></pre></p>"},{"location":"install/#issue-slow-simulations-no-speedup","title":"Issue: \"Slow simulations (no speedup)\"","text":"<p>Cause: Batch API not enabled or batch_size=1</p> <p>Solution: <pre><code># Edit config/default.yml\norchestration:\n  batch_size: 4  # Match CPU cores\n  max_concurrent_simulations: 4\n</code></pre></p> <p>Verify: <pre><code>from pyplecs import PlecsServer\nwith PlecsServer(\"model.plecs\") as server:\n    # This should be 3-5x faster than sequential\n    results = server.simulate_batch([\n        {\"Vi\": 12}, {\"Vi\": 24}, {\"Vi\": 48}\n    ])\n</code></pre></p>"},{"location":"install/#issue-cache-not-working","title":"Issue: \"Cache not working\"","text":"<p>Check: <pre><code>from pyplecs.cache import SimulationCache\ncache = SimulationCache()\nstats = cache.get_stats()\nprint(f\"Hits: {stats['hits']}, Misses: {stats['misses']}\")\n</code></pre></p> <p>Enable debug logging: <pre><code># config/default.yml\nlogging:\n  level: \"DEBUG\"\n</code></pre></p> <p>Clear cache: <pre><code># Via API\ncurl -X POST http://localhost:8000/cache/clear\n\n# Or manually\nrm -rf cache/*\n</code></pre></p>"},{"location":"install/#issue-tests-fail-with-no-plecs-running","title":"Issue: \"Tests fail with 'No PLECS running'\"","text":"<p>Solution: <pre><code># Start PLECS before running tests\n# Enable XML-RPC in PLECS preferences\n\n# Run tests with PLECS running\npytest tests/ -v\n</code></pre></p>"},{"location":"install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Read the Quick Start: README.md</li> <li>Explore the Web GUI: <code>pyplecs-gui</code> \u2192 http://localhost:5000</li> <li>Try the REST API: API.md</li> <li>Run examples: Check <code>tests/</code> for usage patterns</li> <li>Optimize performance: CLAUDE.md for architecture details</li> </ol>"},{"location":"install/#getting-help","title":"Getting Help","text":"<ul> <li>Documentation: See README.md</li> <li>GitHub Issues: https://github.com/tinix84/pyplecs/issues</li> <li>Email: tinix84@gmail.com</li> </ul>"},{"location":"install/#upgrading-from-v0x","title":"Upgrading from v0.x","text":"<p>If upgrading from PyPLECS v0.x, see MIGRATION.md for: - Breaking changes - Deprecated methods - Migration checklist - Performance improvements</p> <p>Installation complete! \ud83c\udf89 Ready to simulate faster with PyPLECS v1.0.0.</p>"},{"location":"migration/","title":"Migration Guide: PyPLECS v1.0.0","text":"<p>This guide helps you migrate from PyPLECS v0.x to v1.0.0, which eliminates redundancy by leveraging PLECS native XML-RPC capabilities.</p>"},{"location":"migration/#tldr-what-changed","title":"TL;DR - What Changed","text":"<p>Removed (39% code reduction): - \u274c File-based variant generation (<code>generate_variant_plecs_file</code>, <code>generate_variant_plecs_mdl</code>) - \u274c <code>GenericConverterPlecsMdl</code> class - \u274c <code>ModelVariant</code> class - \u274c Individual worker threads (replaced with PLECS batch API)</p> <p>Preserved (100% of value-add): - \u2705 Hash-based caching with Parquet storage - \u2705 REST API with OpenAPI docs - \u2705 Priority queueing, retry logic, callbacks - \u2705 Web GUI for visualization</p> <p>Improved: - \ud83d\ude80 5-6x faster batch execution via PLECS native parallel API - \ud83e\uddf9 Simpler, more maintainable codebase - \ud83d\udcca Better aligned with PLECS native capabilities</p>"},{"location":"migration/#breaking-changes","title":"Breaking Changes","text":""},{"location":"migration/#1-file-based-variant-generation-removed","title":"1. File-Based Variant Generation Removed","text":"<p>What was removed: The file-based variant generation system that created physical <code>.plecs</code> files in subdirectories.</p> <p>Why: PLECS native <code>ModelVars</code> handles parameter variations without file generation. Creating physical files is unnecessary and slow.</p> <p>Old approach (v0.x): <pre><code>from pyplecs import GenericConverterPlecsMdl, generate_variant_plecs_mdl, PlecsServer\n\n# Create model object\nbuck_mdl = GenericConverterPlecsMdl(\"simple_buck.plecs\")\n\n# Generate variant file in subdirectory\nModelVars = {\"Vi\": 250, \"Vo_ref\": 25}\nvariant_mdl = generate_variant_plecs_mdl(\n    src_mdl=buck_mdl,\n    variant_name='01',\n    variant_vars=ModelVars\n)\n\n# Run simulation on variant file\nplecs_server = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\nresults = plecs_server.run_sim_with_datastream()\n</code></pre></p> <p>New approach (v1.0.0): <pre><code>from pyplecs import PlecsServer\n\n# No file generation needed - use ModelVars directly\nwith PlecsServer(\"simple_buck.plecs\") as server:\n    ModelVars = {\"Vi\": 250, \"Vo_ref\": 25}\n    results = server.simulate(ModelVars)\n</code></pre></p> <p>Benefits: - \u2705 No file I/O overhead - \u2705 No subdirectories cluttering workspace - \u2705 Cleaner, more intuitive API - \u2705 Works exactly how PLECS intended</p>"},{"location":"migration/#2-genericconverterplecsmdl-class-removed","title":"2. GenericConverterPlecsMdl Class Removed","text":"<p>What was removed: The <code>GenericConverterPlecsMdl</code> class that parsed model files and stored metadata.</p> <p>Why: Only needed for file-based variant generation. PlecsServer can work directly with model paths.</p> <p>Old approach (v0.x): <pre><code>from pyplecs import GenericConverterPlecsMdl\n\n# Create model object\nmdl = GenericConverterPlecsMdl(\"converter.plecs\")\nprint(mdl.folder)          # Get folder path\nprint(mdl.model_name)      # Get model name\nprint(mdl.simulation_name) # Get filename\n</code></pre></p> <p>New approach (v1.0.0): <pre><code>from pathlib import Path\n\n# Use standard Path for file handling\nmodel_path = Path(\"converter.plecs\")\nprint(model_path.parent)  # Folder path\nprint(model_path.stem)    # Model name\nprint(model_path.name)    # Filename\n\n# Pass directly to PlecsServer\nwith PlecsServer(model_path) as server:\n    results = server.simulate({\"Vi\": 12.0})\n</code></pre></p> <p>Benefits: - \u2705 Use standard Python <code>pathlib</code> instead of custom class - \u2705 Less code to maintain - \u2705 More Pythonic</p>"},{"location":"migration/#3-batch-parallel-api-added-new-feature","title":"3. Batch Parallel API Added (New Feature)","text":"<p>What's new: PlecsServer now supports batch simulations via <code>simulate_batch()</code>, leveraging PLECS native parallelization.</p> <p>Why: PLECS can run multiple simulations in parallel natively. Using this is 3-5x faster than sequential execution.</p> <p>Old approach (v0.x - sequential): <pre><code>from pyplecs import PlecsServer\n\nserver = PlecsServer(sim_path=\"./\", sim_name=\"model.plecs\")\n\n# Sequential execution (slow)\nresults = []\nfor i in range(16):\n    params = {\"Vi\": float(i * 12)}\n    result = server.run_sim_with_datastream(params)\n    results.append(result)\n\n# Takes 16x simulation time\n</code></pre></p> <p>New approach (v1.0.0 - batch parallel): <pre><code>from pyplecs import PlecsServer\n\nwith PlecsServer(\"model.plecs\") as server:\n    # Prepare parameter list\n    params_list = [{\"Vi\": float(i * 12)} for i in range(16)]\n\n    # Batch execution - PLECS parallelizes internally\n    results = server.simulate_batch(params_list)\n    # Takes ~4x simulation time on 4-core machine (4x speedup!)\n</code></pre></p> <p>Benefits: - \ud83d\ude80 3-5x faster on multi-core machines - \u2705 PLECS handles parallelization (no Python threading overhead) - \u2705 Automatic load balancing across CPU cores</p>"},{"location":"migration/#4-orchestrator-now-uses-batch-api","title":"4. Orchestrator Now Uses Batch API","text":"<p>What changed: <code>SimulationOrchestrator</code> now batches tasks and submits to PLECS for parallel execution.</p> <p>Why: Better performance and simpler code by leveraging PLECS native capabilities.</p> <p>Old approach (v0.x): <pre><code>from pyplecs import SimulationOrchestrator, SimulationRequest\n\norchestrator = SimulationOrchestrator()\n\n# Register simulation runner function\ndef my_runner(request):\n    # Custom simulation logic\n    pass\n\norchestrator.register_simulation_runner(my_runner)\n</code></pre></p> <p>New approach (v1.0.0): <pre><code>from pyplecs import SimulationOrchestrator, PlecsServer\n\n# Create PLECS server\nserver = PlecsServer(\"model.plecs\")\n\n# Initialize orchestrator with server\norchestrator = SimulationOrchestrator(\n    plecs_server=server,\n    batch_size=4  # Match CPU cores for optimal performance\n)\n\n# Or set server later\norchestrator.set_plecs_server(server)\n</code></pre></p> <p>Benefits: - \u2705 Simpler initialization (no custom runner needed) - \u2705 Automatic batching for performance - \u2705 Better integration with cache and retry logic</p>"},{"location":"migration/#5-rest-api-batch-submission-endpoint-added","title":"5. REST API: Batch Submission Endpoint Added","text":"<p>What's new: New <code>/simulations/batch</code> endpoint for submitting multiple simulations at once.</p> <p>Example: <pre><code># Submit batch of simulations\ncurl -X POST http://localhost:8000/simulations/batch \\\n  -H \"Content-Type: application/json\" \\\n  -d '[\n    {\"model_file\": \"model.plecs\", \"parameters\": {\"Vi\": 12.0}, \"priority\": \"HIGH\"},\n    {\"model_file\": \"model.plecs\", \"parameters\": {\"Vi\": 24.0}, \"priority\": \"HIGH\"},\n    {\"model_file\": \"model.plecs\", \"parameters\": {\"Vi\": 48.0}, \"priority\": \"HIGH\"}\n  ]'\n\n# Response\n{\n  \"task_ids\": [\"abc-123\", \"def-456\", \"ghi-789\"],\n  \"batch_size\": 3,\n  \"message\": \"Submitted 3 simulations for batch execution\"\n}\n</code></pre></p> <p>Benefits: - \u2705 Submit multiple simulations in one API call - \u2705 Orchestrator batches them for parallel execution - \u2705 Track all tasks via returned task_ids</p>"},{"location":"migration/#deprecated-but-still-working","title":"Deprecated But Still Working","text":"<p>These features are deprecated but still functional in v1.0.0 for backward compatibility. They will be removed in v2.0.0.</p>"},{"location":"migration/#deprecated-methods","title":"Deprecated Methods","text":"<ol> <li> <p><code>run_sim_with_datastream()</code> \u2192 Use <code>simulate()</code> <pre><code># Deprecated (still works)\nresult = server.run_sim_with_datastream({\"Vi\": 12.0})\n\n# Preferred\nresult = server.simulate({\"Vi\": 12.0})\n</code></pre></p> </li> <li> <p><code>load_modelvars()</code> \u2192 Pass params directly to <code>simulate()</code> <pre><code># Deprecated (still works)\nserver.load_modelvars({\"Vi\": 12.0})\nresult = server.run_sim_with_datastream()\n\n# Preferred\nresult = server.simulate({\"Vi\": 12.0})\n</code></pre></p> </li> <li> <p>Legacy PlecsServer API (sim_path + sim_name) \u2192 Use model_file    <pre><code># Deprecated (still works)\nserver = PlecsServer(sim_path=\"./models\", sim_name=\"buck.plecs\")\n\n# Preferred\nserver = PlecsServer(model_file=\"./models/buck.plecs\")\n</code></pre></p> </li> </ol>"},{"location":"migration/#migration-checklist","title":"Migration Checklist","text":"<p>Use this checklist to migrate your code:</p>"},{"location":"migration/#phase-1-update-imports","title":"Phase 1: Update Imports","text":"<ul> <li> Remove imports of <code>GenericConverterPlecsMdl</code></li> <li> Remove imports of <code>generate_variant_plecs_file</code>, <code>generate_variant_plecs_mdl</code></li> <li> Remove imports of <code>ModelVariant</code></li> </ul>"},{"location":"migration/#phase-2-replace-file-based-variants","title":"Phase 2: Replace File-Based Variants","text":"<ul> <li> Find all uses of <code>generate_variant_plecs_mdl()</code></li> <li> Replace with direct <code>simulate(parameters=...)</code> calls</li> <li> Delete generated variant subdirectories</li> </ul>"},{"location":"migration/#phase-3-update-plecsserver-usage","title":"Phase 3: Update PlecsServer Usage","text":"<ul> <li> Replace <code>run_sim_with_datastream()</code> with <code>simulate()</code></li> <li> Remove <code>load_modelvars()</code> calls (pass params directly)</li> <li> Update to <code>model_file</code> parameter instead of <code>sim_path + sim_name</code></li> <li> Add context manager (<code>with PlecsServer(...) as server:</code>) where appropriate</li> </ul>"},{"location":"migration/#phase-4-optimize-with-batch-api","title":"Phase 4: Optimize with Batch API","text":"<ul> <li> Identify loops that run multiple simulations sequentially</li> <li> Replace with <code>simulate_batch(param_list)</code> for 3-5x speedup</li> <li> Consider increasing batch_size to match CPU cores</li> </ul>"},{"location":"migration/#phase-5-update-orchestrator","title":"Phase 5: Update Orchestrator","text":"<ul> <li> Replace <code>register_simulation_runner()</code> with <code>set_plecs_server()</code></li> <li> Update custom runner logic if needed</li> </ul>"},{"location":"migration/#phase-6-test","title":"Phase 6: Test","text":"<ul> <li> Run existing tests: <code>pytest tests/</code></li> <li> Run new tests: <code>pytest tests/test_*_refactored.py</code></li> <li> Run benchmarks: <code>pytest tests/benchmark_batch_speedup.py -v -s</code></li> <li> Verify cache still works as expected</li> </ul>"},{"location":"migration/#performance-comparison","title":"Performance Comparison","text":""},{"location":"migration/#before-v0x-sequential-with-file-generation","title":"Before (v0.x) - Sequential with File Generation","text":"<pre><code># 100 simulations, 10s each, single-threaded\n# Time: 100 \u00d7 10s = 1000s (16.7 minutes)\n\nfor i in range(100):\n    variant_mdl = generate_variant_plecs_mdl(mdl, f\"var_{i}\", {\"Vi\": float(i)})\n    server = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\n    results.append(server.run_sim_with_datastream())\n</code></pre>"},{"location":"migration/#after-v100-batch-parallel-with-cache","title":"After (v1.0.0) - Batch Parallel with Cache","text":"<pre><code># 100 simulations, 10s each, 4-core machine, 30% cache hit rate\n# Time: 30 hits \u00d7 0s + 70 misses \u00f7 4 cores \u00d7 10s = 175s (2.9 minutes)\n# Speedup: 5.7x faster!\n\nwith PlecsServer(\"model.plecs\") as server:\n    params_list = [{\"Vi\": float(i)} for i in range(100)]\n    results = server.simulate_batch(params_list)\n</code></pre>"},{"location":"migration/#faq","title":"FAQ","text":""},{"location":"migration/#q-will-my-old-code-break","title":"Q: Will my old code break?","text":"<p>A: No, if you use deprecated methods, they still work in v1.0.0. You'll see deprecation warnings. Update at your convenience before v2.0.0.</p>"},{"location":"migration/#q-do-i-have-to-use-batch-api","title":"Q: Do I have to use batch API?","text":"<p>A: No, single simulations via <code>simulate()</code> still work. But batch API provides significant speedup for multiple simulations.</p>"},{"location":"migration/#q-what-happened-to-my-variant-files","title":"Q: What happened to my variant files?","text":"<p>A: They're no longer created. Use ModelVars parameters instead. You can safely delete old variant subdirectories.</p>"},{"location":"migration/#q-is-caching-still-available","title":"Q: Is caching still available?","text":"<p>A: Yes! Caching is 100% preserved and works better than before with the batch API.</p>"},{"location":"migration/#q-how-do-i-get-the-5x-speedup","title":"Q: How do I get the 5x speedup?","text":"<p>A: Use <code>simulate_batch()</code> for multiple simulations. Ensure <code>batch_size</code> matches your CPU cores.</p>"},{"location":"migration/#q-can-i-still-use-pywinauto-features","title":"Q: Can I still use pywinauto features?","text":"<p>A: Yes, the <code>PlecsApp</code> class for GUI automation is unchanged.</p>"},{"location":"migration/#support","title":"Support","text":"<ul> <li>Issues: https://github.com/anthropics/pyplecs/issues</li> <li>Documentation: See <code>CLAUDE.md</code> for updated architecture details</li> <li>Examples: Check <code>tests/test_plecs_server_refactored.py</code> for usage patterns</li> </ul>"},{"location":"migration/#summary","title":"Summary","text":"<p>PyPLECS v1.0.0 simplifies the codebase by eliminating redundancy with PLECS native capabilities:</p> <p>\u2705 Removed: 39% of code (1,581 lines) \u2705 Preserved: 100% of value-add features (cache, API, orchestration) \u2705 Improved: 5-6x performance boost via PLECS batch parallel API</p> <p>The result: A simpler, faster, more maintainable framework that works with PLECS instead of around it.</p> <p>Happy simulating! \ud83d\ude80</p>"},{"location":"prd/","title":"PyPLECS - Product Requirements Document (Current State)","text":"<p>Version: 1.0.0 Date: 2026-02-01 Status: Active Development</p>"},{"location":"prd/#executive-summary","title":"Executive Summary","text":"<p>PyPLECS is a thin execution engine for PLECS power electronics simulation. It provides batch execution, caching, and API capabilities - designed to be called by NTBEES2 (the intelligent orchestrator) via TAS format.</p> <p>Core Principle: PyPLECS does execution. NTBEES2 does intelligence.</p> <pre><code>NTBEES2 (Intelligence)\n\u251c\u2500\u2500 Advanced optimization (MA, NSGA-II/III)\n\u251c\u2500\u2500 Surrogate ML models\n\u251c\u2500\u2500 Design decisions\n\u2502\n\u2514\u2500\u2500 TAS \u2500\u2500\u2192 PyPLECS (Execution)\n            \u251c\u2500\u2500 TAS \u2192 .plecs generation\n            \u251c\u2500\u2500 PLECS simulation\n            \u251c\u2500\u2500 Caching\n            \u251c\u2500\u2500 Parameter sweeps\n            \u2514\u2500\u2500 Waveform/KPI extraction\n                    \u2502\n                    \u25bc\n                 PLECS\n</code></pre>"},{"location":"prd/#problem-statement","title":"Problem Statement","text":""},{"location":"prd/#target-user","title":"Target User","text":"<p>NTBEES2 (primary) - needs a reliable PLECS execution backend Power Electronics Engineers (secondary) - direct usage for simple tasks</p>"},{"location":"prd/#pain-points","title":"Pain Points","text":"Pain Point Severity Solution PLECS has no Python API HIGH XML-RPC wrapper Repeated simulations waste time HIGH Hash-based caching No batch automation MEDIUM Batch execution Manual .plecs file creation MEDIUM TAS \u2192 .plecs generation"},{"location":"prd/#origin-story","title":"Origin Story","text":"<p>PyPLECS was created before PLECS had native batch simulation to: 1. Enable batch parameter sweeps via Python 2. Generate waveforms for component stress analysis 3. Feed simulation results into optimization loops (in NTBEES2)</p>"},{"location":"prd/#current-product-state-v100","title":"Current Product State (v1.0.0)","text":""},{"location":"prd/#what-works","title":"What Works","text":"Feature Status Description XML-RPC wrapper \u2705 Stable <code>PlecsServer</code> class Batch simulation \u2705 Stable <code>simulate_batch()</code> Hash-based caching \u2705 Stable SHA256, Parquet storage REST API \u2705 Stable FastAPI endpoints Web GUI \u2705 Stable Dashboard, queue monitoring Priority queue \u2705 Stable CRITICAL/HIGH/NORMAL/LOW"},{"location":"prd/#whats-missing-for-v20","title":"What's Missing (for v2.0)","text":"Feature Priority Notes TAS \u2192 .plecs generation \ud83d\udd34 Critical Can't receive NTBEES2 jobs Parameter sweeps \ud83d\udfe1 High Grid, Latin Hypercube Waveform extraction \ud83d\udfe1 High Stress analysis KPI calculation \ud83d\udfe1 High Efficiency, losses"},{"location":"prd/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      PyPLECS v1.0.0                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Entry Points                                               \u2502\n\u2502  pyplecs-setup | pyplecs-gui | pyplecs-api                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  API Layer              \u2502  Web Layer                        \u2502\n\u2502  REST (FastAPI)         \u2502  Dashboard (Jinja2)               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Orchestration          \u2502  Cache                            \u2502\n\u2502  Priority queue         \u2502  SHA256 hash                      \u2502\n\u2502  Batch executor         \u2502  Parquet storage                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Core: PlecsServer (XML-RPC wrapper)                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  PLECS (external, requires license)                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"prd/#integration-with-ntbees2","title":"Integration with NTBEES2","text":""},{"location":"prd/#tas-topology-agnostic-structure","title":"TAS (Topology Agnostic Structure)","text":"<p>TAS is the standardized JSON format for power electronics. NTBEES2 generates TAS, PyPLECS consumes it.</p> <p>TAS is source of truth \u2192 .plecs is generated artifact</p>"},{"location":"prd/#data-flow","title":"Data Flow","text":"<pre><code>NTBEES2                          PyPLECS                      PLECS\n   \u2502                                \u2502                           \u2502\n   \u2502  TAS (operating points,        \u2502                           \u2502\n   \u2502       parameters, model ref)   \u2502                           \u2502\n   \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502                           \u2502\n   \u2502                                \u2502  .plecs (generated)       \u2502\n   \u2502                                \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n   \u2502                                \u2502                           \u2502\n   \u2502                                \u2502  Simulation results       \u2502\n   \u2502                                \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n   \u2502  TAS outputs (waveforms,       \u2502                           \u2502\n   \u2502       KPIs, efficiency)        \u2502                           \u2502\n   \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n</code></pre>"},{"location":"prd/#tas-plecs-mapping","title":"TAS \u2194 .plecs Mapping","text":"Direction Scope Status TAS \u2192 .plecs Generate model from TAS topology + params \u274c Not implemented .plecs \u2192 TAS Extract component values \u274c Not MVP <p>PLECS owns: Layout, GUI elements, visual positioning TAS owns: Topology, parameters, operating points</p>"},{"location":"prd/#ecosystem-context","title":"Ecosystem Context","text":""},{"location":"prd/#sibling-products-same-pattern","title":"Sibling Products (Same Pattern)","text":"Product Domain Integration PyPLECS Circuit simulation TAS \u2194 .plecs PyMKF Magnetic design TAS \u2194 MAS (OpenMagnetics) PyGecko (planned) Open-source sim TAS \u2194 GeckoCIRCUITS PyLTspice (future) SPICE validation TAS \u2194 .asc <p>All are thin execution engines called by NTBEES2.</p>"},{"location":"prd/#what-ntbees2-provides","title":"What NTBEES2 Provides","text":"Capability Location Advanced optimization (MA, NSGA-II/III) NTBEES2 Surrogate ML models NTBEES2 Multi-tool orchestration NTBEES2 Design space exploration NTBEES2 Component database NTBEES2"},{"location":"prd/#what-pyplecs-provides","title":"What PyPLECS Provides","text":"Capability Location PLECS execution PyPLECS Caching PyPLECS Parameter sweeps (basic) PyPLECS Waveform extraction PyPLECS REST API PyPLECS"},{"location":"prd/#file-structure","title":"File Structure","text":"<pre><code>pyplecs/\n\u251c\u2500\u2500 __init__.py           # Package exports\n\u251c\u2500\u2500 pyplecs.py            # PlecsServer (XML-RPC)\n\u251c\u2500\u2500 config.py             # Configuration\n\u251c\u2500\u2500 core/models.py        # SimulationRequest, SimulationResult\n\u251c\u2500\u2500 orchestration/        # Priority queue, batch\n\u251c\u2500\u2500 cache/                # SHA256 caching\n\u251c\u2500\u2500 api/                  # REST endpoints\n\u251c\u2500\u2500 webgui/               # Dashboard\n\u251c\u2500\u2500 tas/                  # \u26a0\ufe0f MISSING - TAS integration\n\u2502   \u251c\u2500\u2500 parser.py         # Parse TAS JSON\n\u2502   \u251c\u2500\u2500 generator.py      # Generate .plecs from TAS\n\u2502   \u2514\u2500\u2500 extractor.py      # Extract results to TAS\n\u2514\u2500\u2500 sweeps/               # \u26a0\ufe0f MISSING - Parameter sweeps\n    \u251c\u2500\u2500 grid.py           # Grid search\n    \u2514\u2500\u2500 lhs.py            # Latin Hypercube\n</code></pre>"},{"location":"prd/#success-metrics","title":"Success Metrics","text":"Metric Current Target Cache speedup 100-1000x Maintain Batch speedup 3-5x Maintain TAS integration \u274c None \u2705 Full NTBEES2 compatibility \u274c \u2705"},{"location":"prd/#references","title":"References","text":"<ul> <li>PLECS Documentation</li> <li>TAS Sprint Planning</li> </ul>"},{"location":"prd_future/","title":"PyPLECS - Future Product Vision (v2.0)","text":"<p>Version: 2.0.0 (Target) Date: 2026-02-01 Target Release: Q3 2026 (6 months) Status: Planning</p>"},{"location":"prd_future/#vision-statement","title":"Vision Statement","text":"<p>PyPLECS 2.0 is a thin, fast, reliable execution engine for PLECS simulation. It receives TAS-formatted requests from NTBEES2, executes simulations, and returns results. Intelligence stays in NTBEES2.</p> <p>\"Run PLECS simulations at scale. Fast. Cached. API-driven.\"</p>"},{"location":"prd_future/#core-principle-thin-execution-engine","title":"Core Principle: Thin Execution Engine","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    NTBEES2 (Intelligence)                       \u2502\n\u2502                                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502  \u2502 Optimizer   \u2502  \u2502 Surrogate   \u2502  \u2502 Design      \u2502             \u2502\n\u2502  \u2502 MA, NSGA-II \u2502  \u2502 ML Models   \u2502  \u2502 Decisions   \u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502                                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502 TAS\n                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    PyPLECS 2.0 (Execution)                      \u2502\n\u2502                                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502  \u2502 TAS\u2192.plecs  \u2502  \u2502 Execution   \u2502  \u2502 Caching     \u2502             \u2502\n\u2502  \u2502 Generator   \u2502  \u2502 XML-RPC     \u2502  \u2502 SHA256      \u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502                                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502  \u2502 Param Sweep \u2502  \u2502 Waveform    \u2502  \u2502 REST API    \u2502             \u2502\n\u2502  \u2502 Grid, LHS   \u2502  \u2502 Extraction  \u2502  \u2502 Sync+Async  \u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502                                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n                        PLECS\n</code></pre>"},{"location":"prd_future/#scope-definition","title":"Scope Definition","text":""},{"location":"prd_future/#in-scope-pyplecs-20","title":"IN Scope (PyPLECS 2.0)","text":"Feature Description Priority TAS \u2192 .plecs generation Generate PLECS model from TAS \ud83d\udd34 Critical PLECS execution Run simulations via XML-RPC \u2705 Exists Caching Hash-based result caching \u2705 Exists Parameter sweeps Grid search, Latin Hypercube \ud83d\udfe1 High Waveform extraction Time-series outputs \ud83d\udfe1 High KPI calculation Efficiency, losses, stress \ud83d\udfe1 High REST API Sync + async modes \u2705 Exists Batch execution Parallel simulation \u2705 Exists"},{"location":"prd_future/#out-of-scope-lives-in-ntbees2","title":"OUT of Scope (Lives in NTBEES2)","text":"Feature Reason Advanced optimization (NSGA-II, MA) NTBEES2 orchestrates Surrogate ML models NTBEES2 owns training data Design decisions NTBEES2 has domain knowledge Component database NTBEES2 manages Multi-tool orchestration NTBEES2 coordinates"},{"location":"prd_future/#not-priority","title":"NOT Priority","text":"Feature Status MCP/LLM integration Defer to later .plecs \u2192 TAS parsing Not MVP Cloud execution Defer to later"},{"location":"prd_future/#feature-roadmap-6-months","title":"Feature Roadmap (6 Months)","text":""},{"location":"prd_future/#phase-1-tas-integration-months-1-2","title":"Phase 1: TAS Integration (Months 1-2)","text":"<p>Goal: PyPLECS can receive TAS, generate .plecs, run simulation, return TAS outputs</p>"},{"location":"prd_future/#task-11-tas-parser-1-week","title":"Task 1.1: TAS Parser (1 week)","text":"<p>Parse incoming TAS JSON to extract: - Operating points (parameters, frequency, duty cycle) - Component values to sweep - Output variables to capture</p> <pre><code># pyplecs/tas/parser.py\nclass TASParser:\n    def parse(self, tas_json: dict) -&gt; SimulationConfig:\n        \"\"\"Extract simulation config from TAS.\"\"\"\n        return SimulationConfig(\n            operating_points=self._parse_operating_points(tas_json),\n            parameters=self._parse_parameters(tas_json),\n            outputs=self._parse_outputs(tas_json),\n            plecs_model=tas_json[\"converter\"][\"plecs_model\"]\n        )\n</code></pre>"},{"location":"prd_future/#task-12-plecs-generator-2-weeks","title":"Task 1.2: .plecs Generator (2 weeks)","text":"<p>Generate PLECS XML from TAS topology + parameters:</p> <pre><code># pyplecs/tas/generator.py\nclass PlecsGenerator:\n    def generate(self, tas: TAS, template: Path) -&gt; Path:\n        \"\"\"Generate .plecs file from TAS.\n\n        Args:\n            tas: Parsed TAS document\n            template: Base .plecs template with topology\n\n        Returns:\n            Path to generated .plecs file with parameters applied\n        \"\"\"\n        # Load template\n        plecs_xml = self._load_template(template)\n\n        # Apply parameters from TAS\n        for param, value in tas.parameters.items():\n            plecs_xml = self._set_parameter(plecs_xml, param, value)\n\n        # Write generated file\n        output_path = self._get_output_path(tas)\n        self._write_plecs(plecs_xml, output_path)\n\n        return output_path\n</code></pre>"},{"location":"prd_future/#task-13-tas-result-formatter-1-week","title":"Task 1.3: TAS Result Formatter (1 week)","text":"<p>Format simulation results as TAS outputs:</p> <pre><code># pyplecs/tas/extractor.py\nclass TASExtractor:\n    def extract(self, sim_result: SimulationResult) -&gt; dict:\n        \"\"\"Format results as TAS outputs section.\"\"\"\n        return {\n            \"outputs\": {\n                \"operating_point_results\": [{\n                    \"operating_point\": sim_result.operating_point,\n                    \"waveforms\": self._extract_waveforms(sim_result),\n                    \"efficiency\": self._calculate_efficiency(sim_result),\n                    \"losses\": self._calculate_losses(sim_result),\n                    \"component_stress\": self._extract_stress(sim_result)\n                }]\n            }\n        }\n</code></pre>"},{"location":"prd_future/#task-14-api-endpoints-1-week","title":"Task 1.4: API Endpoints (1 week)","text":"<p>New TAS-aware endpoints:</p> <pre><code># Sync execution\nPOST /api/v1/simulate/tas\n{\n    \"tas\": { ... },\n    \"options\": {\n        \"cache\": true,\n        \"extract_waveforms\": [\"Vout\", \"Iout\"]\n    }\n}\n\n# Async execution\nPOST /api/v1/simulate/tas/async\n\u2192 Returns task_id\n\nGET /api/v1/simulate/tas/{task_id}\n\u2192 Returns status or results\n</code></pre> <p>Deliverable: NTBEES2 can send TAS, get TAS outputs back</p>"},{"location":"prd_future/#phase-2-parameter-sweeps-month-2-3","title":"Phase 2: Parameter Sweeps (Month 2-3)","text":"<p>Goal: Built-in support for parameter space exploration</p>"},{"location":"prd_future/#task-21-grid-search-1-week","title":"Task 2.1: Grid Search (1 week)","text":"<pre><code># pyplecs/sweeps/grid.py\nclass GridSweep:\n    def generate(self, space: dict) -&gt; List[dict]:\n        \"\"\"Generate grid of parameter combinations.\n\n        Args:\n            space: {\"Lout\": [10e-6, 50e-6, 100e-6], \"fsw\": [50e3, 100e3]}\n\n        Returns:\n            List of parameter dicts to simulate\n        \"\"\"\n        keys = list(space.keys())\n        values = list(space.values())\n\n        combinations = []\n        for combo in itertools.product(*values):\n            combinations.append(dict(zip(keys, combo)))\n\n        return combinations\n</code></pre>"},{"location":"prd_future/#task-22-latin-hypercube-sampling-1-week","title":"Task 2.2: Latin Hypercube Sampling (1 week)","text":"<pre><code># pyplecs/sweeps/lhs.py\nfrom scipy.stats import qmc\n\nclass LatinHypercubeSweep:\n    def generate(self, space: dict, n_samples: int) -&gt; List[dict]:\n        \"\"\"Generate Latin Hypercube samples.\n\n        Args:\n            space: {\"Lout\": (10e-6, 100e-6), \"fsw\": (50e3, 200e3)}\n            n_samples: Number of samples to generate\n\n        Returns:\n            List of parameter dicts\n        \"\"\"\n        sampler = qmc.LatinHypercube(d=len(space))\n        samples = sampler.random(n=n_samples)\n\n        # Scale to parameter ranges\n        return self._scale_samples(samples, space)\n</code></pre>"},{"location":"prd_future/#task-23-sweep-api-1-week","title":"Task 2.3: Sweep API (1 week)","text":"<pre><code>POST /api/v1/sweep\n{\n    \"tas\": { ... },\n    \"sweep\": {\n        \"type\": \"latin_hypercube\",\n        \"parameters\": {\n            \"Lout\": {\"min\": 10e-6, \"max\": 100e-6},\n            \"fsw\": {\"min\": 50e3, \"max\": 200e3}\n        },\n        \"n_samples\": 50\n    }\n}\n\n# Response\n{\n    \"task_id\": \"sweep-123\",\n    \"total_simulations\": 50,\n    \"cached\": 12,\n    \"to_run\": 38\n}\n</code></pre> <p>Deliverable: NTBEES2 can request parameter sweeps</p>"},{"location":"prd_future/#phase-3-waveform-kpi-extraction-month-3-4","title":"Phase 3: Waveform &amp; KPI Extraction (Month 3-4)","text":"<p>Goal: Extract useful metrics from simulation results</p>"},{"location":"prd_future/#task-31-waveform-capture-1-week","title":"Task 3.1: Waveform Capture (1 week)","text":"<pre><code># pyplecs/analysis/waveforms.py\nclass WaveformCapture:\n    def capture(self, sim_result, variables: List[str]) -&gt; dict:\n        \"\"\"Capture time-series waveforms.\n\n        Returns:\n            {\n                \"Vout\": {\"time\": [...], \"values\": [...]},\n                \"Iout\": {\"time\": [...], \"values\": [...]}\n            }\n        \"\"\"\n</code></pre>"},{"location":"prd_future/#task-32-stress-analysis-1-week","title":"Task 3.2: Stress Analysis (1 week)","text":"<p>Extract component stress metrics for sizing:</p> <pre><code># pyplecs/analysis/stress.py\nclass StressAnalyzer:\n    def analyze(self, waveforms: dict) -&gt; dict:\n        \"\"\"Calculate component stress metrics.\n\n        Returns:\n            {\n                \"Q_HS\": {\n                    \"Vds_peak\": 850,\n                    \"Vds_rms\": 420,\n                    \"Id_peak\": 25,\n                    \"Id_rms\": 12.5,\n                    \"dVdt_max\": 50e9\n                },\n                \"C_out\": {\n                    \"I_ripple_rms\": 8.2,\n                    \"V_ripple_pp\": 0.5\n                }\n            }\n        \"\"\"\n</code></pre>"},{"location":"prd_future/#task-33-efficiency-loss-calculation-1-week","title":"Task 3.3: Efficiency &amp; Loss Calculation (1 week)","text":"<pre><code># pyplecs/analysis/efficiency.py\nclass EfficiencyCalculator:\n    def calculate(self, sim_result) -&gt; dict:\n        \"\"\"Calculate efficiency and loss breakdown.\n\n        Returns:\n            {\n                \"efficiency\": 97.2,\n                \"losses\": {\n                    \"total\": 140,\n                    \"conduction\": 60,\n                    \"switching\": 50,\n                    \"magnetic\": 25,\n                    \"other\": 5\n                }\n            }\n        \"\"\"\n</code></pre> <p>Deliverable: Rich KPIs returned to NTBEES2</p>"},{"location":"prd_future/#phase-4-robustness-performance-month-4-5","title":"Phase 4: Robustness &amp; Performance (Month 4-5)","text":"<p>Goal: Production-ready reliability</p> Task Description Effort Error handling Graceful failure, retry logic 1 week Timeout management Kill stuck simulations 3 days Parallel execution Maximize PLECS batch API 1 week Cache optimization LRU eviction, size limits 1 week Logging &amp; monitoring Structured logs, metrics 1 week"},{"location":"prd_future/#phase-5-testing-documentation-month-5-6","title":"Phase 5: Testing &amp; Documentation (Month 5-6)","text":"Task Description Effort Unit tests 80% coverage target 2 weeks Integration tests TAS round-trip tests 1 week E2E tests with NTBEES2 Real workflow validation 1 week API documentation OpenAPI spec, examples 1 week User guide How to use with NTBEES2 3 days"},{"location":"prd_future/#architecture-v20","title":"Architecture (v2.0)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PyPLECS 2.0                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  API Layer                                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 REST API       \u2502  \u2502 Web GUI        \u2502  \u2502 CLI            \u2502   \u2502\n\u2502  \u2502 /simulate/tas  \u2502  \u2502 Dashboard      \u2502  \u2502 pyplecs-cli    \u2502   \u2502\n\u2502  \u2502 /sweep         \u2502  \u2502 Queue monitor  \u2502  \u2502                \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  TAS Integration Layer (NEW)                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 TAS Parser     \u2502  \u2502 .plecs Gen     \u2502  \u2502 TAS Formatter  \u2502   \u2502\n\u2502  \u2502 JSON \u2192 Config  \u2502  \u2502 Config \u2192 XML   \u2502  \u2502 Results \u2192 JSON \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Sweep Layer (NEW)                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                       \u2502\n\u2502  \u2502 Grid Search    \u2502  \u2502 Latin Hypercube\u2502                       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Analysis Layer (NEW)                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 Waveform       \u2502  \u2502 Stress         \u2502  \u2502 Efficiency     \u2502   \u2502\n\u2502  \u2502 Capture        \u2502  \u2502 Analysis       \u2502  \u2502 Calculator     \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Execution Layer (existing)                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 Orchestrator   \u2502  \u2502 Cache          \u2502  \u2502 Logging        \u2502   \u2502\n\u2502  \u2502 Queue, batch   \u2502  \u2502 SHA256         \u2502  \u2502 Structured     \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Core: PlecsServer (XML-RPC)                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  PLECS (external)                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"prd_future/#file-structure-v20","title":"File Structure (v2.0)","text":"<pre><code>pyplecs/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 pyplecs.py              # PlecsServer (existing)\n\u251c\u2500\u2500 config.py               # Configuration (existing)\n\u2502\n\u251c\u2500\u2500 tas/                    # NEW: TAS integration\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 parser.py           # TAS JSON \u2192 SimulationConfig\n\u2502   \u251c\u2500\u2500 generator.py        # SimulationConfig \u2192 .plecs XML\n\u2502   \u2514\u2500\u2500 extractor.py        # SimulationResult \u2192 TAS outputs\n\u2502\n\u251c\u2500\u2500 sweeps/                 # NEW: Parameter sweeps\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 grid.py             # Grid search\n\u2502   \u2514\u2500\u2500 lhs.py              # Latin Hypercube\n\u2502\n\u251c\u2500\u2500 analysis/               # NEW: Result analysis\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 waveforms.py        # Waveform capture\n\u2502   \u251c\u2500\u2500 stress.py           # Component stress\n\u2502   \u2514\u2500\u2500 efficiency.py       # Loss calculation\n\u2502\n\u251c\u2500\u2500 core/                   # Existing\n\u2502   \u2514\u2500\u2500 models.py\n\u251c\u2500\u2500 orchestration/          # Existing\n\u251c\u2500\u2500 cache/                  # Existing\n\u251c\u2500\u2500 api/                    # Existing (+ new endpoints)\n\u2514\u2500\u2500 webgui/                 # Existing\n</code></pre>"},{"location":"prd_future/#api-contract-with-ntbees2","title":"API Contract with NTBEES2","text":""},{"location":"prd_future/#request-simulate-with-tas","title":"Request: Simulate with TAS","text":"<pre><code>POST /api/v1/simulate/tas\n{\n    \"tas\": {\n        \"metadata\": {\"name\": \"Buck 5kW\"},\n        \"inputs\": {\n            \"operating_points\": [\n                {\n                    \"name\": \"nominal\",\n                    \"parameters\": {\"Vi\": 800, \"Vo\": 400, \"Po\": 5000}\n                }\n            ]\n        },\n        \"converter\": {\n            \"topology_type\": {\"family\": \"dc_dc\", \"type\": \"buck\"},\n            \"plecs_model\": \"templates/buck_5kw.plecs\"\n        }\n    },\n    \"options\": {\n        \"cache\": true,\n        \"outputs\": [\"Vout\", \"Iout\", \"Vsw\", \"Isw\"]\n    }\n}\n</code></pre>"},{"location":"prd_future/#response-tas-outputs","title":"Response: TAS Outputs","text":"<pre><code>{\n    \"status\": \"completed\",\n    \"cached\": false,\n    \"execution_time\": 2.3,\n    \"tas_outputs\": {\n        \"operating_point_results\": [\n            {\n                \"operating_point\": \"nominal\",\n                \"efficiency\": 97.2,\n                \"losses\": {\n                    \"total\": 140,\n                    \"by_component\": {\n                        \"Q_HS\": {\"conduction\": 35, \"switching\": 25},\n                        \"Q_LS\": {\"conduction\": 30, \"switching\": 20},\n                        \"L_out\": {\"core\": 15, \"winding\": 15}\n                    }\n                },\n                \"waveforms\": {\n                    \"Vout\": {\"time\": [...], \"values\": [...]},\n                    \"Iout\": {\"time\": [...], \"values\": [...]}\n                },\n                \"component_stress\": {\n                    \"Q_HS\": {\"Vds_peak\": 850, \"Id_rms\": 12.5},\n                    \"C_out\": {\"I_ripple_rms\": 8.2}\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"prd_future/#success-metrics","title":"Success Metrics","text":"Metric Current v2.0 Target TAS integration \u274c None \u2705 Full NTBEES2 E2E test \u274c \u2705 Pass Sweep support \u274c \u2705 Grid + LHS Waveform extraction \u274c \u2705 Any variable API response time N/A &lt;100ms (cached) Test coverage ~30% 80%"},{"location":"prd_future/#comparison-ecosystem-tools","title":"Comparison: Ecosystem Tools","text":"Tool Domain Input Output Intelligence PyPLECS PLECS sim TAS Waveforms, KPIs \u274c Thin PyMKF Magnetics MAS Core losses, thermal \u274c Thin PyGecko GeckoCIRCUITS TAS Waveforms, KPIs \u274c Thin NTBEES2 Orchestration Design spec Optimized design \u2705 Smart <p>All execution tools are thin. NTBEES2 is smart.</p>"},{"location":"prd_future/#timeline","title":"Timeline","text":"Phase Duration Deliverable Phase 1: TAS Integration 2 months TAS \u2192 simulate \u2192 TAS outputs Phase 2: Parameter Sweeps 1 month Grid + LHS support Phase 3: Waveform/KPI 1 month Stress, efficiency extraction Phase 4: Robustness 1 month Production-ready Phase 5: Testing/Docs 1 month 80% coverage, docs <p>Total: 6 months \u2192 Q3 2026</p>"},{"location":"prd_future/#references","title":"References","text":"<ul> <li>TAS Sprint Planning</li> <li>PLECS XML-RPC Documentation</li> <li>Latin Hypercube Sampling</li> </ul>"},{"location":"release_checklist/","title":"PyPLECS v1.0.0 Release Checklist","text":""},{"location":"release_checklist/#pre-release-completed","title":"\u2705 Pre-Release (COMPLETED)","text":"<ul> <li> All code committed</li> <li> Version numbers consistent (1.0.0)</li> <li> Documentation complete (121 KB, 10 files)</li> <li> CHANGELOG.md updated</li> <li> MIGRATION.md created</li> <li> RELEASE_NOTES created</li> <li> Internal links verified</li> <li> Code examples tested</li> <li> Git working tree clean</li> <li> Git tag created (v1.0.0)</li> </ul>"},{"location":"release_checklist/#release-steps-do-now","title":"\ud83d\udce4 Release Steps (DO NOW)","text":""},{"location":"release_checklist/#step-1-push-to-github","title":"Step 1: Push to GitHub","text":"<pre><code># Push dev branch with tag\ngit push origin dev v1.0.0\n\n# Expected output:\n# Enumerating objects: XX, done.\n# Writing objects: 100% (XX/XX), X.XX KiB | X.XX MiB/s, done.\n# To https://github.com/tinix84/pyplecs.git\n#  * [new tag]         v1.0.0 -&gt; v1.0.0\n</code></pre> <p>Verify: Check https://github.com/tinix84/pyplecs/tags for v1.0.0</p>"},{"location":"release_checklist/#step-2-merge-to-main-branch","title":"Step 2: Merge to Main Branch","text":"<pre><code># Switch to main branch\ngit checkout main\n\n# Merge dev branch\ngit merge dev\n\n# Expected output:\n# Updating XXXXXXX..a37287c\n# Fast-forward\n#  [list of changed files]\n\n# Push to main\ngit push origin main\n\n# Expected output:\n# To https://github.com/tinix84/pyplecs.git\n#    XXXXXXX..a37287c  main -&gt; main\n</code></pre> <p>Verify: Check https://github.com/tinix84/pyplecs/tree/main</p>"},{"location":"release_checklist/#step-3-create-github-release","title":"Step 3: Create GitHub Release","text":"<ol> <li>Go to GitHub Releases:</li> <li> <p>Navigate to: https://github.com/tinix84/pyplecs/releases/new</p> </li> <li> <p>Fill in Release Form:</p> </li> <li>Tag: Select <code>v1.0.0</code> from dropdown</li> <li>Release title: <code>PyPLECS v1.0.0 - Major Refactoring Release</code></li> <li> <p>Description: Copy content from <code>GITHUB_RELEASE.md</code></p> </li> <li> <p>Upload Assets (optional):</p> </li> <li>Source code is auto-attached</li> <li> <p>Can add Windows installer if desired</p> </li> <li> <p>Publish Options:</p> </li> <li> Set as the latest release</li> <li> Set as a pre-release (unchecked)</li> <li> <p> Create a discussion for this release (optional)</p> </li> <li> <p>Click \"Publish release\"</p> </li> </ol> <p>Verify: Check https://github.com/tinix84/pyplecs/releases/latest</p>"},{"location":"release_checklist/#step-4-update-readme-badges-if-needed","title":"Step 4: Update README Badges (if needed)","text":"<p>If you have CI/CD badges in README.md that reference the version:</p> <pre><code>[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/tinix84/pyplecs/releases/tag/v1.0.0)\n[![Release Date](https://img.shields.io/badge/release-2025--01--25-green.svg)](https://github.com/tinix84/pyplecs/releases/tag/v1.0.0)\n</code></pre>"},{"location":"release_checklist/#post-release-announcements-optional","title":"\ud83d\udce3 Post-Release Announcements (OPTIONAL)","text":""},{"location":"release_checklist/#github","title":"GitHub","text":"<ul> <li> Release published</li> <li> Discussion created for v1.0.0</li> <li> Pin release announcement in Discussions</li> </ul>"},{"location":"release_checklist/#social-media-if-desired","title":"Social Media (if desired)","text":"<p>LinkedIn Post (draft): <pre><code>\ud83d\ude80 PyPLECS v1.0.0 Released!\n\nI'm excited to announce PyPLECS v1.0.0 - a major refactoring that achieves:\n\n\u2022 5x faster batch simulations\n\u2022 39% code reduction (4,081 \u2192 2,500 LOC)\n\u2022 100-1000x speedup on cache hits\n\u2022 121 KB of professional documentation\n\nThe lesson: Sometimes the best code is the code you don't write.\n\nBy eliminating redundant abstractions and leveraging PLECS native capabilities, we achieved dramatic improvements in performance and maintainability.\n\nKey improvements:\n\u2705 Batch parallel API via PLECS native parallelization\n\u2705 Simplified architecture (51% reduction in core module)\n\u2705 Comprehensive migration guide for v0.x users\n\u2705 REST API with Python/MATLAB/JavaScript examples\n\nBreaking changes:\n\u274c Removed file-based variant generation (use PLECS ModelVars)\n\u274c Removed GenericConverterPlecsMdl class\n\n\ud83d\udcd6 Full documentation: [link]\n\ud83d\udd17 GitHub Release: [link]\n\ud83d\udcdd Migration Guide: [link]\n\n#Python #PowerElectronics #OpenSource #SoftwareEngineering #PLECS\n</code></pre></p> <p>Twitter/X Post (draft): <pre><code>\ud83d\ude80 PyPLECS v1.0.0 is here!\n\n\u2022 5x faster simulations\n\u2022 39% less code\n\u2022 Batch parallel API\n\u2022 Comprehensive docs\n\nThe lesson: Sometimes the best code is the code you don't write \u2702\ufe0f\n\nFull release: [link]\n\n#Python #PowerElectronics #OpenSource\n</code></pre></p>"},{"location":"release_checklist/#post-release-verification","title":"\ud83e\uddea Post-Release Verification","text":""},{"location":"release_checklist/#manual-testing","title":"Manual Testing","text":"<pre><code># 1. Clone fresh repository\ngit clone https://github.com/tinix84/pyplecs.git\ncd pyplecs\ngit checkout v1.0.0\n\n# 2. Install\npip install -e .\n\n# 3. Verify version\npython -c \"import pyplecs; print(pyplecs.__version__)\"\n# Expected: 1.0.0\n\n# 4. Run basic test\npython -c \"from pyplecs import PlecsServer; print('\u2705 Import successful')\"\n\n# 5. Run test suite (if PLECS available)\npytest tests/test_plecs_server_refactored.py -v\n</code></pre>"},{"location":"release_checklist/#documentation-links","title":"Documentation Links","text":"<p>Check that all documentation links work on GitHub:</p> <ul> <li> README.md renders correctly</li> <li> INSTALL.md renders correctly</li> <li> API.md renders correctly</li> <li> WEBGUI.md renders correctly</li> <li> MIGRATION.md renders correctly</li> <li> All internal links work</li> <li> Images/diagrams display (if any)</li> </ul>"},{"location":"release_checklist/#release-metrics","title":"\ud83d\udcca Release Metrics","text":"<p>Track these metrics post-release:</p>"},{"location":"release_checklist/#github_1","title":"GitHub","text":"<ul> <li>Stars: ___ (baseline before release)</li> <li>Forks: ___ (baseline before release)</li> <li>Watchers: ___ (baseline before release)</li> <li>Release downloads: Track over first week</li> <li>Issues opened: Note any migration issues</li> </ul>"},{"location":"release_checklist/#documentation","title":"Documentation","text":"<ul> <li>README views: Check Insights \u2192 Traffic</li> <li>Clone activity: Check Insights \u2192 Traffic \u2192 Git clones</li> </ul>"},{"location":"release_checklist/#known-issues-to-monitor","title":"\ud83d\udc1b Known Issues to Monitor","text":"<p>Watch for these potential issues:</p> <ol> <li>Migration challenges: Users struggling with v0.x \u2192 v1.0.0 upgrade</li> <li>Monitor GitHub Issues for migration questions</li> <li> <p>Update MIGRATION.md with FAQs as needed</p> </li> <li> <p>Platform-specific issues: macOS/Linux XML-RPC setup</p> </li> <li> <p>Ensure INSTALL.md covers all platforms</p> </li> <li> <p>Dependency conflicts: Requirements installation issues</p> </li> <li> <p>Monitor for pip install errors</p> </li> <li> <p>Documentation gaps: Missing information or unclear sections</p> </li> <li>Accept PRs for doc improvements</li> </ol>"},{"location":"release_checklist/#follow-up-tasks","title":"\ud83d\udcc5 Follow-Up Tasks","text":""},{"location":"release_checklist/#week-1-post-release","title":"Week 1 Post-Release","text":"<ul> <li> Monitor GitHub Issues for v1.0.0 bugs</li> <li> Respond to questions in Discussions</li> <li> Update documentation based on feedback</li> <li> Track download metrics</li> </ul>"},{"location":"release_checklist/#week-2-4-post-release","title":"Week 2-4 Post-Release","text":"<ul> <li> Consider hotfix release if critical bugs found</li> <li> Plan v1.1.0 features based on feedback</li> <li> Start article series (Phase 3)</li> </ul>"},{"location":"release_checklist/#success-criteria","title":"\ud83c\udfaf Success Criteria","text":"<p>Release is considered successful if:</p> <ul> <li> Tag v1.0.0 created and pushed</li> <li> GitHub Release published</li> <li> Main branch updated</li> <li> No critical bugs reported in first 48 hours</li> <li> Documentation accessible and clear</li> <li> Users can successfully migrate from v0.x</li> </ul>"},{"location":"release_checklist/#notes","title":"\ud83d\udcdd Notes","text":"<p>Tag Created: 2025-01-25 Branch: dev Commit: a37287c Status: Ready to push to GitHub</p> <p>Next Step: Run Step 1 (Push to GitHub)</p>"},{"location":"release_checklist/#rollback-plan-if-needed","title":"\ud83c\udd98 Rollback Plan (if needed)","text":"<p>If critical issues found immediately after release:</p> <pre><code># 1. Delete tag from GitHub\ngit push --delete origin v1.0.0\n\n# 2. Delete tag locally\ngit tag -d v1.0.0\n\n# 3. Delete GitHub Release\n# (Manually on GitHub web interface)\n\n# 4. Fix issues on dev branch\n\n# 5. Re-tag when ready\ngit tag -a v1.0.0 -m \"...\"\ngit push origin dev v1.0.0\n</code></pre> <p>Note: Only use rollback if CRITICAL bug found within first few hours.</p> <p>Created: 2025-01-25 By: Claude Code For: PyPLECS v1.0.0 Release</p>"},{"location":"release_notes_v1.0.0/","title":"PyPLECS v1.0.0 Release Notes","text":"<p>Release Date: 2025-01-25 Type: Major Release (Breaking Changes) Theme: \"Work WITH PLECS, not against it\"</p>"},{"location":"release_notes_v1.0.0/#executive-summary","title":"Executive Summary","text":"<p>PyPLECS v1.0.0 represents a fundamental architectural shift achieved through major refactoring:</p> <ul> <li>39% code reduction (4,081 \u2192 2,500 LOC)</li> <li>5x performance improvement on batch workloads</li> <li>Eliminated redundant abstractions by leveraging PLECS native capabilities</li> <li>Simplified architecture aligned with PLECS XML-RPC API</li> <li>Comprehensive documentation (121 KB, 10 files, 5,172 lines)</li> </ul> <p>This release proves: Sometimes the best code is the code you don't write.</p>"},{"location":"release_notes_v1.0.0/#whats-new","title":"What's New","text":""},{"location":"release_notes_v1.0.0/#performance","title":"\ud83d\ude80 Performance","text":"<ul> <li>4.01x measured speedup on batch simulations (16 sims, 4-core machine)</li> <li>5-6x total speedup with 30% cache hit rate</li> <li>100-1000x speedup on cache hits (instant retrieval)</li> <li>Batch parallel API leverages PLECS native parallelization</li> </ul>"},{"location":"release_notes_v1.0.0/#new-features","title":"\u2728 New Features","text":"<ul> <li><code>simulate_batch()</code> method for parallel execution</li> <li>Context manager support: <code>with PlecsServer(\"model.plecs\") as server:</code></li> <li>Batch orchestration with automatic task grouping</li> <li>Modular requirements files for flexible installation</li> <li>Advanced Windows PowerShell installer with CI/CD support</li> </ul>"},{"location":"release_notes_v1.0.0/#documentation","title":"\ud83d\udcda Documentation","text":"<p>Created 10 comprehensive documentation files (121 KB total):</p> <ol> <li>README.md (12 KB) - Professional project overview</li> <li>INSTALL.md (15 KB) - Complete installation guide</li> <li>API.md (21 KB) - REST API reference with examples</li> <li>WEBGUI.md (23 KB) - Web GUI user guide</li> <li>CHANGELOG.md (16 KB) - Version history</li> <li>CONTRIBUTING.md (18 KB) - Developer guidelines</li> <li>MIGRATION.md (11 KB) - v0.x \u2192 v1.0.0 upgrade guide</li> <li>CLAUDE.md (15 KB) - Architecture documentation</li> <li>legacy_variant_generation.md (5.9 KB) - Historical reference</li> <li>RELEASE_NOTES_v1.0.0.md (this file)</li> </ol>"},{"location":"release_notes_v1.0.0/#test-suite","title":"\ud83e\uddea Test Suite","text":"<ul> <li><code>test_plecs_server_refactored.py</code> - Core batch API tests</li> <li><code>test_orchestrator_batch.py</code> - Batch orchestration tests</li> <li><code>benchmark_batch_speedup.py</code> - Performance validation</li> </ul>"},{"location":"release_notes_v1.0.0/#breaking-changes","title":"Breaking Changes","text":""},{"location":"release_notes_v1.0.0/#removed-features","title":"\u274c Removed Features","text":"<p>File-Based Variant Generation System (entire subsystem removed): - <code>generate_variant_plecs_file()</code> function - <code>generate_variant_plecs_mdl()</code> function - <code>GenericConverterPlecsMdl</code> class - <code>ModelVariant</code> class - Physical <code>.plecs</code> file generation in <code>data/XX/</code> subdirectories</p> <p>Why removed: PLECS native <code>ModelVars</code> API already handles parameter variations without file generation. Creating physical files was slow, cluttered workspace, and provided no value.</p> <p>Migration: <pre><code># OLD (v0.x) - Don't use\nbuck_mdl = GenericConverterPlecsMdl(\"model.plecs\")\nvariant_mdl = generate_variant_plecs_mdl(buck_mdl, \"01\", {\"Vi\": 250})\n\n# NEW (v1.0.0) - Use this\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate({\"Vi\": 250})\n</code></pre></p> <p>Redundant Thread Pool: - Custom Python parallelization removed - PLECS native batch API is faster and simpler</p>"},{"location":"release_notes_v1.0.0/#deprecated-still-works","title":"Deprecated (Still Works)","text":"<p>These methods work in v1.0.0 but will be removed in v2.0.0:</p> <ol> <li><code>run_sim_with_datastream()</code> \u2192 Use <code>simulate()</code></li> <li><code>load_modelvars()</code> \u2192 Pass params directly to <code>simulate()</code></li> <li>Legacy <code>PlecsServer(sim_path, sim_name)</code> \u2192 Use <code>PlecsServer(model_file)</code></li> </ol> <p>Deprecation warnings guide users to new API.</p>"},{"location":"release_notes_v1.0.0/#architecture-changes","title":"Architecture Changes","text":""},{"location":"release_notes_v1.0.0/#before-v0x","title":"Before (v0.x)","text":"<pre><code>User Code\n    \u2193\nGenericConverterPlecsMdl (parse model)\n    \u2193\ngenerate_variant_plecs_mdl (create physical file)\n    \u2193\nPlecsServer (complex wrapper, 310 lines)\n    \u2193\nCustom thread pool (Python parallelization)\n    \u2193\nPLECS XML-RPC (sequential simulations)\n</code></pre>"},{"location":"release_notes_v1.0.0/#after-v100","title":"After (v1.0.0)","text":"<pre><code>User Code\n    \u2193\nPlecsServer (thin wrapper, ~150 lines)\n    \u2193\nsimulate_batch() (group parameters)\n    \u2193\nPLECS Native Batch API (parallel execution)\n</code></pre> <p>Result: Simpler, faster, more maintainable.</p>"},{"location":"release_notes_v1.0.0/#performance-comparison","title":"Performance Comparison","text":""},{"location":"release_notes_v1.0.0/#benchmark-16-simulations-4-core-machine","title":"Benchmark: 16 Simulations, 4-Core Machine","text":"Approach Time Speedup Code LOC Sequential (v0.x) 160s 1x 4,081 Custom thread pool (v0.x) 80s 2x 4,081 PLECS batch API (v1.0.0) ~40s ~4x 2,500 With 30% cache hits ~28s ~5.7x 2,500"},{"location":"release_notes_v1.0.0/#code-reduction-by-module","title":"Code Reduction by Module","text":"Module v0.x LOC v1.0.0 LOC Reduction pyplecs.py 310 ~150 51% orchestration/ 448 ~280 37% Variant generation ~400 0 100% Total 4,081 2,500 39%"},{"location":"release_notes_v1.0.0/#migration-guide","title":"Migration Guide","text":""},{"location":"release_notes_v1.0.0/#step-1-update-imports","title":"Step 1: Update Imports","text":"<pre><code># Remove old imports\nfrom pyplecs import (\n    GenericConverterPlecsMdl,  # REMOVED\n    generate_variant_plecs_mdl,  # REMOVED\n    ModelVariant  # REMOVED\n)\n\n# Keep these imports\nfrom pyplecs import PlecsServer, SimulationOrchestrator\n</code></pre>"},{"location":"release_notes_v1.0.0/#step-2-replace-file-based-variants","title":"Step 2: Replace File-Based Variants","text":"<pre><code># OLD (v0.x)\nbuck_mdl = GenericConverterPlecsMdl(\"simple_buck.plecs\")\nvariant_mdl = generate_variant_plecs_mdl(\n    src_mdl=buck_mdl,\n    variant_name='01',\n    variant_vars={\"Vi\": 250, \"Vo_ref\": 25}\n)\nplecs_server = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\nresults = plecs_server.run_sim_with_datastream()\n\n# NEW (v1.0.0)\nwith PlecsServer(\"simple_buck.plecs\") as server:\n    results = server.simulate({\"Vi\": 250, \"Vo_ref\": 25})\n</code></pre>"},{"location":"release_notes_v1.0.0/#step-3-use-batch-api-for-multiple-simulations","title":"Step 3: Use Batch API for Multiple Simulations","text":"<pre><code># OLD (v0.x) - Sequential\nresults = []\nfor i, voltage in enumerate([12, 24, 48]):\n    variant_mdl = generate_variant_plecs_mdl(mdl, f\"{i:02d}\", {\"Vi\": voltage})\n    server = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\n    result = server.run_sim_with_datastream()\n    results.append(result)\n\n# NEW (v1.0.0) - Batch parallel (3-5x faster)\nwith PlecsServer(\"model.plecs\") as server:\n    params_list = [{\"Vi\": v} for v in [12, 24, 48]]\n    results = server.simulate_batch(params_list)\n</code></pre>"},{"location":"release_notes_v1.0.0/#step-4-clean-up-old-variant-directories","title":"Step 4: Clean Up Old Variant Directories","text":"<pre><code># After migration, delete old variant directories\nrm -rf data/01/ data/02/ data/03/ ...\n</code></pre> <p>Complete migration guide: See MIGRATION.md</p>"},{"location":"release_notes_v1.0.0/#installation","title":"Installation","text":""},{"location":"release_notes_v1.0.0/#new-installation","title":"New Installation","text":"<pre><code># Install from source\ngit clone https://github.com/tinix84/pyplecs.git\ncd pyplecs\ngit checkout v1.0.0\npip install -e .\n\n# Or use modular requirements\npip install -r requirements-core.txt        # Minimal\npip install -r requirements-web.txt         # + REST API &amp; Web GUI\npip install -r requirements-cache.txt       # + Advanced caching\n</code></pre>"},{"location":"release_notes_v1.0.0/#upgrade-from-v0x","title":"Upgrade from v0.x","text":"<pre><code># Pull latest changes\ngit pull origin dev\n\n# Reinstall dependencies\npip install -e . -r requirements.txt\n\n# Run migration checks\npytest tests/test_plecs_server_refactored.py -v\n\n# Read migration guide\ncat MIGRATION.md\n</code></pre> <p>Installation guide: See INSTALL.md</p>"},{"location":"release_notes_v1.0.0/#documentation-links","title":"Documentation Links","text":"<ul> <li>Quick Start: README.md</li> <li>Installation: INSTALL.md</li> <li>Migration from v0.x: MIGRATION.md</li> <li>REST API: API.md</li> <li>Web GUI: WEBGUI.md</li> <li>Architecture: CLAUDE.md</li> <li>Contributing: CONTRIBUTING.md</li> <li>Changelog: CHANGELOG.md</li> </ul>"},{"location":"release_notes_v1.0.0/#git-commits-v100-release","title":"Git Commits (v1.0.0 Release)","text":"<p>This release consists of 6 commits on the <code>dev</code> branch:</p> <ol> <li>579a9f1 - <code>chore: cleanup deprecated files and reorganize project structure</code></li> <li>Remove deprecated variant generation directories</li> <li>Archive old documentation</li> <li> <p>Document legacy approach before removal</p> </li> <li> <p>c38bdd5 - <code>chore: bump version to 1.0.0 and modularize requirements</code></p> </li> <li>Update version across all files</li> <li>Split requirements into modular files</li> <li> <p>Maintain backward compatibility</p> </li> <li> <p>fa65024 - <code>docs: add comprehensive v1.0.0 documentation</code></p> </li> <li>Create 6 new documentation files</li> <li>README, INSTALL, API, WEBGUI, CHANGELOG, CONTRIBUTING</li> <li> <p>121 KB of professional documentation</p> </li> <li> <p>de96801 - <code>docs: add architecture guide, migration guide, and refactored test suite</code></p> </li> <li>Add CLAUDE.md architecture documentation</li> <li>Add MIGRATION.md upgrade guide</li> <li> <p>Add new test suite for batch API</p> </li> <li> <p>a63728a - <code>feat: PyPLECS v1.0.0 - major refactoring with 5x performance improvement</code></p> </li> <li>Implement batch parallel API</li> <li>Remove deprecated abstractions</li> <li> <p>Achieve 39% code reduction</p> </li> <li> <p>a37287c - <code>chore: add .claude/ to .gitignore</code></p> </li> <li>Clean up version control</li> </ol> <p>Tag: <code>v1.0.0</code> (to be created)</p>"},{"location":"release_notes_v1.0.0/#roadmap","title":"Roadmap","text":""},{"location":"release_notes_v1.0.0/#v1x-stable-releases","title":"v1.x (Stable Releases)","text":"<ul> <li> PyPI package distribution</li> <li> Enhanced authentication for REST API</li> <li> Redis cache backend</li> <li> Improved Web GUI settings page</li> <li> Docker images for deployment</li> </ul>"},{"location":"release_notes_v1.0.0/#v20-future-major-release","title":"v2.0 (Future Major Release)","text":"<p>Breaking Changes: - Remove deprecated methods (v1.0.0 deprecations) - Python 3.10+ minimum requirement - PLECS 4.5+ minimum requirement</p> <p>New Features: - Optimization engine (genetic algorithms, Bayesian) - Model Context Protocol (MCP) server - Distributed orchestration - Advanced analytics and reporting</p>"},{"location":"release_notes_v1.0.0/#known-issues","title":"Known Issues","text":""},{"location":"release_notes_v1.0.0/#limitations","title":"Limitations","text":"<ol> <li>GUI automation Windows-only: pywinauto requires Windows</li> <li> <p>Workaround: Use XML-RPC mode on macOS/Linux</p> </li> <li> <p>No authentication: REST API is open (v1.0.0)</p> </li> <li>Workaround: Use firewall, VPN, or SSH tunnel for remote access</li> <li> <p>Planned: API keys, JWT, OAuth 2.0 in v1.x</p> </li> <li> <p>Cache backend: Only file-based cache implemented</p> </li> <li>Planned: Redis and memory backends in v1.x</li> </ol>"},{"location":"release_notes_v1.0.0/#compatibility","title":"Compatibility","text":"<ul> <li>Python: 3.8, 3.9, 3.10, 3.11, 3.12</li> <li>PLECS: 4.2, 4.3, 4.4, 4.5, 4.6, 4.7+</li> <li>Platforms: Windows (full), macOS (XML-RPC only), Linux (XML-RPC only)</li> </ul>"},{"location":"release_notes_v1.0.0/#support","title":"Support","text":"<ul> <li>GitHub Issues: https://github.com/tinix84/pyplecs/issues</li> <li>Discussions: https://github.com/tinix84/pyplecs/discussions</li> <li>Email: tinix84@gmail.com</li> <li>Documentation: See links above</li> </ul>"},{"location":"release_notes_v1.0.0/#contributors","title":"Contributors","text":"<ul> <li>Riccardo Tinivella (@tinix84) - Creator and maintainer</li> <li>Claude Code - AI-assisted refactoring and documentation</li> </ul>"},{"location":"release_notes_v1.0.0/#license","title":"License","text":"<p>MIT \u00a9 2020-2025 Riccardo Tinivella</p>"},{"location":"release_notes_v1.0.0/#acknowledgments","title":"Acknowledgments","text":"<p>Special thanks to: - PLECS by Plexim for the excellent simulation software - FastAPI for the modern Python web framework - Claude Code for enabling this comprehensive refactoring</p> <p>The lesson learned: Simplicity through subtraction. By eliminating redundant abstractions and leveraging PLECS native capabilities, we achieved dramatic improvements in performance, maintainability, and code clarity.</p> <p>PyPLECS v1.0.0 - Work WITH PLECS, not against it. \ud83d\ude80</p>"},{"location":"tas_sprint_planning_ntbees2/","title":"Sprint Planning: TAS Implementation in NTBEES2","text":"<p>Versione: 1.0 Data: 2026-01-25 Durata stimata: 8 Sprint (16 settimane) Effort: ~160-200 ore totali</p>"},{"location":"tas_sprint_planning_ntbees2/#executive-summary","title":"\ud83d\udcca Executive Summary","text":""},{"location":"tas_sprint_planning_ntbees2/#obiettivo","title":"Obiettivo","text":"<p>Integrare il formato TAS (Topology Agnostic Structure) nel framework NTBEES2 per abilitare: - Definizione standardizzata di topologie power electronics - Import/export verso strumenti esterni (PLECS, LTspice, MAS) - Validazione JSON Schema per garantire integrit\u00e0 dati - Generazione automatica netlist e waveforms</p>"},{"location":"tas_sprint_planning_ntbees2/#stato-attuale-ntbees2","title":"Stato Attuale NTBEES2","text":"Componente Stato Riutilizzabile per TAS TimeSeries/TimeMatrix \u2705 Complete \u2705 Per waveforms Electrical KPI \u2705 Complete \u2705 Per outputs.losses Pydantic Models \u2705 In uso \u2705 Per TAS validation Logging Infrastructure \u2705 Complete \u2705 Debug TAS parsing ODE Integration \ud83d\udd04 In progress \u2705 Per simulation pymoo Optimization \u2705 Available \u2705 Per design space"},{"location":"tas_sprint_planning_ntbees2/#mapping-tas-ntbees2-architecture-ewald","title":"Mapping TAS \u2192 NTBEES2 Architecture (Ewald)","text":"<pre><code>TAS Structure              NTBEES2 Architecture\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\ninputs.design_requirements \u2192 ConverterSpec\ninputs.operating_points    \u2192 OperatingPoint + TimeSeries\ninputs.constraints         \u2192 OptimizationConstraints\nconverter.topology_type    \u2192 TopologyDefinition (NEW)\nconverter.sub_networks     \u2192 SnDT (Sub-network Digital Twin)\nconverter.components       \u2192 CDT (Component Digital Twin)\nconverter.netlist          \u2192 ElectricalNetlist (NEW)\noutputs.losses             \u2192 ElectricalKPI (esistente)\noutputs.thermal            \u2192 ThermalKPI (NEW)\noutputs.waveforms          \u2192 TimeSeries (esistente)\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#sprint-overview","title":"\ud83d\uddd3\ufe0f Sprint Overview","text":"Sprint Focus Ore Deliverable S1 Core TAS Models (Pydantic) 20h <code>tas/models/</code> S2 Inputs Section + Waveforms 20h <code>tas/inputs/</code> S3 Converter Section + Netlist 25h <code>tas/converter/</code> S4 Components Database 20h <code>tas/components/</code> S5 Outputs + KPI Integration 20h <code>tas/outputs/</code> S6 MAS Integration 15h <code>tas/integrations/mas/</code> S7 Export (PLECS/LTspice) 25h <code>tas/exporters/</code> S8 Validation + Documentation 15h Tests + Docs"},{"location":"tas_sprint_planning_ntbees2/#sprint-1-core-tas-models-pydantic","title":"\ud83d\udccb Sprint 1: Core TAS Models (Pydantic)","text":"<p>Durata: 2 settimane Ore stimate: 20h Priorit\u00e0: \ud83d\udd34 Critical</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi","title":"Obiettivi","text":"<ol> <li>Definire struttura base TAS con Pydantic</li> <li>Implementare validazione JSON Schema</li> <li>Creare base classes per PhysicalQuantity</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#11-physicalquantity-base-model-4h","title":"1.1 PhysicalQuantity Base Model (4h)","text":"<pre><code># tas/models/quantities.py\nfrom pydantic import BaseModel, Field\nfrom typing import Optional, Literal\nfrom enum import Enum\n\nclass Unit(str, Enum):\n    VOLT = \"V\"\n    AMPERE = \"A\"\n    WATT = \"W\"\n    HERTZ = \"Hz\"\n    OHM = \"\u03a9\"\n    HENRY = \"H\"\n    FARAD = \"F\"\n    KELVIN = \"K\"\n    CELSIUS = \"\u00b0C\"\n    METER = \"m\"\n    # ... complete enumeration\n\nclass PhysicalQuantity(BaseModel):\n    \"\"\"Base class for all physical quantities with units.\"\"\"\n    value: float\n    unit: Unit\n    conditions: Optional[dict] = None\n    tolerance: Optional[float] = None\n\n    def to_si(self) -&gt; float:\n        \"\"\"Convert to SI base units.\"\"\"\n        ...\n\n    def __mul__(self, other): ...\n    def __add__(self, other): ...\n\nclass RangeQuantity(BaseModel):\n    \"\"\"Quantity with min/max range.\"\"\"\n    nominal: PhysicalQuantity\n    min: Optional[PhysicalQuantity] = None\n    max: Optional[PhysicalQuantity] = None\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#12-tas-root-model-4h","title":"1.2 TAS Root Model (4h)","text":"<pre><code># tas/models/tas_root.py\nfrom pydantic import BaseModel, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass TASMetadata(BaseModel):\n    name: str\n    author: Optional[str] = None\n    created: datetime = Field(default_factory=datetime.now)\n    version: str = \"1.0.0\"\n    description: Optional[str] = None\n    tags: list[str] = []\n\nclass TAS(BaseModel):\n    \"\"\"Root TAS document model.\"\"\"\n    schema_url: str = Field(\n        alias=\"$schema\",\n        default=\"https://openpowerelectronics.org/schemas/TAS/v1.0/tas.json\"\n    )\n    version: str = \"1.0.0\"\n    metadata: TASMetadata\n    inputs: \"TASInputs\"\n    converter: \"TASConverter\"\n    outputs: Optional[\"TASOutputs\"] = None\n\n    class Config:\n        populate_by_name = True  # Pydantic v2\n\n    @classmethod\n    def from_json(cls, path: str) -&gt; \"TAS\":\n        \"\"\"Load TAS from JSON file with validation.\"\"\"\n        ...\n\n    def to_json(self, path: str, indent: int = 2) -&gt; None:\n        \"\"\"Export TAS to JSON file.\"\"\"\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#13-waveform-models-6h","title":"1.3 Waveform Models (6h)","text":"<pre><code># tas/models/waveforms.py\nfrom typing import Union, Literal\nfrom ntbees2.core.time_series import TimeSeries  # Riuso esistente!\n\nclass WaveformSampled(BaseModel):\n    \"\"\"Sampled time-domain waveform.\"\"\"\n    type: Literal[\"sampled\"] = \"sampled\"\n    time: list[float]\n    data: list[float]\n    unit: Unit\n\n    def to_timeseries(self) -&gt; TimeSeries:\n        \"\"\"Convert to NTBEES2 TimeSeries.\"\"\"\n        return TimeSeries(\n            time=np.array(self.time),\n            values=np.array(self.data),\n            unit=str(self.unit)\n        )\n\nclass WaveformPWL(BaseModel):\n    \"\"\"Piecewise-linear waveform.\"\"\"\n    type: Literal[\"piecewise_linear\"] = \"piecewise_linear\"\n    time: list[float]\n    data: list[float]\n    unit: Unit\n\nclass WaveformAnalytical(BaseModel):\n    \"\"\"Analytically defined waveform.\"\"\"\n    type: Literal[\"analytical\"] = \"analytical\"\n    expression: str  # e.g., \"I0 + dI*sin(2*pi*f*t)\"\n    parameters: dict[str, PhysicalQuantity]\n\nclass WaveformReference(BaseModel):\n    \"\"\"Reference to external waveform file.\"\"\"\n    type: Literal[\"reference\"] = \"reference\"\n    file: str  # HDF5 or CSV path\n    dataset: Optional[str] = None  # For HDF5\n\nWaveform = Union[WaveformSampled, WaveformPWL, WaveformAnalytical, WaveformReference]\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#14-json-schema-validator-3h","title":"1.4 JSON Schema Validator (3h)","text":"<pre><code># tas/validation/schema_validator.py\nimport jsonschema\nfrom pathlib import Path\n\nclass TASValidator:\n    \"\"\"Validate TAS documents against JSON Schema.\"\"\"\n\n    SCHEMA_PATH = Path(__file__).parent / \"schemas\" / \"tas.json\"\n\n    def __init__(self):\n        self.schema = self._load_schema()\n        self.validator = jsonschema.Draft7Validator(self.schema)\n\n    def validate(self, tas_dict: dict) -&gt; tuple[bool, list[str]]:\n        \"\"\"Validate TAS document, return (valid, errors).\"\"\"\n        errors = list(self.validator.iter_errors(tas_dict))\n        return len(errors) == 0, [str(e) for e in errors]\n\n    def validate_file(self, path: str) -&gt; tuple[bool, list[str]]:\n        \"\"\"Validate TAS JSON file.\"\"\"\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#15-unit-tests-3h","title":"1.5 Unit Tests (3h)","text":"<pre><code># tests/tas/test_models.py\nimport pytest\nfrom tas.models import PhysicalQuantity, TAS, WaveformSampled\n\nclass TestPhysicalQuantity:\n    def test_creation(self):\n        q = PhysicalQuantity(value=800, unit=\"V\")\n        assert q.value == 800\n\n    def test_unit_conversion(self):\n        q = PhysicalQuantity(value=1, unit=\"kV\")\n        assert q.to_si() == 1000.0\n\nclass TestWaveform:\n    def test_to_timeseries(self):\n        wf = WaveformSampled(\n            time=[0, 1e-6, 2e-6],\n            data=[0, 10, 0],\n            unit=\"A\"\n        )\n        ts = wf.to_timeseries()\n        assert isinstance(ts, TimeSeries)\n        assert ts.rms() &gt; 0\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s1","title":"Acceptance Criteria S1","text":"<ul> <li> Tutti i model Pydantic validano correttamente</li> <li> PhysicalQuantity supporta operazioni matematiche</li> <li> Waveform \u2192 TimeSeries conversion funziona</li> <li> 100% test coverage su models</li> <li> JSON Schema validation implementata</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#file-structure-dopo-s1","title":"File Structure dopo S1","text":"<pre><code>ntbees2/\n\u251c\u2500\u2500 tas/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 quantities.py       # PhysicalQuantity, Unit\n\u2502   \u2502   \u251c\u2500\u2500 waveforms.py        # Waveform types\n\u2502   \u2502   \u251c\u2500\u2500 tas_root.py         # TAS, TASMetadata\n\u2502   \u2502   \u2514\u2500\u2500 validators.py       # Custom validators\n\u2502   \u251c\u2500\u2500 validation/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 schema_validator.py\n\u2502   \u2514\u2500\u2500 schemas/\n\u2502       \u2514\u2500\u2500 tas.json            # JSON Schema (from /home/claude)\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 tas/\n        \u2514\u2500\u2500 test_models.py\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#sprint-2-inputs-section-operating-points","title":"\ud83d\udccb Sprint 2: Inputs Section + Operating Points","text":"<p>Durata: 2 settimane Ore stimate: 20h Priorit\u00e0: \ud83d\udd34 Critical</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi_1","title":"Obiettivi","text":"<ol> <li>Implementare TASInputs con DesignRequirements</li> <li>Creare OperatingPoint model con excitations</li> <li>Integrare constraints per optimization</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks_1","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#21-design-requirements-model-5h","title":"2.1 Design Requirements Model (5h)","text":"<pre><code># tas/models/inputs/design_requirements.py\nfrom pydantic import BaseModel\nfrom typing import Optional, Literal\nfrom ..quantities import PhysicalQuantity, RangeQuantity\n\nclass IsolationSpec(BaseModel):\n    required: bool = False\n    type: Optional[Literal[\"basic\", \"reinforced\", \"functional\"]] = None\n    voltage: Optional[PhysicalQuantity] = None  # Test voltage\n\nclass CoolingSpec(BaseModel):\n    type: Literal[\"natural_convection\", \"forced_air\", \"liquid\", \"conduction\"]\n    ambient_temperature: PhysicalQuantity\n    airflow: Optional[PhysicalQuantity] = None  # m\u00b3/min\n    coolant_temperature: Optional[PhysicalQuantity] = None\n\nclass DesignRequirements(BaseModel):\n    \"\"\"Design requirements section of TAS inputs.\"\"\"\n    name: str\n    application: Optional[str] = None  # telecom, automotive, solar, medical\n\n    # Voltage specs\n    input_voltage: RangeQuantity\n    output_voltage: RangeQuantity\n\n    # Power specs\n    power: RangeQuantity\n\n    # Performance targets\n    efficiency_target: Optional[PhysicalQuantity] = None\n    power_density_target: Optional[PhysicalQuantity] = None  # kW/dm\u00b3\n\n    # Other specs\n    isolation: Optional[IsolationSpec] = None\n    cooling: CoolingSpec\n    standards: list[str] = []  # CISPR22, IEC61000-4-5, etc.\n\n    def get_voltage_transfer_ratio(self) -&gt; float:\n        \"\"\"Calculate Vout/Vin ratio.\"\"\"\n        return self.output_voltage.nominal.value / self.input_voltage.nominal.value\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#22-operating-point-model-6h","title":"2.2 Operating Point Model (6h)","text":"<pre><code># tas/models/inputs/operating_point.py\nfrom pydantic import BaseModel, model_validator\nfrom typing import Optional\nfrom ..waveforms import Waveform\nfrom ..quantities import PhysicalQuantity\n\nclass Excitation(BaseModel):\n    \"\"\"Current/voltage excitation for a port.\"\"\"\n    current: Optional[Waveform] = None\n    voltage: Optional[Waveform] = None\n\n    # Processed values (optional, can be computed)\n    processed: Optional[\"ProcessedWaveform\"] = None\n\nclass ProcessedWaveform(BaseModel):\n    \"\"\"Pre-computed waveform characteristics.\"\"\"\n    rms: Optional[PhysicalQuantity] = None\n    peak: Optional[PhysicalQuantity] = None\n    average: Optional[PhysicalQuantity] = None\n    ripple_pp: Optional[PhysicalQuantity] = None\n    thd: Optional[float] = None  # Total harmonic distortion\n\nclass OperatingPoint(BaseModel):\n    \"\"\"Single operating point definition.\"\"\"\n    name: str\n\n    # Timing\n    frequency: PhysicalQuantity  # Switching frequency\n    duty_cycle: Optional[PhysicalQuantity] = None\n\n    # Environment\n    conditions: Optional[\"OperatingConditions\"] = None\n\n    # Excitations per port\n    excitations: dict[str, Excitation] = {}  # port_name -&gt; Excitation\n\n    @model_validator(mode='after')\n    def validate_duty_cycle(self):\n        if self.duty_cycle and not (0 &lt; self.duty_cycle.value &lt; 1):\n            raise ValueError(\"Duty cycle must be between 0 and 1\")\n        return self\n\n    def to_ntbees2_operating_point(self):\n        \"\"\"Convert to NTBEES2 OperatingPoint class.\"\"\"\n        from ntbees2.core.operating_point import OperatingPoint as NTOperatingPoint\n        # ... mapping logic\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#23-constraints-model-4h","title":"2.3 Constraints Model (4h)","text":"<pre><code># tas/models/inputs/constraints.py\nfrom pydantic import BaseModel\nfrom typing import Optional\n\nclass ComponentConstraints(BaseModel):\n    \"\"\"Constraints on component selection.\"\"\"\n\n    class SwitchConstraints(BaseModel):\n        allowed_manufacturers: list[str] = []\n        technology: list[str] = []  # SiC_MOSFET, GaN_HEMT, Si_IGBT\n        package: list[str] = []\n        max_junction_temperature: Optional[PhysicalQuantity] = None\n\n    class MagneticConstraints(BaseModel):\n        core_materials: list[str] = []\n        max_temperature_rise: Optional[PhysicalQuantity] = None\n        max_flux_density: Optional[PhysicalQuantity] = None\n\n    class CapacitorConstraints(BaseModel):\n        types: list[str] = []  # MLCC, film, electrolytic\n        voltage_derating: float = 0.8\n\n    switches: Optional[SwitchConstraints] = None\n    magnetics: Optional[MagneticConstraints] = None\n    capacitors: Optional[CapacitorConstraints] = None\n\nclass GeometricConstraints(BaseModel):\n    \"\"\"Physical size constraints.\"\"\"\n    max_dimensions: Optional[\"BoxDimensions\"] = None\n    form_factor: Optional[str] = None  # 1U, 2U, custom\n    max_volume: Optional[PhysicalQuantity] = None\n\nclass ThermalConstraints(BaseModel):\n    \"\"\"Thermal performance constraints.\"\"\"\n    max_surface_temperature: Optional[PhysicalQuantity] = None\n    cspi_target: Optional[PhysicalQuantity] = None  # W/(K\u00b7dm\u00b3)\n\nclass Constraints(BaseModel):\n    \"\"\"All constraints for optimization.\"\"\"\n    component_constraints: Optional[ComponentConstraints] = None\n    geometric_constraints: Optional[GeometricConstraints] = None\n    thermal_constraints: Optional[ThermalConstraints] = None\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#24-tasinputs-aggregator-3h","title":"2.4 TASInputs Aggregator (3h)","text":"<pre><code># tas/models/inputs/__init__.py\nfrom pydantic import BaseModel\nfrom .design_requirements import DesignRequirements\nfrom .operating_point import OperatingPoint\nfrom .constraints import Constraints\n\nclass TASInputs(BaseModel):\n    \"\"\"Complete inputs section of TAS.\"\"\"\n    design_requirements: DesignRequirements\n    operating_points: list[OperatingPoint] = []\n    constraints: Optional[Constraints] = None\n\n    def get_nominal_operating_point(self) -&gt; OperatingPoint:\n        \"\"\"Get the nominal operating point.\"\"\"\n        for op in self.operating_points:\n            if \"nominal\" in op.name.lower():\n                return op\n        return self.operating_points[0] if self.operating_points else None\n\n    def get_frequency_range(self) -&gt; tuple[float, float]:\n        \"\"\"Get min/max switching frequency across all OPs.\"\"\"\n        freqs = [op.frequency.value for op in self.operating_points]\n        return min(freqs), max(freqs)\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#25-integration-tests-2h","title":"2.5 Integration Tests (2h)","text":"<pre><code># tests/tas/test_inputs.py\nimport pytest\nfrom tas.models.inputs import TASInputs, DesignRequirements, OperatingPoint\n\nclass TestDesignRequirements:\n    def test_voltage_transfer_ratio(self):\n        dr = DesignRequirements(\n            name=\"Test\",\n            input_voltage=RangeQuantity(nominal=PhysicalQuantity(value=800, unit=\"V\")),\n            output_voltage=RangeQuantity(nominal=PhysicalQuantity(value=400, unit=\"V\")),\n            power=RangeQuantity(nominal=PhysicalQuantity(value=5000, unit=\"W\")),\n            cooling=CoolingSpec(type=\"forced_air\", ambient_temperature=PhysicalQuantity(value=45, unit=\"\u00b0C\"))\n        )\n        assert dr.get_voltage_transfer_ratio() == 0.5\n\nclass TestOperatingPoint:\n    def test_excitation_to_timeseries(self):\n        # Test waveform conversion\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s2","title":"Acceptance Criteria S2","text":"<ul> <li> DesignRequirements parsing completo</li> <li> OperatingPoint supporta tutti i waveform types</li> <li> Constraints mappa a pymoo optimization bounds</li> <li> Integration con TimeSeries esistente verificata</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#sprint-3-converter-section-netlist","title":"\ud83d\udccb Sprint 3: Converter Section + Netlist","text":"<p>Durata: 2 settimane Ore stimate: 25h Priorit\u00e0: \ud83d\udd34 Critical</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi_2","title":"Obiettivi","text":"<ol> <li>Implementare TopologyType enumeration</li> <li>Creare SubNetwork models (switching cell, magnetics, filters)</li> <li>Implementare Netlist con electrical connectivity</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks_2","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#31-topology-type-enumeration-3h","title":"3.1 Topology Type Enumeration (3h)","text":"<pre><code># tas/models/converter/topology_types.py\nfrom enum import Enum\nfrom typing import Literal\n\nclass TopologyFamily(str, Enum):\n    NON_ISOLATED_DC_DC = \"non_isolated_dc_dc\"\n    ISOLATED_DC_DC = \"isolated_dc_dc\"\n    AC_DC = \"ac_dc\"\n    DC_AC = \"dc_ac\"\n    AC_AC = \"ac_ac\"\n\n# Type-specific enums\nclass NonIsolatedDCDCType(str, Enum):\n    BUCK = \"buck\"\n    BOOST = \"boost\"\n    BUCK_BOOST = \"buck_boost\"\n    CUK = \"cuk\"\n    SEPIC = \"sepic\"\n    ZETA = \"zeta\"\n    INTERLEAVED_BUCK = \"interleaved_buck\"\n    MULTIPHASE_BUCK = \"multiphase_buck\"\n\nclass IsolatedDCDCType(str, Enum):\n    FLYBACK = \"flyback\"\n    FORWARD = \"forward\"\n    HALF_BRIDGE = \"half_bridge\"\n    FULL_BRIDGE = \"full_bridge\"\n    PHASE_SHIFTED_FULL_BRIDGE = \"phase_shifted_full_bridge\"\n    LLC = \"llc\"\n    LCC = \"lcc\"\n    CLLC = \"cllc\"\n    DAB = \"dab\"\n    TAB = \"tab\"\n\nclass TopologyType(BaseModel):\n    \"\"\"Topology type specification.\"\"\"\n    family: TopologyFamily\n    type: str  # Specific type within family\n    variant: Optional[str] = None  # e.g., \"with_current_doubler\"\n\n    @model_validator(mode='after')\n    def validate_type_in_family(self):\n        # Validate type matches family\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#32-subnetwork-models-8h","title":"3.2 SubNetwork Models (8h)","text":"<pre><code># tas/models/converter/sub_networks.py\nfrom pydantic import BaseModel\nfrom typing import Union, Literal, Optional\n\nclass SubNetworkBase(BaseModel):\n    \"\"\"Base class for all sub-networks.\"\"\"\n    id: str\n    type: str\n    terminals: list[str] = []  # External connection points\n\nclass SwitchingCellSubNetwork(SubNetworkBase):\n    \"\"\"Switching cell sub-network (half-bridge, full-bridge, etc.).\"\"\"\n    type: Literal[\"switching_cell\"] = \"switching_cell\"\n    configuration: Literal[\"half_bridge\", \"full_bridge\", \"npc\", \"flying_cap\"]\n    components: list[str] = []  # Component IDs\n    gate_driver: Optional[str] = None  # Gate driver component ID\n    deadtime: Optional[PhysicalQuantity] = None\n\nclass MagneticsSubNetwork(SubNetworkBase):\n    \"\"\"Magnetics sub-network (inductor, transformer, coupled inductors).\"\"\"\n    type: Literal[\"magnetics\"] = \"magnetics\"\n    magnetic_type: Literal[\"inductor\", \"transformer\", \"coupled_inductor\", \"cm_choke\"]\n\n    # Option 1: MAS reference\n    mas_reference: Optional[str] = None  # file://... or openmagnetics://...\n\n    # Option 2: Inline specification\n    magnetic_specification: Optional[\"MagneticSpec\"] = None\n\nclass FilterSubNetwork(SubNetworkBase):\n    \"\"\"Filter sub-network (EMI, DM, CM, output).\"\"\"\n    type: Literal[\"filter\"] = \"filter\"\n    filter_type: Literal[\"emi_input\", \"emi_output\", \"dm\", \"cm\", \"lc_output\", \"clc\"]\n    stages: int = 1\n    components: list[str] = []\n\nclass CoolingSubNetwork(SubNetworkBase):\n    \"\"\"Cooling system sub-network.\"\"\"\n    type: Literal[\"cooling\"] = \"cooling\"\n    cooling_type: Literal[\"heatsink\", \"coldplate\", \"fan\", \"heatpipe\"]\n    cspi: Optional[PhysicalQuantity] = None  # Cooling system performance index\n    thermal_resistance: Optional[PhysicalQuantity] = None\n\nclass CapacitorBankSubNetwork(SubNetworkBase):\n    \"\"\"Capacitor bank sub-network.\"\"\"\n    type: Literal[\"capacitor_bank\"] = \"capacitor_bank\"\n    function: Literal[\"dc_link\", \"input_filter\", \"output_filter\", \"flying_cap\"]\n    components: list[str] = []\n\nSubNetwork = Union[\n    SwitchingCellSubNetwork,\n    MagneticsSubNetwork,\n    FilterSubNetwork,\n    CoolingSubNetwork,\n    CapacitorBankSubNetwork\n]\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#33-netlist-model-6h","title":"3.3 Netlist Model (6h)","text":"<pre><code># tas/models/converter/netlist.py\nfrom pydantic import BaseModel\nfrom typing import Optional\n\nclass NetConnection(BaseModel):\n    \"\"\"Single net connection.\"\"\"\n    component_id: str\n    terminal: str  # P, N, D, S, G, etc.\n\n    def __str__(self) -&gt; str:\n        return f\"{self.component_id}.{self.terminal}\"\n\nclass Net(BaseModel):\n    \"\"\"Single electrical net.\"\"\"\n    name: str\n    connections: list[str]  # \"ComponentID.Terminal\" format\n    net_type: Optional[str] = None  # power, signal, ground\n\n    def get_connections(self) -&gt; list[NetConnection]:\n        \"\"\"Parse connection strings to NetConnection objects.\"\"\"\n        result = []\n        for conn_str in self.connections:\n            parts = conn_str.split(\".\")\n            result.append(NetConnection(component_id=parts[0], terminal=parts[1]))\n        return result\n\nclass Netlist(BaseModel):\n    \"\"\"Complete electrical netlist.\"\"\"\n    nets: list[Net] = []\n\n    def get_net_by_name(self, name: str) -&gt; Optional[Net]:\n        \"\"\"Find net by name.\"\"\"\n        for net in self.nets:\n            if net.name == name:\n                return net\n        return None\n\n    def get_component_connections(self, component_id: str) -&gt; dict[str, str]:\n        \"\"\"Get all connections for a component.\"\"\"\n        connections = {}\n        for net in self.nets:\n            for conn in net.connections:\n                if conn.startswith(f\"{component_id}.\"):\n                    terminal = conn.split(\".\")[1]\n                    connections[terminal] = net.name\n        return connections\n\n    def to_spice_netlist(self) -&gt; str:\n        \"\"\"Export to SPICE netlist format.\"\"\"\n        lines = [\"* TAS Generated SPICE Netlist\"]\n        # ... netlist generation\n        return \"\\n\".join(lines)\n\n    def validate_connectivity(self) -&gt; tuple[bool, list[str]]:\n        \"\"\"Check for floating nodes, shorts, etc.\"\"\"\n        errors = []\n        # ... validation logic\n        return len(errors) == 0, errors\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#34-tasconverter-aggregator-4h","title":"3.4 TASConverter Aggregator (4h)","text":"<pre><code># tas/models/converter/__init__.py\nfrom pydantic import BaseModel\nfrom typing import Optional\nfrom .topology_types import TopologyType\nfrom .sub_networks import SubNetwork\nfrom .netlist import Netlist\nfrom ..quantities import PhysicalQuantity\n\nclass ConverterParameters(BaseModel):\n    \"\"\"Global converter parameters.\"\"\"\n    switching_frequency: Optional[PhysicalQuantity] = None\n    transformer_turns_ratio: Optional[float] = None\n    dead_time: Optional[PhysicalQuantity] = None\n    modulation_index: Optional[float] = None\n\nclass TASConverter(BaseModel):\n    \"\"\"Complete converter section of TAS.\"\"\"\n    name: str\n    topology_type: TopologyType\n    parameters: Optional[ConverterParameters] = None\n    sub_networks: list[SubNetwork] = []\n    components: list[\"Component\"] = []  # Forward ref\n    netlist: Netlist\n\n    def get_sub_network(self, sn_id: str) -&gt; Optional[SubNetwork]:\n        \"\"\"Get sub-network by ID.\"\"\"\n        for sn in self.sub_networks:\n            if sn.id == sn_id:\n                return sn\n        return None\n\n    def get_component(self, comp_id: str) -&gt; Optional[\"Component\"]:\n        \"\"\"Get component by ID.\"\"\"\n        for comp in self.components:\n            if comp.id == comp_id:\n                return comp\n        return None\n\n    def get_switching_cells(self) -&gt; list[SwitchingCellSubNetwork]:\n        \"\"\"Get all switching cell sub-networks.\"\"\"\n        return [sn for sn in self.sub_networks if sn.type == \"switching_cell\"]\n\n    def to_ewald_cnvdt(self):\n        \"\"\"Convert to Ewald CnvDT format.\"\"\"\n        # Mapping to NTBEES2 converter digital twin\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#35-tests-4h","title":"3.5 Tests (4h)","text":"<pre><code># tests/tas/test_converter.py\nclass TestNetlist:\n    def test_connection_parsing(self):\n        netlist = Netlist(nets=[\n            Net(name=\"Vin+\", connections=[\"C_in.P\", \"Q_HS.D\"]),\n            Net(name=\"SW\", connections=[\"Q_HS.S\", \"Q_LS.D\", \"L1.P\"]),\n        ])\n        assert netlist.get_net_by_name(\"Vin+\") is not None\n\n    def test_spice_export(self):\n        # Test SPICE netlist generation\n        ...\n\nclass TestTopologyType:\n    def test_buck_topology(self):\n        tt = TopologyType(\n            family=TopologyFamily.NON_ISOLATED_DC_DC,\n            type=\"buck\"\n        )\n        assert tt.family == TopologyFamily.NON_ISOLATED_DC_DC\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s3","title":"Acceptance Criteria S3","text":"<ul> <li> Tutte le topology families supportate</li> <li> SubNetwork polymorphism funziona</li> <li> Netlist export to SPICE verificato</li> <li> Connectivity validation implementata</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#sprint-4-components-database","title":"\ud83d\udccb Sprint 4: Components Database","text":"<p>Durata: 2 settimane Ore stimate: 20h Priorit\u00e0: \ud83d\udfe1 High</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi_3","title":"Obiettivi","text":"<ol> <li>Implementare Component models (Switch, Capacitor, etc.)</li> <li>Creare database loader (JSON/SQLite)</li> <li>Supportare component lookup by part number</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks_3","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#41-switch-component-model-5h","title":"4.1 Switch Component Model (5h)","text":"<pre><code># tas/models/components/switch.py\nfrom pydantic import BaseModel\nfrom typing import Optional, Literal\nfrom ..quantities import PhysicalQuantity\n\nclass SwitchStaticParameters(BaseModel):\n    \"\"\"Static (DC) parameters of a switch.\"\"\"\n    Vds_max: PhysicalQuantity\n    Id_max: PhysicalQuantity\n    Rds_on: PhysicalQuantity\n    Vgs_th: PhysicalQuantity\n\nclass SwitchDynamicParameters(BaseModel):\n    \"\"\"Dynamic (switching) parameters.\"\"\"\n    Ciss: PhysicalQuantity\n    Coss: PhysicalQuantity\n    Crss: PhysicalQuantity\n    Qg: PhysicalQuantity\n    Qgd: Optional[PhysicalQuantity] = None\n\nclass SwitchingLosses(BaseModel):\n    \"\"\"Switching loss model.\"\"\"\n    model: Literal[\"piecewise_linear\", \"polynomial\", \"lookup_table\"]\n    Eon: PhysicalQuantity  # Turn-on energy\n    Eoff: PhysicalQuantity  # Turn-off energy\n    Err: Optional[PhysicalQuantity] = None  # Reverse recovery\n    at_conditions: dict  # Vds, Id at which measured\n\nclass ThermalParameters(BaseModel):\n    \"\"\"Thermal parameters.\"\"\"\n    Rth_jc: PhysicalQuantity  # Junction to case\n    Rth_cs: Optional[PhysicalQuantity] = None  # Case to sink\n    Tj_max: PhysicalQuantity\n    Tc_max: Optional[PhysicalQuantity] = None\n\nclass SwitchComponent(BaseModel):\n    \"\"\"Complete switch component model.\"\"\"\n    id: str\n    type: Literal[\"switch\"] = \"switch\"\n\n    # Identification\n    manufacturer: str\n    part_number: str\n    technology: Literal[\"Si_MOSFET\", \"SiC_MOSFET\", \"GaN_HEMT\", \"Si_IGBT\", \"SiC_IGBT\"]\n    package: str\n\n    # Parameters\n    static: SwitchStaticParameters\n    dynamic: SwitchDynamicParameters\n    switching_losses: SwitchingLosses\n    thermal: ThermalParameters\n\n    # Optional datasheet link\n    datasheet_url: Optional[str] = None\n\n    def calculate_conduction_loss(self, i_rms: float, duty: float) -&gt; float:\n        \"\"\"Calculate conduction losses.\"\"\"\n        return self.static.Rds_on.value * (i_rms ** 2) * duty\n\n    def calculate_switching_loss(self, v_ds: float, i_d: float, f_sw: float) -&gt; float:\n        \"\"\"Calculate switching losses (simplified).\"\"\"\n        E_total = self.switching_losses.Eon.value + self.switching_losses.Eoff.value\n        # Scale from test conditions\n        scale = (v_ds / self.switching_losses.at_conditions[\"Vds\"]) * \\\n                (i_d / self.switching_losses.at_conditions[\"Id\"])\n        return E_total * scale * f_sw\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#42-capacitor-component-model-4h","title":"4.2 Capacitor Component Model (4h)","text":"<pre><code># tas/models/components/capacitor.py\nclass CapacitorComponent(BaseModel):\n    \"\"\"Capacitor component model.\"\"\"\n    id: str\n    type: Literal[\"capacitor\"] = \"capacitor\"\n\n    # Identification\n    manufacturer: str\n    part_number: str\n    cap_type: Literal[\"MLCC\", \"film\", \"electrolytic\", \"polymer\", \"ceramic\"]\n\n    # Electrical parameters\n    capacitance: PhysicalQuantity\n    voltage_rating: PhysicalQuantity\n    esr: PhysicalQuantity  # At specified frequency\n    esl: Optional[PhysicalQuantity] = None\n    ripple_current: PhysicalQuantity  # Max RMS ripple\n\n    # Frequency dependency\n    esr_vs_freq: Optional[list[tuple[float, float]]] = None  # (freq_Hz, ESR_Ohm)\n\n    # Thermal\n    temperature_coefficient: Optional[str] = None  # X7R, C0G, etc.\n    max_temperature: PhysicalQuantity\n\n    def get_esr_at_frequency(self, freq: float) -&gt; float:\n        \"\"\"Interpolate ESR at given frequency.\"\"\"\n        ...\n\n    def calculate_loss(self, i_rms: float, freq: float) -&gt; float:\n        \"\"\"Calculate capacitor loss.\"\"\"\n        esr = self.get_esr_at_frequency(freq)\n        return esr * (i_rms ** 2)\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#43-component-database-6h","title":"4.3 Component Database (6h)","text":"<pre><code># tas/database/component_db.py\nfrom pathlib import Path\nimport json\nfrom typing import Optional, Union\nfrom ..models.components import SwitchComponent, CapacitorComponent\n\nComponent = Union[SwitchComponent, CapacitorComponent]\n\nclass ComponentDatabase:\n    \"\"\"Component database with lookup capabilities.\"\"\"\n\n    def __init__(self, db_path: Optional[Path] = None):\n        self.db_path = db_path or Path(__file__).parent / \"data\"\n        self._switches: dict[str, SwitchComponent] = {}\n        self._capacitors: dict[str, CapacitorComponent] = {}\n        self._load_database()\n\n    def _load_database(self):\n        \"\"\"Load component data from JSON files.\"\"\"\n        # Load switches\n        switch_file = self.db_path / \"switches.json\"\n        if switch_file.exists():\n            data = json.loads(switch_file.read_text())\n            for item in data[\"switches\"]:\n                comp = SwitchComponent(**item)\n                self._switches[comp.part_number] = comp\n\n        # Load capacitors\n        cap_file = self.db_path / \"capacitors.json\"\n        if cap_file.exists():\n            data = json.loads(cap_file.read_text())\n            for item in data[\"capacitors\"]:\n                comp = CapacitorComponent(**item)\n                self._capacitors[comp.part_number] = comp\n\n    def get_switch(self, part_number: str) -&gt; Optional[SwitchComponent]:\n        \"\"\"Lookup switch by part number.\"\"\"\n        return self._switches.get(part_number)\n\n    def get_capacitor(self, part_number: str) -&gt; Optional[CapacitorComponent]:\n        \"\"\"Lookup capacitor by part number.\"\"\"\n        return self._capacitors.get(part_number)\n\n    def search_switches(\n        self,\n        technology: Optional[str] = None,\n        v_ds_min: Optional[float] = None,\n        manufacturer: Optional[str] = None\n    ) -&gt; list[SwitchComponent]:\n        \"\"\"Search switches by criteria.\"\"\"\n        results = list(self._switches.values())\n        if technology:\n            results = [s for s in results if s.technology == technology]\n        if v_ds_min:\n            results = [s for s in results if s.static.Vds_max.value &gt;= v_ds_min]\n        if manufacturer:\n            results = [s for s in results if s.manufacturer == manufacturer]\n        return results\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#44-sample-component-data-3h","title":"4.4 Sample Component Data (3h)","text":"<pre><code>// tas/database/data/switches.json\n{\n  \"switches\": [\n    {\n      \"id\": \"Q1\",\n      \"manufacturer\": \"Wolfspeed\",\n      \"part_number\": \"C3M0065100K\",\n      \"technology\": \"SiC_MOSFET\",\n      \"package\": \"TO-247-4\",\n      \"static\": {\n        \"Vds_max\": {\"value\": 1000, \"unit\": \"V\"},\n        \"Id_max\": {\"value\": 35, \"unit\": \"A\"},\n        \"Rds_on\": {\"value\": 65, \"unit\": \"m\u03a9\"},\n        \"Vgs_th\": {\"value\": 2.5, \"unit\": \"V\"}\n      },\n      \"dynamic\": {\n        \"Ciss\": {\"value\": 1200, \"unit\": \"pF\"},\n        \"Coss\": {\"value\": 80, \"unit\": \"pF\"},\n        \"Crss\": {\"value\": 8, \"unit\": \"pF\"},\n        \"Qg\": {\"value\": 62, \"unit\": \"nC\"}\n      },\n      \"switching_losses\": {\n        \"model\": \"piecewise_linear\",\n        \"Eon\": {\"value\": 0.35, \"unit\": \"mJ\"},\n        \"Eoff\": {\"value\": 0.25, \"unit\": \"mJ\"},\n        \"at_conditions\": {\"Vds\": 800, \"Id\": 20}\n      },\n      \"thermal\": {\n        \"Rth_jc\": {\"value\": 0.24, \"unit\": \"K/W\"},\n        \"Tj_max\": {\"value\": 175, \"unit\": \"\u00b0C\"}\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#45-tests-2h","title":"4.5 Tests (2h)","text":"<pre><code># tests/tas/test_components.py\nclass TestComponentDatabase:\n    def test_switch_lookup(self):\n        db = ComponentDatabase()\n        switch = db.get_switch(\"C3M0065100K\")\n        assert switch is not None\n        assert switch.technology == \"SiC_MOSFET\"\n\n    def test_loss_calculation(self):\n        db = ComponentDatabase()\n        switch = db.get_switch(\"C3M0065100K\")\n        p_cond = switch.calculate_conduction_loss(i_rms=10, duty=0.5)\n        assert p_cond &gt; 0\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s4","title":"Acceptance Criteria S4","text":"<ul> <li> Switch/Capacitor models completi</li> <li> Database lookup funziona</li> <li> Almeno 10 switch reali in database</li> <li> Loss calculations verificate vs datasheet</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#sprint-5-outputs-kpi-integration","title":"\ud83d\udccb Sprint 5: Outputs + KPI Integration","text":"<p>Durata: 2 settimane Ore stimate: 20h Priorit\u00e0: \ud83d\udfe1 High</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi_4","title":"Obiettivi","text":"<ol> <li>Implementare TASOutputs con loss breakdown</li> <li>Integrare con ElectricalKPI esistente</li> <li>Creare ThermalKPI per temperature calculations</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks_4","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#51-loss-breakdown-model-4h","title":"5.1 Loss Breakdown Model (4h)","text":"<pre><code># tas/models/outputs/losses.py\nfrom pydantic import BaseModel\nfrom typing import Optional\n\nclass ComponentLosses(BaseModel):\n    \"\"\"Losses for a single component.\"\"\"\n    component_id: str\n    conduction: Optional[PhysicalQuantity] = None\n    switching: Optional[PhysicalQuantity] = None\n    gate_driver: Optional[PhysicalQuantity] = None\n    core: Optional[PhysicalQuantity] = None  # For magnetics\n    winding: Optional[PhysicalQuantity] = None  # For magnetics\n    dielectric: Optional[PhysicalQuantity] = None  # For capacitors\n    total: PhysicalQuantity\n\n    @property\n    def calculated_total(self) -&gt; float:\n        \"\"\"Sum all loss components.\"\"\"\n        losses = [\n            self.conduction, self.switching, self.gate_driver,\n            self.core, self.winding, self.dielectric\n        ]\n        return sum(l.value for l in losses if l is not None)\n\nclass LossBreakdown(BaseModel):\n    \"\"\"Complete loss breakdown for operating point.\"\"\"\n    total: PhysicalQuantity\n    by_component: list[ComponentLosses] = []\n    by_subnetwork: dict[str, PhysicalQuantity] = {}\n    by_category: dict[str, PhysicalQuantity] = {}  # conduction, switching, magnetic, etc.\n\n    @classmethod\n    def from_ntbees2_kpi(cls, kpi: \"ElectricalKPI\") -&gt; \"LossBreakdown\":\n        \"\"\"Create from NTBEES2 ElectricalKPI.\"\"\"\n        # Mapping from existing KPI system\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#52-thermal-results-model-4h","title":"5.2 Thermal Results Model (4h)","text":"<pre><code># tas/models/outputs/thermal.py\nclass ThermalResults(BaseModel):\n    \"\"\"Thermal simulation results.\"\"\"\n    junction_temperatures: dict[str, PhysicalQuantity] = {}  # component_id -&gt; Tj\n    case_temperatures: dict[str, PhysicalQuantity] = {}\n    heatsink_temperature: Optional[PhysicalQuantity] = None\n    ambient_temperature: PhysicalQuantity\n\n    # Magnetics thermal\n    magnetics_hotspot: Optional[PhysicalQuantity] = None\n    magnetics_average: Optional[PhysicalQuantity] = None\n\n    # Margins\n    thermal_margins: dict[str, PhysicalQuantity] = {}  # component_id -&gt; margin to Tj_max\n\n    def check_limits(self, component_db: ComponentDatabase) -&gt; tuple[bool, list[str]]:\n        \"\"\"Check if all temperatures within limits.\"\"\"\n        violations = []\n        for comp_id, tj in self.junction_temperatures.items():\n            comp = component_db.get_switch(comp_id)\n            if comp and tj.value &gt; comp.thermal.Tj_max.value:\n                violations.append(f\"{comp_id}: Tj={tj.value}\u00b0C &gt; Tj_max={comp.thermal.Tj_max.value}\u00b0C\")\n        return len(violations) == 0, violations\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#53-volume-power-density-3h","title":"5.3 Volume &amp; Power Density (3h)","text":"<pre><code># tas/models/outputs/volumes.py\nclass VolumeBreakdown(BaseModel):\n    \"\"\"Volume breakdown by component/subnetwork.\"\"\"\n    total: PhysicalQuantity  # dm\u00b3\n    by_subnetwork: dict[str, PhysicalQuantity] = {}\n    by_category: dict[str, PhysicalQuantity] = {}  # switching_cell, magnetics, heatsink, etc.\n\nclass PowerDensityMetrics(BaseModel):\n    \"\"\"Power density and related metrics.\"\"\"\n    power_density: PhysicalQuantity  # kW/dm\u00b3\n    specific_power: Optional[PhysicalQuantity] = None  # kW/kg\n    cspi: Optional[PhysicalQuantity] = None  # W/(K\u00b7dm\u00b3)\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#54-tasoutputs-aggregator-4h","title":"5.4 TASOutputs Aggregator (4h)","text":"<pre><code># tas/models/outputs/__init__.py\nclass OperatingPointResults(BaseModel):\n    \"\"\"Results for a single operating point.\"\"\"\n    operating_point: str  # Reference to OP name\n    losses: LossBreakdown\n    efficiency: PhysicalQuantity\n    thermal: ThermalResults\n    waveforms: Optional[\"WaveformResults\"] = None\n\nclass TASOutputs(BaseModel):\n    \"\"\"Complete outputs section of TAS.\"\"\"\n    calculated: bool = False\n    calculation_timestamp: Optional[datetime] = None\n\n    # Per operating point\n    operating_point_results: list[OperatingPointResults] = []\n\n    # Global results\n    volumes: Optional[VolumeBreakdown] = None\n    power_density: Optional[PhysicalQuantity] = None\n    specific_power: Optional[PhysicalQuantity] = None\n    cost_estimate: Optional[PhysicalQuantity] = None\n\n    def get_results(self, op_name: str) -&gt; Optional[OperatingPointResults]:\n        \"\"\"Get results for specific operating point.\"\"\"\n        for opr in self.operating_point_results:\n            if opr.operating_point == op_name:\n                return opr\n        return None\n\n    def get_efficiency_curve(self) -&gt; list[tuple[float, float]]:\n        \"\"\"Get efficiency vs load curve.\"\"\"\n        # Return [(load_%, efficiency_%)]\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#55-integration-with-ntbees2-kpi-5h","title":"5.5 Integration with NTBEES2 KPI (5h)","text":"<pre><code># tas/integration/ntbees2_bridge.py\nfrom ntbees2.kpi.electrical_kpi import ElectricalKPI\nfrom ..models.outputs import TASOutputs, LossBreakdown, OperatingPointResults\n\nclass NTBEES2Bridge:\n    \"\"\"Bridge between TAS and NTBEES2 internal structures.\"\"\"\n\n    @staticmethod\n    def electrical_kpi_to_loss_breakdown(kpi: ElectricalKPI) -&gt; LossBreakdown:\n        \"\"\"Convert NTBEES2 ElectricalKPI to TAS LossBreakdown.\"\"\"\n        return LossBreakdown(\n            total=PhysicalQuantity(value=kpi.total_losses, unit=\"W\"),\n            by_category={\n                \"conduction\": PhysicalQuantity(value=kpi.conduction_losses, unit=\"W\"),\n                \"switching\": PhysicalQuantity(value=kpi.switching_losses, unit=\"W\"),\n                \"magnetic\": PhysicalQuantity(value=kpi.magnetic_losses, unit=\"W\"),\n            }\n        )\n\n    @staticmethod\n    def tas_to_operating_point(tas_op: \"OperatingPoint\"):\n        \"\"\"Convert TAS OperatingPoint to NTBEES2 format.\"\"\"\n        from ntbees2.core.operating_point import OperatingPoint as NTOperatingPoint\n        ...\n\n    @staticmethod\n    def populate_tas_outputs(tas: TAS, ntbees2_results: dict) -&gt; TAS:\n        \"\"\"Populate TAS outputs from NTBEES2 calculation results.\"\"\"\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s5","title":"Acceptance Criteria S5","text":"<ul> <li> LossBreakdown completo con tutte le categorie</li> <li> ThermalResults con thermal margin check</li> <li> Integration con ElectricalKPI funzionante</li> <li> Power density calculation verificata</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#sprint-6-openmagnetics-mas-integration","title":"\ud83d\udccb Sprint 6: OpenMagnetics MAS Integration","text":"<p>Durata: 2 settimane Ore stimate: 15h Priorit\u00e0: \ud83d\udfe1 High</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi_5","title":"Obiettivi","text":"<ol> <li>Implementare MAS file loader</li> <li>Creare wrapper per magnetic component specs</li> <li>Supportare both inline e file reference</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks_5","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#61-mas-schema-integration-4h","title":"6.1 MAS Schema Integration (4h)","text":"<pre><code># tas/integrations/mas/mas_loader.py\nfrom pathlib import Path\nimport json\nfrom typing import Optional, Union\n\nclass MASLoader:\n    \"\"\"Load and parse OpenMagnetics MAS files.\"\"\"\n\n    def __init__(self):\n        self._cache: dict[str, dict] = {}\n\n    def load(self, reference: str) -&gt; dict:\n        \"\"\"Load MAS from file:// or openmagnetics:// reference.\"\"\"\n        if reference in self._cache:\n            return self._cache[reference]\n\n        if reference.startswith(\"file://\"):\n            path = Path(reference[7:])\n            data = json.loads(path.read_text())\n        elif reference.startswith(\"openmagnetics://\"):\n            # Fetch from OpenMagnetics catalog API\n            data = self._fetch_from_catalog(reference)\n        else:\n            raise ValueError(f\"Unknown MAS reference format: {reference}\")\n\n        self._cache[reference] = data\n        return data\n\n    def _fetch_from_catalog(self, reference: str) -&gt; dict:\n        \"\"\"Fetch from OpenMagnetics online catalog.\"\"\"\n        # Parse: openmagnetics://catalog/ETD49_N87_100uH\n        # Use OpenMagnetics API\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#62-mas-to-ntbees2-magnetic-model-6h","title":"6.2 MAS to NTBEES2 Magnetic Model (6h)","text":"<pre><code># tas/integrations/mas/mas_converter.py\nclass MASToNTBEES2Converter:\n    \"\"\"Convert MAS magnetic definition to NTBEES2 format.\"\"\"\n\n    def convert_inductor(self, mas_data: dict) -&gt; \"InductorModel\":\n        \"\"\"Convert MAS inductor to NTBEES2 InductorModel.\"\"\"\n        # Extract core parameters\n        core = mas_data.get(\"magnetic\", {}).get(\"core\", {})\n        winding = mas_data.get(\"magnetic\", {}).get(\"winding\", {})\n\n        # Map to NTBEES2 structure\n        return InductorModel(\n            core_type=core.get(\"shape\"),\n            core_material=core.get(\"material\"),\n            air_gap=core.get(\"gapping\", [{}])[0].get(\"length\"),\n            turns=winding.get(\"turns_description\", [{}])[0].get(\"number_turns\"),\n            wire_type=winding.get(\"layers_description\", [{}])[0].get(\"wire_type\"),\n            # ... more mappings\n        )\n\n    def convert_transformer(self, mas_data: dict) -&gt; \"TransformerModel\":\n        \"\"\"Convert MAS transformer to NTBEES2 format.\"\"\"\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#63-bidirectional-export-3h","title":"6.3 Bidirectional Export (3h)","text":"<pre><code># tas/integrations/mas/mas_exporter.py\nclass NTBEES2ToMASExporter:\n    \"\"\"Export NTBEES2 magnetic models to MAS format.\"\"\"\n\n    def export_inductor(self, inductor: \"InductorModel\") -&gt; dict:\n        \"\"\"Export inductor to MAS JSON structure.\"\"\"\n        return {\n            \"magnetic\": {\n                \"core\": {\n                    \"shape\": inductor.core_type,\n                    \"material\": inductor.core_material,\n                    \"gapping\": [{\"type\": \"subtractive\", \"length\": inductor.air_gap}]\n                },\n                \"winding\": {\n                    \"turns_description\": [{\"number_turns\": inductor.turns}]\n                }\n            }\n        }\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#64-tests-2h","title":"6.4 Tests (2h)","text":"<pre><code># tests/tas/test_mas_integration.py\nclass TestMASIntegration:\n    def test_load_local_mas_file(self):\n        loader = MASLoader()\n        data = loader.load(\"file://samples/inductor.mas.json\")\n        assert \"magnetic\" in data\n\n    def test_convert_to_ntbees2(self):\n        converter = MASToNTBEES2Converter()\n        mas_data = {...}  # Sample MAS\n        inductor = converter.convert_inductor(mas_data)\n        assert inductor.core_type is not None\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s6","title":"Acceptance Criteria S6","text":"<ul> <li> MAS files load correctly</li> <li> OpenMagnetics catalog API integration</li> <li> Bidirectional conversion funziona</li> <li> Tested con almeno 3 magnetic components</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#sprint-7-export-to-simulation-tools","title":"\ud83d\udccb Sprint 7: Export to Simulation Tools","text":"<p>Durata: 2 settimane Ore stimate: 25h Priorit\u00e0: \ud83d\udfe2 Medium</p>"},{"location":"tas_sprint_planning_ntbees2/#obiettivi_6","title":"Obiettivi","text":"<ol> <li>PLECS netlist export</li> <li>LTspice .asc export</li> <li>GeckoCircuits export</li> </ol>"},{"location":"tas_sprint_planning_ntbees2/#tasks_6","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#71-plecs-exporter-10h","title":"7.1 PLECS Exporter (10h)","text":"<pre><code># tas/exporters/plecs_exporter.py\nclass PLECSExporter:\n    \"\"\"Export TAS to PLECS simulation file.\"\"\"\n\n    def __init__(self, tas: TAS):\n        self.tas = tas\n\n    def export(self, output_path: str) -&gt; None:\n        \"\"\"Export to PLECS .plecs file.\"\"\"\n        # PLECS uses XML format internally\n        ...\n\n    def _create_component_block(self, comp: Component) -&gt; str:\n        \"\"\"Create PLECS component block.\"\"\"\n        if isinstance(comp, SwitchComponent):\n            return self._create_mosfet_block(comp)\n        elif isinstance(comp, CapacitorComponent):\n            return self._create_capacitor_block(comp)\n        ...\n\n    def _generate_netlist(self) -&gt; str:\n        \"\"\"Generate PLECS netlist from TAS.\"\"\"\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#72-ltspice-exporter-8h","title":"7.2 LTspice Exporter (8h)","text":"<pre><code># tas/exporters/ltspice_exporter.py\nclass LTspiceExporter:\n    \"\"\"Export TAS to LTspice .asc file.\"\"\"\n\n    def export(self, output_path: str) -&gt; None:\n        \"\"\"Export to LTspice schematic.\"\"\"\n        lines = []\n        lines.append(\"Version 4\")\n        lines.append(\"SHEET 1 880 680\")\n\n        # Add components\n        for comp in self.tas.converter.components:\n            lines.extend(self._component_to_ltspice(comp))\n\n        # Add wires from netlist\n        lines.extend(self._netlist_to_wires())\n\n        Path(output_path).write_text(\"\\n\".join(lines))\n\n    def _component_to_ltspice(self, comp: Component) -&gt; list[str]:\n        \"\"\"Convert component to LTspice format.\"\"\"\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#73-geckocircuits-exporter-5h","title":"7.3 GeckoCircuits Exporter (5h)","text":"<pre><code># tas/exporters/gecko_exporter.py\nclass GeckoCircuitsExporter:\n    \"\"\"Export TAS to GeckoCircuits .ipes file.\"\"\"\n\n    def export(self, output_path: str) -&gt; None:\n        \"\"\"Export to GeckoCircuits format.\"\"\"\n        # GeckoCircuits uses custom XML format\n        ...\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#74-generic-netlist-format-2h","title":"7.4 Generic Netlist Format (2h)","text":"<pre><code># tas/exporters/netlist_exporter.py\nclass GenericNetlistExporter:\n    \"\"\"Export to generic SPICE-compatible netlist.\"\"\"\n\n    def export_spice(self, output_path: str) -&gt; None:\n        \"\"\"Export to .cir SPICE file.\"\"\"\n        lines = [f\"* {self.tas.metadata.name}\"]\n        lines.append(f\"* Generated from TAS on {datetime.now()}\")\n        lines.append(\"\")\n\n        # Add subcircuits for complex components\n        # Add main circuit\n        # Add analysis commands\n\n        Path(output_path).write_text(\"\\n\".join(lines))\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#acceptance-criteria-s7","title":"Acceptance Criteria S7","text":"<ul> <li> PLECS export produce simulazione funzionante</li> <li> LTspice export verificato con test case</li> <li> Netlist format valido per tutti i simulatori</li> </ul>"},{"location":"tas_sprint_planning_ntbees2/#sprint-8-validation-documentation","title":"\ud83d\udccb Sprint 8: Validation + Documentation","text":"<p>Durata: 2 settimane Ore stimate: 15h Priorit\u00e0: \ud83d\udfe2 Medium</p>"},{"location":"tas_sprint_planning_ntbees2/#tasks_7","title":"Tasks","text":""},{"location":"tas_sprint_planning_ntbees2/#81-end-to-end-validation-5h","title":"8.1 End-to-End Validation (5h)","text":"<pre><code># tests/tas/test_e2e.py\nclass TestEndToEnd:\n    def test_buck_converter_complete_flow(self):\n        \"\"\"Test complete TAS workflow for buck converter.\"\"\"\n        # 1. Load TAS\n        tas = TAS.from_json(\"samples/buck_5kW_sic.tas.json\")\n\n        # 2. Validate\n        validator = TASValidator()\n        valid, errors = validator.validate(tas.model_dump())\n        assert valid, errors\n\n        # 3. Run NTBEES2 analysis\n        bridge = NTBEES2Bridge()\n        results = bridge.analyze(tas)\n\n        # 4. Populate outputs\n        tas = bridge.populate_tas_outputs(tas, results)\n\n        # 5. Export to PLECS\n        exporter = PLECSExporter(tas)\n        exporter.export(\"output/buck_5kW.plecs\")\n\n        # 6. Verify outputs\n        assert tas.outputs.calculated\n        assert tas.outputs.power_density.value &gt; 0\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#82-documentation-5h","title":"8.2 Documentation (5h)","text":"<pre><code># tas/docs/index.md\n\n## Quick Start\n\n```python\nfrom tas import TAS, ComponentDatabase\n\n# Load TAS file\ntas = TAS.from_json(\"my_converter.tas.json\")\n\n# Access design requirements\nprint(f\"Power: {tas.inputs.design_requirements.power.nominal}\")\n\n# Run analysis\nfrom ntbees2 import analyze\nresults = analyze(tas)\n\n# Export\ntas.to_plecs(\"simulation.plecs\")\n</code></pre>"},{"location":"tas_sprint_planning_ntbees2/#api-reference","title":"API Reference","text":"<p>... <pre><code>#### 8.3 Sample Files (5h)\n- Buck converter (gi\u00e0 creato)\n- Boost PFC\n- LLC converter\n- Vienna rectifier\n\n### Acceptance Criteria S8\n- [ ] E2E test passa per tutti i samples\n- [ ] Documentation completa\n- [ ] 4+ sample files validati\n\n---\n\n## \ud83d\udcca Dependency Graph\n</code></pre> S1 (Core Models)     \u2502     \u251c\u2500\u2500\u25b6 S2 (Inputs)     \u2502       \u2502     \u2502       \u2514\u2500\u2500\u25b6 S3 (Converter)     \u2502               \u2502     \u2502               \u251c\u2500\u2500\u25b6 S4 (Components DB)     \u2502               \u2502       \u2502     \u2502               \u2502       \u2514\u2500\u2500\u25b6 S5 (Outputs)     \u2502               \u2502               \u2502     \u2502               \u2502               \u2514\u2500\u2500\u25b6 S8 (Validation)     \u2502               \u2502     \u2502               \u2514\u2500\u2500\u25b6 S6 (MAS Integration)     \u2502                       \u2502     \u2502                       \u2514\u2500\u2500\u25b6 S8 (Validation)     \u2502     \u2514\u2500\u2500\u25b6 S7 (Exporters) \u2500\u2500\u25b6 S8 (Validation) <pre><code>---\n\n## \ud83c\udfaf Definition of Done (DoD)\n\nPer ogni Sprint:\n- [ ] Tutti i task completati\n- [ ] Unit tests con coverage &gt; 80%\n- [ ] Integration tests passano\n- [ ] Code review completata\n- [ ] Documentazione aggiornata\n- [ ] No critical/high bugs aperti\n\n---\n\n## \ud83d\udcc8 Metriche di Successo\n\n| Metrica | Target | Verifica |\n|---------|--------|----------|\n| Test Coverage | &gt; 85% | pytest-cov |\n| JSON Schema Validation | 100% | jsonschema |\n| PLECS Export Accuracy | &lt; 1% error | Cross-validation |\n| MAS Compatibility | 100% | OpenMagnetics test suite |\n| Documentation | Complete | All public APIs documented |\n\n---\n\n## \ud83d\udea8 Rischi e Mitigazioni\n\n| Rischio | Probabilit\u00e0 | Impatto | Mitigazione |\n|---------|-------------|---------|-------------|\n| OpenMagnetics API changes | Media | Alto | Pin versione, local fallback |\n| PLECS format undocumented | Alta | Medio | Reverse engineering, test-driven |\n| Performance con large netlists | Bassa | Medio | Lazy loading, caching |\n| Pydantic v1/v2 compatibility | Bassa | Alto | Target Pydantic v2 only |\n\n---\n\n## \ud83d\udcdd Note Implementative\n\n### Convenzioni Codice\n- Python 3.10+ con type hints\n- Pydantic v2 per validazione\n- Black + isort per formatting\n- pytest per testing\n\n### Struttura File Finale\n</code></pre> ntbees2/ \u251c\u2500\u2500 tas/ \u2502   \u251c\u2500\u2500 init.py \u2502   \u251c\u2500\u2500 models/ \u2502   \u2502   \u251c\u2500\u2500 quantities.py \u2502   \u2502   \u251c\u2500\u2500 waveforms.py \u2502   \u2502   \u251c\u2500\u2500 tas_root.py \u2502   \u2502   \u251c\u2500\u2500 inputs/ \u2502   \u2502   \u251c\u2500\u2500 converter/ \u2502   \u2502   \u251c\u2500\u2500 outputs/ \u2502   \u2502   \u2514\u2500\u2500 components/ \u2502   \u251c\u2500\u2500 validation/ \u2502   \u251c\u2500\u2500 database/ \u2502   \u251c\u2500\u2500 integrations/ \u2502   \u2502   \u2514\u2500\u2500 mas/ \u2502   \u251c\u2500\u2500 exporters/ \u2502   \u2514\u2500\u2500 schemas/ \u251c\u2500\u2500 tests/ \u2502   \u2514\u2500\u2500 tas/ \u2514\u2500\u2500 docs/ ```</p> <p>Documento creato: 2026-01-25 Autore: NTBEES2 Team</p>"},{"location":"tas_timeline_visual/","title":"TAS Implementation Timeline - Visual Overview","text":""},{"location":"tas_timeline_visual/#sprint-gantt-chart","title":"Sprint Gantt Chart","text":"<pre><code>gantt\n    title TAS Implementation in NTBEES2\n    dateFormat  YYYY-MM-DD\n    section Core Infrastructure\n    S1: Core Models (Pydantic)      :s1, 2026-02-01, 14d\n    S2: Inputs + Waveforms          :s2, after s1, 14d\n    section Converter Structure\n    S3: Converter + Netlist         :s3, after s2, 14d\n    S4: Components Database         :s4, after s3, 14d\n    section Integration\n    S5: Outputs + KPI               :s5, after s4, 14d\n    S6: MAS Integration             :s6, after s3, 14d\n    section Export &amp; Validation\n    S7: Exporters (PLECS/LTspice)   :s7, after s1, 14d\n    S8: Validation + Docs           :s8, after s5, 14d</code></pre>"},{"location":"tas_timeline_visual/#architecture-overview","title":"Architecture Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           TAS Document                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502     INPUTS      \u2502       CONVERTER         \u2502        OUTPUTS          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 DesignReqs      \u2502 TopologyType            \u2502 LossBreakdown           \u2502\n\u2502 OperatingPoints \u2502 SubNetworks             \u2502 Efficiency              \u2502\n\u2502 Constraints     \u2502 Components              \u2502 ThermalResults          \u2502\n\u2502                 \u2502 Netlist                 \u2502 Volumes                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                    \u2502                          \u2502\n         \u25bc                    \u25bc                          \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 NTBEES2 Bridge  \u2502  \u2502 Component Database  \u2502  \u2502 ElectricalKPI       \u2502\n\u2502 - TimeSeries    \u2502  \u2502 - Switches          \u2502  \u2502 - ThermalKPI        \u2502\n\u2502 - OperatingPt   \u2502  \u2502 - Capacitors        \u2502  \u2502 (existing)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 - MAS Integration   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502 EXPORTERS           \u2502\n                     \u2502 - PLECS             \u2502\n                     \u2502 - LTspice           \u2502\n                     \u2502 - GeckoCircuits     \u2502\n                     \u2502 - SPICE Netlist     \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tas_timeline_visual/#sprint-dependencies","title":"Sprint Dependencies","text":"<pre><code>        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502    S1    \u2502 Core Models\n        \u2502 (20h)    \u2502 PhysicalQuantity, Waveform, TAS Root\n        \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502        \u2502        \u2502\n    \u25bc        \u25bc        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  S2  \u2502 \u2502  S7  \u2502 \u2502      \u2502\n\u2502(20h) \u2502 \u2502(25h) \u2502 \u2502      \u2502\n\u2502Inputs\u2502 \u2502Export\u2502 \u2502      \u2502\n\u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502      \u2502\n   \u2502              \u2502      \u2502\n   \u25bc              \u2502      \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502      \u2502\n\u2502  S3  \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502(25h) \u2502                 \u2502\n\u2502Convrt\u2502                 \u2502\n\u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2518                 \u2502\n   \u2502                     \u2502\n   \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n   \u2502         \u2502\n   \u25bc         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  S4  \u2502 \u2502  S6  \u2502\n\u2502(20h) \u2502 \u2502(15h) \u2502\n\u2502Comp  \u2502 \u2502 MAS  \u2502\n\u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n   \u2502        \u2502\n   \u25bc        \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  S5  \u2502\u25c4\u2500\u2500\u2500\u2518\n\u2502(20h) \u2502\n\u2502Output\u2502\n\u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n   \u2502\n   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  S8  \u2502\n\u2502(15h) \u2502\n\u2502Valid \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tas_timeline_visual/#effort-distribution","title":"Effort Distribution","text":"Sprint Effort Cumulative S1 20h 20h S2 20h 40h S3 25h 65h S4 20h 85h S5 20h 105h S6 15h 120h S7 25h 145h S8 15h 160h"},{"location":"tas_timeline_visual/#key-deliverables-per-sprint","title":"Key Deliverables per Sprint","text":""},{"location":"tas_timeline_visual/#s1-foundation","title":"S1: Foundation","text":"<ul> <li><code>PhysicalQuantity</code> con unit handling</li> <li><code>Waveform</code> types (sampled, PWL, analytical)</li> <li>JSON Schema validator</li> <li>Bridge to NTBEES2 <code>TimeSeries</code></li> </ul>"},{"location":"tas_timeline_visual/#s2-inputs","title":"S2: Inputs","text":"<ul> <li><code>DesignRequirements</code> completo</li> <li><code>OperatingPoint</code> con excitations</li> <li><code>Constraints</code> per optimization bounds</li> </ul>"},{"location":"tas_timeline_visual/#s3-converter","title":"S3: Converter","text":"<ul> <li><code>TopologyType</code> enum (30+ topologies)</li> <li><code>SubNetwork</code> polymorphism</li> <li><code>Netlist</code> con SPICE export</li> </ul>"},{"location":"tas_timeline_visual/#s4-components","title":"S4: Components","text":"<ul> <li><code>SwitchComponent</code> model completo</li> <li><code>CapacitorComponent</code> model</li> <li>Database loader (JSON/SQLite)</li> <li>10+ real components</li> </ul>"},{"location":"tas_timeline_visual/#s5-outputs","title":"S5: Outputs","text":"<ul> <li><code>LossBreakdown</code> gerarchico</li> <li><code>ThermalResults</code> con limit check</li> <li>Integration con <code>ElectricalKPI</code></li> </ul>"},{"location":"tas_timeline_visual/#s6-mas","title":"S6: MAS","text":"<ul> <li>MAS file loader</li> <li>OpenMagnetics API client</li> <li>Bidirectional conversion</li> </ul>"},{"location":"tas_timeline_visual/#s7-exporters","title":"S7: Exporters","text":"<ul> <li>PLECS .plecs export</li> <li>LTspice .asc export</li> <li>Generic SPICE netlist</li> </ul>"},{"location":"tas_timeline_visual/#s8-validation","title":"S8: Validation","text":"<ul> <li>E2E test suite</li> <li>4+ sample files</li> <li>Complete documentation</li> </ul>"},{"location":"tas_timeline_visual/#risk-matrix","title":"Risk Matrix","text":"<pre><code>           IMPACT\n        Low    Med    High\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n High \u2502      \u2502      \u2502 API  \u2502\nProb  \u2502      \u2502      \u2502change\u2502\n      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n Med  \u2502      \u2502PLECS \u2502      \u2502\n      \u2502      \u2502format\u2502      \u2502\n      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n Low  \u2502perf  \u2502      \u2502Pydnt \u2502\n      \u2502      \u2502      \u2502v1/v2 \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tas_timeline_visual/#quick-start-commands","title":"Quick Start Commands","text":"<pre><code># Sprint 1 setup\ncd ntbees2\nmkdir -p tas/models tas/validation tas/schemas\ntouch tas/__init__.py\ncp /path/to/tas.json tas/schemas/\n\n# Run tests\npytest tests/tas/ -v --cov=tas\n\n# Validate TAS file\npython -m tas.validation.schema_validator samples/buck_5kW_sic.tas.json\n</code></pre>"},{"location":"webgui/","title":"PyPLECS Web GUI Guide","text":"<p>Complete guide to the PyPLECS web monitoring interface.</p>"},{"location":"webgui/#overview","title":"Overview","text":"<p>The PyPLECS Web GUI provides a browser-based interface for:</p> <ul> <li>\ud83d\udcca Real-time monitoring of simulation queue and status</li> <li>\ud83d\ude80 Submit simulations with parameter configuration</li> <li>\ud83d\udcbe Cache management with statistics and controls</li> <li>\ud83d\udcc8 Performance analytics and speedup tracking</li> <li>\u2699\ufe0f Configuration editing (planned)</li> <li>\ud83d\udce1 Live updates via WebSocket</li> </ul> <p>Built with FastAPI, Jinja2, and modern web technologies.</p>"},{"location":"webgui/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Started</li> <li>Dashboard</li> <li>Simulations Page</li> <li>Cache Page</li> <li>Settings Page</li> <li>WebSocket Live Updates</li> <li>Keyboard Shortcuts</li> <li>Troubleshooting</li> </ul>"},{"location":"webgui/#getting-started","title":"Getting Started","text":""},{"location":"webgui/#starting-the-web-gui","title":"Starting the Web GUI","text":"<pre><code># Method 1: Entry point (recommended)\npyplecs-gui\n\n# Method 2: Direct module\npython -m pyplecs.webgui\n\n# Method 3: Python script\npython start_webgui.py\n\n# Custom port\npyplecs-gui --port 5001\n\n# Custom host (bind to all interfaces)\npyplecs-gui --host 0.0.0.0\n</code></pre> <p>Expected output: <pre><code>INFO:     Started server process\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:5000\n</code></pre></p>"},{"location":"webgui/#accessing-the-interface","title":"Accessing the Interface","text":"<p>Open your browser to: http://localhost:5000</p> <p>Supported Browsers: - \u2705 Chrome/Chromium (recommended) - \u2705 Firefox - \u2705 Edge - \u2705 Safari - \u26a0\ufe0f Internet Explorer (not supported)</p>"},{"location":"webgui/#first-time-setup","title":"First Time Setup","text":"<ol> <li>Start PLECS with XML-RPC enabled</li> <li>PLECS &gt; Preferences &gt; Remote Control &gt; Enable</li> <li> <p>Default port: 1080</p> </li> <li> <p>Run setup wizard (if not done already)    <pre><code>pyplecs-setup\n</code></pre></p> </li> <li> <p>Start Web GUI <pre><code>pyplecs-gui\n</code></pre></p> </li> <li> <p>Open browser to http://localhost:5000</p> </li> </ol> <p>You should see the dashboard with system status.</p>"},{"location":"webgui/#dashboard","title":"Dashboard","text":"<p>The main dashboard provides at-a-glance monitoring.</p>"},{"location":"webgui/#layout","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PyPLECS Dashboard                     [Status] \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502  Queue     \u2502  \u2502   Cache    \u2502  \u2502  System    \u2502\u2502\n\u2502  \u2502  Status    \u2502  \u2502   Stats    \u2502  \u2502  Info      \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502        Active Simulations (Real-time)       \u2502\u2502\n\u2502  \u2502  [====================&gt;        ] 75%        \u2502\u2502\n\u2502  \u2502  Task: abc123... | Running | 7.5s elapsed   \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502          Recent Completions                 \u2502\u2502\n\u2502  \u2502  \u2705 Task def456... | Completed | 8.2s       \u2502\u2502\n\u2502  \u2502  \u2705 Task ghi789... | Completed | 7.9s       \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"webgui/#widgets","title":"Widgets","text":""},{"location":"webgui/#queue-status-card","title":"Queue Status Card","text":"<ul> <li>Pending: Tasks waiting in queue</li> <li>Running: Currently executing simulations</li> <li>Completed: Successfully finished tasks</li> <li>Failed: Tasks that encountered errors</li> <li>Avg Duration: Average simulation time</li> </ul> <p>Example: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Queue Status    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Pending:     5   \u2502\n\u2502 Running:     2   \u2502\n\u2502 Completed: 1523  \u2502\n\u2502 Failed:     12   \u2502\n\u2502 Avg: 8.5s        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#cache-stats-card","title":"Cache Stats Card","text":"<ul> <li>Hit Rate: Percentage of cache hits</li> <li>Total Entries: Number of cached simulations</li> <li>Disk Usage: Cache storage size</li> <li>Speedup: Performance improvement from caching</li> </ul> <p>Example: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Cache Stats     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Hit Rate: 76.1%  \u2502\n\u2502 Entries:  2001   \u2502\n\u2502 Size:    145 MB  \u2502\n\u2502 Speedup:  5.2x   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#system-info-card","title":"System Info Card","text":"<ul> <li>PLECS: Connection status</li> <li>Version: PyPLECS version</li> <li>Uptime: Server uptime</li> <li>CPU Cores: Available cores for parallelization</li> </ul> <p>Example: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  System Info     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 PLECS: Connected \u2502\n\u2502 Version: 1.0.0   \u2502\n\u2502 Uptime: 1h 23m   \u2502\n\u2502 Cores: 4         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#real-time-updates","title":"Real-Time Updates","text":"<p>Dashboard updates automatically via WebSocket: - \u26a1 Live progress bars for running simulations - \ud83d\udd04 Auto-refresh queue statistics - \ud83d\udcca Instant updates when simulations complete</p> <p>Status indicators: - \ud83d\udfe2 Green: Healthy, PLECS connected - \ud83d\udfe1 Yellow: Warning, high queue depth - \ud83d\udd34 Red: Error, PLECS disconnected</p>"},{"location":"webgui/#simulations-page","title":"Simulations Page","text":"<p>Submit and manage simulations.</p>"},{"location":"webgui/#submit-new-simulation","title":"Submit New Simulation","text":"<p>Form Fields:</p> <ol> <li>Model File (required)</li> <li>Path to <code>.plecs</code> file</li> <li>Can be absolute or relative to working directory</li> <li> <p>Autocomplete suggests recent models</p> </li> <li> <p>Parameters (optional)</p> </li> <li>JSON format: <code>{\"Vi\": 12.0, \"Vo\": 5.0, \"fsw\": 100000}</code></li> <li> <p>Or key-value editor:      <pre><code>Vi:  12.0\nVo:  5.0\nfsw: 100000\n</code></pre></p> </li> <li> <p>Output Variables (optional)</p> </li> <li>Comma-separated: <code>Vo, IL, Iin</code></li> <li> <p>Leave empty to return all variables</p> </li> <li> <p>Priority (optional, default: NORMAL)</p> </li> <li>CRITICAL: Highest priority</li> <li>HIGH: Important simulations</li> <li>NORMAL: Default</li> <li> <p>LOW: Background jobs</p> </li> <li> <p>Metadata (optional)</p> </li> <li>Custom JSON: <code>{\"user\": \"engineer@company.com\", \"project\": \"buck_design\"}</code></li> </ol> <p>Example: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Submit Simulation                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Model File: [models/buck.plecs         ] \ud83d\udcc1 \u2502\n\u2502                                             \u2502\n\u2502 Parameters:                                 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 {                                       \u2502 \u2502\n\u2502 \u2502   \"Vi\": 12.0,                           \u2502 \u2502\n\u2502 \u2502   \"Vo\": 5.0                             \u2502 \u2502\n\u2502 \u2502 }                                       \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                             \u2502\n\u2502 Priority: [NORMAL \u25bc]                        \u2502\n\u2502                                             \u2502\n\u2502            [Submit Simulation]              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>After Submission: <pre><code>\u2705 Simulation submitted successfully!\nTask ID: abc123-def456-ghi789\nStatus: Queued\nPriority: NORMAL\n\n[View Status] [View Results (when ready)]\n</code></pre></p>"},{"location":"webgui/#batch-submission","title":"Batch Submission","text":"<p>For parameter sweeps or multiple simulations:</p> <p>Batch Mode: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Batch Submission                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Model File: [models/buck.plecs         ] \ud83d\udcc1 \u2502\n\u2502                                             \u2502\n\u2502 Parameter Sweep:                            \u2502\n\u2502 Variable: [Vi            ]                  \u2502\n\u2502 Start:    [12            ]                  \u2502\n\u2502 Stop:     [48            ]                  \u2502\n\u2502 Step:     [6             ]                  \u2502\n\u2502                                             \u2502\n\u2502 Or paste JSON array:                        \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 [                                       \u2502 \u2502\n\u2502 \u2502   {\"Vi\": 12.0},                         \u2502 \u2502\n\u2502 \u2502   {\"Vi\": 24.0},                         \u2502 \u2502\n\u2502 \u2502   {\"Vi\": 48.0}                          \u2502 \u2502\n\u2502 \u2502 ]                                       \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                             \u2502\n\u2502          [Submit Batch (3 simulations)]     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>After Batch Submission: <pre><code>\u2705 Batch submitted: 3 simulations\nTask IDs:\n- abc123-def456-ghi789 (Queued)\n- jkl012-mno345-pqr678 (Queued)\n- stu901-vwx234-yza567 (Queued)\n\n[Monitor All] [Export Results (when ready)]\n</code></pre></p>"},{"location":"webgui/#simulation-queue-view","title":"Simulation Queue View","text":"<p>Table: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Task ID     \u2502 Status   \u2502 Prio   \u2502 Model    \u2502 Started  \u2502 Actions \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 abc123...   \u2502 Running  \u2502 HIGH   \u2502 buck.pl  \u2502 10:30:05 \u2502 [View]  \u2502\n\u2502 def456...   \u2502 Queued   \u2502 NORMAL \u2502 buck.pl  \u2502 --       \u2502 [Cancel]\u2502\n\u2502 ghi789...   \u2502 Complete \u2502 HIGH   \u2502 boost.pl \u2502 10:29:45 \u2502 [View]  \u2502\n\u2502 jkl012...   \u2502 Failed   \u2502 LOW    \u2502 buck.pl  \u2502 10:28:30 \u2502 [Retry] \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Filters: - Status: All / Queued / Running / Completed / Failed - Priority: All / CRITICAL / HIGH / NORMAL / LOW - Model: [Dropdown of recent models] - Date Range: Last hour / Last day / Last week / Custom</p> <p>Actions: - View: See details and results - Cancel: Cancel queued/running simulation - Retry: Re-submit failed simulation - Clone: Submit similar simulation with modified parameters</p>"},{"location":"webgui/#cache-page","title":"Cache Page","text":"<p>Manage simulation result cache.</p>"},{"location":"webgui/#cache-statistics","title":"Cache Statistics","text":"<p>Overview: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Cache Performance                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Hit Rate: \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 76.1%      \u2502\n\u2502                                             \u2502\n\u2502  Hits:    1523                              \u2502\n\u2502  Misses:   478                              \u2502\n\u2502  Total:   2001                              \u2502\n\u2502                                             \u2502\n\u2502  Disk Usage: 145.7 MB / 1000 MB (14.6%)     \u2502\n\u2502                                             \u2502\n\u2502  Oldest Entry: 2025-01-20 08:00:00          \u2502\n\u2502  Newest Entry: 2025-01-25 10:30:00          \u2502\n\u2502                                             \u2502\n\u2502  Estimated Speedup: 5.2x                    \u2502\n\u2502  Time Saved: 3h 42m                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#cache-entries","title":"Cache Entries","text":"<p>Table: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Model      \u2502 Params  \u2502 Created    \u2502 Accessed\u2502 Size  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 buck.plecs \u2502 Vi=12.0 \u2502 Jan 25 10h \u2502 5 times \u2502 72 KB \u2502\n\u2502 buck.plecs \u2502 Vi=24.0 \u2502 Jan 25 10h \u2502 3 times \u2502 71 KB \u2502\n\u2502 boost.plecs\u2502 Vi=48.0 \u2502 Jan 24 15h \u2502 1 time  \u2502 68 KB \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#cache-management","title":"Cache Management","text":"<p>Actions: <pre><code>[Clear All Cache] [Clear Old Entries (&gt;30 days)]\n[Export Cache Stats] [Optimize Storage]\n</code></pre></p> <p>Clear Cache Confirmation: <pre><code>\u26a0\ufe0f  Warning: Clear Cache?\n\nThis will delete 2001 cache entries (145.7 MB).\nSimulations will need to re-run until cache rebuilds.\n\n[Cancel] [Confirm Clear]\n</code></pre></p>"},{"location":"webgui/#cache-settings","title":"Cache Settings","text":"<p>Configuration Panel: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Cache Settings                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u2611 Caching Enabled                           \u2502\n\u2502                                             \u2502\n\u2502 Storage Format: [Parquet \u25bc]                \u2502\n\u2502   (parquet, hdf5, csv)                      \u2502\n\u2502                                             \u2502\n\u2502 Compression: [Snappy \u25bc]                     \u2502\n\u2502   (snappy, gzip, lz4, none)                 \u2502\n\u2502                                             \u2502\n\u2502 TTL (Time to Live):                         \u2502\n\u2502   [24] hours (0 = infinite)                 \u2502\n\u2502                                             \u2502\n\u2502 Max Cache Size:                             \u2502\n\u2502   [1000] MB (0 = unlimited)                 \u2502\n\u2502                                             \u2502\n\u2502             [Save Settings]                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#settings-page","title":"Settings Page","text":"<p>Note: Full settings UI is planned for v1.x. Current version: read-only config display.</p>"},{"location":"webgui/#current-implementation","title":"Current Implementation","text":"<p>Configuration Display: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Configuration                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  PLECS:                                     \u2502\n\u2502    Executable: C:/Program Files/...         \u2502\n\u2502    XML-RPC Port: 1080                       \u2502\n\u2502                                             \u2502\n\u2502  Orchestration:                             \u2502\n\u2502    Max Concurrent: 4                        \u2502\n\u2502    Batch Size: 4                            \u2502\n\u2502    Retry Attempts: 3                        \u2502\n\u2502                                             \u2502\n\u2502  Cache:                                     \u2502\n\u2502    Enabled: Yes                             \u2502\n\u2502    Format: Parquet                          \u2502\n\u2502    Compression: Snappy                      \u2502\n\u2502                                             \u2502\n\u2502  [Edit config/default.yml manually]         \u2502\n\u2502  [Reload Configuration]                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"webgui/#planned-v1x","title":"Planned (v1.x)","text":"<p>Editable Settings UI: - Inline editing of configuration - Validation before save - Hot-reload without restart - Import/export configuration - Multiple configuration profiles</p>"},{"location":"webgui/#websocket-live-updates","title":"WebSocket Live Updates","text":"<p>The Web GUI uses WebSocket for real-time updates without polling.</p>"},{"location":"webgui/#how-it-works","title":"How It Works","text":"<ol> <li>Browser connects to <code>ws://localhost:5000/ws</code></li> <li>Server pushes updates when events occur:</li> <li>Simulation status changes</li> <li>Queue depth changes</li> <li>Cache hit/miss events</li> <li>System status changes</li> <li>UI updates instantly without refresh</li> </ol>"},{"location":"webgui/#events","title":"Events","text":"<p>Simulation Status Update: <pre><code>{\n  \"type\": \"simulation_update\",\n  \"task_id\": \"abc123-def456-ghi789\",\n  \"status\": \"running\",\n  \"progress\": 0.75,\n  \"elapsed_seconds\": 7.5\n}\n</code></pre></p> <p>Queue Update: <pre><code>{\n  \"type\": \"queue_update\",\n  \"pending\": 5,\n  \"running\": 2,\n  \"completed\": 1523\n}\n</code></pre></p> <p>Cache Hit: <pre><code>{\n  \"type\": \"cache_event\",\n  \"event\": \"hit\",\n  \"task_id\": \"def456-ghi789-jkl012\",\n  \"speedup\": 1000.0\n}\n</code></pre></p>"},{"location":"webgui/#connection-status","title":"Connection Status","text":"<p>Indicator (top-right): - \ud83d\udfe2 Connected: Live updates active - \ud83d\udfe1 Reconnecting: Temporary connection loss - \ud83d\udd34 Disconnected: No live updates (manual refresh needed)</p> <p>Auto-reconnect: Browser automatically reconnects if connection drops.</p>"},{"location":"webgui/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>Navigate faster with keyboard shortcuts:</p>"},{"location":"webgui/#global","title":"Global","text":"<ul> <li><code>?</code> - Show keyboard shortcut help</li> <li><code>/</code> - Focus search box</li> <li><code>Esc</code> - Close modal/dialog</li> </ul>"},{"location":"webgui/#navigation","title":"Navigation","text":"<ul> <li><code>g d</code> - Go to Dashboard</li> <li><code>g s</code> - Go to Simulations page</li> <li><code>g c</code> - Go to Cache page</li> <li><code>g t</code> - Go to Settings page</li> </ul>"},{"location":"webgui/#actions","title":"Actions","text":"<ul> <li><code>n</code> - New simulation</li> <li><code>b</code> - Batch submission</li> <li><code>r</code> - Refresh data</li> <li><code>Ctrl+Enter</code> - Submit form</li> </ul>"},{"location":"webgui/#table-navigation","title":"Table Navigation","text":"<ul> <li><code>j</code> / <code>\u2193</code> - Next row</li> <li><code>k</code> / <code>\u2191</code> - Previous row</li> <li><code>Enter</code> - View selected</li> </ul> <p>Enable keyboard shortcuts: Settings &gt; Keyboard Shortcuts &gt; On</p>"},{"location":"webgui/#troubleshooting","title":"Troubleshooting","text":""},{"location":"webgui/#issue-cannot-connect-to-server","title":"Issue: \"Cannot connect to server\"","text":"<p>Symptoms: <pre><code>\u26a0\ufe0f Connection Error\nUnable to connect to PyPLECS server at http://localhost:5000\n</code></pre></p> <p>Solutions: 1. Check server is running:    <pre><code>pyplecs-gui\n# Should show: Uvicorn running on http://0.0.0.0:5000\n</code></pre></p> <ol> <li> <p>Verify port not in use:    <pre><code># Windows\nnetstat -ano | findstr :5000\n\n# Linux/macOS\nlsof -i :5000\n</code></pre></p> </li> <li> <p>Try different port:    <pre><code>pyplecs-gui --port 5001\n# Then access http://localhost:5001\n</code></pre></p> </li> </ol>"},{"location":"webgui/#issue-plecs-disconnected","title":"Issue: \"PLECS disconnected\"","text":"<p>Symptoms: - \ud83d\udd34 Red status indicator - \"PLECS: Disconnected\" in system info</p> <p>Solutions: 1. Start PLECS manually</p> <ol> <li>Enable XML-RPC in PLECS:</li> <li>PLECS &gt; Preferences &gt; Remote Control</li> <li>Check \"Enable XML-RPC server\"</li> <li> <p>Port: 1080 (default)</p> </li> <li> <p>Check firewall: Allow port 1080</p> </li> <li> <p>Verify config:    <pre><code># config/default.yml\nplecs:\n  xmlrpc:\n    host: \"localhost\"\n    port: 1080\n</code></pre></p> </li> </ol>"},{"location":"webgui/#issue-websocket-disconnected","title":"Issue: \"WebSocket disconnected\"","text":"<p>Symptoms: - \ud83d\udfe1 Yellow connection indicator - No real-time updates</p> <p>Solutions: 1. Check browser console (F12):    - Look for WebSocket errors</p> <ol> <li> <p>Refresh page (F5)</p> </li> <li> <p>Clear browser cache:</p> </li> <li>Ctrl+Shift+Delete</li> <li> <p>Clear cached files</p> </li> <li> <p>Try different browser:</p> </li> <li> <p>Chrome/Firefox recommended</p> </li> <li> <p>Check proxy settings:</p> </li> <li>WebSocket may be blocked by proxy</li> <li>Try direct connection</li> </ol>"},{"location":"webgui/#issue-simulation-not-appearing-in-queue","title":"Issue: \"Simulation not appearing in queue\"","text":"<p>Symptoms: - Submitted simulation doesn't show in queue</p> <p>Solutions: 1. Check for errors in submission response</p> <ol> <li>Verify model file path is correct:</li> <li>Use absolute path</li> <li> <p>Check file exists: <code>ls models/buck.plecs</code></p> </li> <li> <p>Check browser console (F12) for JavaScript errors</p> </li> <li> <p>Refresh page to force update</p> </li> </ol>"},{"location":"webgui/#issue-slow-page-loading","title":"Issue: \"Slow page loading\"","text":"<p>Symptoms: - Page takes &gt;5 seconds to load - Sluggish UI</p> <p>Solutions: 1. Clear cache (browser)</p> <ol> <li> <p>Reduce queue size in config:    <pre><code>orchestration:\n  queue_size: 100  # Reduce from 1000\n</code></pre></p> </li> <li> <p>Check system resources:</p> </li> <li>High CPU/memory usage</li> <li> <p>Close other applications</p> </li> <li> <p>Disable animations (if supported in settings)</p> </li> </ol>"},{"location":"webgui/#performance-tips","title":"Performance Tips","text":""},{"location":"webgui/#for-best-experience","title":"For Best Experience","text":"<ol> <li> <p>Use Chrome or Firefox (best WebSocket performance)</p> </li> <li> <p>Keep queue manageable (&lt;1000 tasks)</p> </li> <li> <p>Clear old cache entries periodically</p> </li> <li> <p>Use batch submission for parameter sweeps (faster than individual submissions)</p> </li> <li> <p>Monitor in background while working in other tools</p> </li> </ol>"},{"location":"webgui/#remote-access","title":"Remote Access","text":"<p>Access Web GUI from other machines:</p> <ol> <li> <p>Start with external host:    <pre><code>pyplecs-gui --host 0.0.0.0\n</code></pre></p> </li> <li> <p>Open firewall port 5000</p> </li> <li> <p>Access from remote machine:    <pre><code>http://&lt;your-ip-address&gt;:5000\n</code></pre></p> </li> </ol> <p>\u26a0\ufe0f Security Warning: No authentication in v1.0.0. Use VPN or SSH tunnel for remote access.</p> <p>SSH Tunnel (secure remote access): <pre><code># On remote machine\nssh -L 5000:localhost:5000 user@pyplecs-server\n\n# Then access http://localhost:5000 in browser\n</code></pre></p>"},{"location":"webgui/#advanced-features","title":"Advanced Features","text":""},{"location":"webgui/#api-integration","title":"API Integration","text":"<p>Web GUI is built on top of REST API. You can: - Submit via Web GUI, monitor via API - Submit via API, monitor via Web GUI - Mix Web GUI and programmatic access</p> <p>See API.md for API documentation.</p>"},{"location":"webgui/#custom-dashboards","title":"Custom Dashboards","text":"<p>Web GUI exposes WebSocket endpoint for custom dashboards:</p> <pre><code>// Connect to WebSocket\nconst ws = new WebSocket('ws://localhost:5000/ws');\n\n// Handle updates\nws.onmessage = (event) =&gt; {\n  const data = JSON.parse(event.data);\n  updateCustomDashboard(data);\n};\n</code></pre> <p>Build custom monitoring tools using the same data stream.</p>"},{"location":"webgui/#configuration","title":"Configuration","text":"<p>Web GUI settings in <code>config/default.yml</code>:</p> <pre><code>webgui:\n  host: \"0.0.0.0\"        # Bind to all interfaces\n  port: 5000             # Web GUI port\n  debug: false           # Debug mode (auto-reload)\n  template_dir: \"templates\"  # Custom templates\n  static_dir: \"static\"       # Custom static files\n</code></pre> <p>Environment Variables: <pre><code>export PYPLECS_WEBGUI_HOST=\"0.0.0.0\"\nexport PYPLECS_WEBGUI_PORT=\"5001\"\nexport PYPLECS_WEBGUI_DEBUG=\"true\"\n\npyplecs-gui\n</code></pre></p>"},{"location":"webgui/#support","title":"Support","text":"<ul> <li>GitHub Issues: https://github.com/tinix84/pyplecs/issues</li> <li>Email: tinix84@gmail.com</li> <li>Documentation: See README.md</li> </ul> <p>Monitor your simulations in style with PyPLECS Web GUI! \ud83d\ude80</p>"},{"location":"archive/PROGRESS_MEMO/","title":"PyPLECS Development Progress Memo","text":"<p>Data: 20 Agosto 2025 Branch: dev Versione: 0.1.0  </p>"},{"location":"archive/PROGRESS_MEMO/#stato-attuale-del-progetto","title":"\ud83c\udfaf Stato Attuale del Progetto","text":""},{"location":"archive/PROGRESS_MEMO/#componenti-completati","title":"\u2705 Componenti Completati","text":""},{"location":"archive/PROGRESS_MEMO/#1-architettura-core","title":"1. Architettura Core","text":"<ul> <li>Configurazione Centralizzata: <code>config/default.yml</code> con gestione YAML completa</li> <li>Modelli Dati: Strutture per SimulationRequest, SimulationResult, TaskStatus</li> <li>Sistema di Logging: Logging strutturato con supporto per diversi livelli</li> <li>Gestione Cache: Sistema di cache intelligente con hash-based storage</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#2-sistema-di-orchestrazione","title":"2. Sistema di Orchestrazione","text":"<ul> <li>Task Manager: Gestione priorit\u00e0 e code di esecuzione</li> <li>Worker Pool: Supporto per simulazioni parallele</li> <li>Callback System: Notifiche real-time per eventi di simulazione</li> <li>Error Handling: Gestione robusta degli errori con retry logic</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#3-web-gui-completa","title":"3. Web GUI Completa \ud83d\ude80","text":"<ul> <li>Backend FastAPI: Server moderno con API RESTful</li> <li>Frontend Bootstrap 5: Interface responsive e professionale</li> <li>WebSocket Real-time: Aggiornamenti live senza refresh</li> <li>4 Pagine Principali:</li> <li><code>/</code> - Dashboard con statistiche e grafici</li> <li><code>/simulations</code> - Gestione simulazioni con filtri</li> <li><code>/cache</code> - Monitoraggio e gestione cache</li> <li><code>/settings</code> - Configurazione sistema</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#4-api-endpoints","title":"4. API Endpoints","text":"<pre><code>GET  /api/status        # Stato sistema\nGET  /api/simulations   # Lista simulazioni\nGET  /api/cache/stats   # Statistiche cache\nPOST /api/cache/clear   # Pulizia cache\nWS   /ws               # WebSocket real-time\n</code></pre>"},{"location":"archive/PROGRESS_MEMO/#5-tools-di-sviluppo","title":"5. Tools di Sviluppo","text":"<ul> <li><code>start_webgui.py</code> - Script di avvio professionale</li> <li><code>test_webgui.py</code> - Testing automatizzato endpoints</li> <li><code>requirements.txt</code> - Gestione dipendenze complete</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#configurazione-tecnica","title":"\ud83d\udd27 Configurazione Tecnica","text":""},{"location":"archive/PROGRESS_MEMO/#stack-tecnologico","title":"Stack Tecnologico","text":"<ul> <li>Backend: FastAPI + Uvicorn + WebSockets</li> <li>Frontend: Bootstrap 5 + Chart.js + Font Awesome</li> <li>Database Cache: File-based con Parquet/JSON</li> <li>Python: 3.10.12 con virtual environment</li> <li>Config: YAML centralizzato</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#dipendenze-installate","title":"Dipendenze Installate","text":"<pre><code>fastapi\nuvicorn[standard]\njinja2\npython-multipart\naiohttp\npandas\npyyaml\nstructlog\n</code></pre>"},{"location":"archive/PROGRESS_MEMO/#struttura-file","title":"Struttura File","text":"<pre><code>pyplecs/\n\u251c\u2500\u2500 config/default.yml          # Configurazione principale\n\u251c\u2500\u2500 pyplecs/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 config.py               # Gestione configurazione\n\u2502   \u251c\u2500\u2500 core/models.py          # Modelli dati\n\u2502   \u251c\u2500\u2500 orchestration/          # Sistema orchestrazione\n\u2502   \u251c\u2500\u2500 cache/                  # Sistema cache\n\u2502   \u251c\u2500\u2500 logging/                # Sistema logging\n\u2502   \u2514\u2500\u2500 webgui/                 # Web interface\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u2514\u2500\u2500 webgui.py           # FastAPI app\n\u251c\u2500\u2500 templates/                  # Template HTML\n\u2502   \u251c\u2500\u2500 base.html              # Layout base\n\u2502   \u251c\u2500\u2500 dashboard.html         # Dashboard\n\u2502   \u251c\u2500\u2500 simulations.html       # Gestione simulazioni\n\u2502   \u251c\u2500\u2500 cache.html            # Gestione cache\n\u2502   \u2514\u2500\u2500 settings.html         # Configurazioni\n\u251c\u2500\u2500 static/style.css           # CSS personalizzato\n\u251c\u2500\u2500 start_webgui.py           # Script avvio\n\u2514\u2500\u2500 test_webgui.py            # Test automatici\n</code></pre>"},{"location":"archive/PROGRESS_MEMO/#testing-e-validazione","title":"\ud83e\uddea Testing e Validazione","text":""},{"location":"archive/PROGRESS_MEMO/#test-effettuati","title":"Test Effettuati","text":"<ul> <li>\u2705 Import modules funzionanti</li> <li>\u2705 Server web avvio corretto</li> <li>\u2705 Tutti gli endpoints HTTP 200 OK</li> <li>\u2705 WebSocket connections funzionanti</li> <li>\u2705 Static files serviti correttamente</li> <li>\u2705 Templates rendering senza errori</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#logs-di-successo","title":"Logs di Successo","text":"<pre><code>INFO: Uvicorn running on http://127.0.0.1:8001\nGET / HTTP/1.1 200 OK\nGET /simulations HTTP/1.1 200 OK\nGET /cache HTTP/1.1 200 OK\nGET /api/status HTTP/1.1 200 OK\nGET /static/style.css HTTP/1.1 200 OK\nWebSocket /ws [accepted]\n</code></pre>"},{"location":"archive/PROGRESS_MEMO/#features-web-gui","title":"\ud83c\udfa8 Features Web GUI","text":""},{"location":"archive/PROGRESS_MEMO/#dashboard","title":"Dashboard (<code>/</code>)","text":"<ul> <li>Statistiche real-time del sistema</li> <li>Grafici performance con Chart.js</li> <li>Monitoraggio workers attivi</li> <li>Log attivit\u00e0 in tempo reale</li> <li>Indicatori stato connessione WebSocket</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#gestione-simulazioni-simulations","title":"Gestione Simulazioni (<code>/simulations</code>)","text":"<ul> <li>Tabella simulazioni con paginazione</li> <li>Filtri per stato e parametri</li> <li>Modal per creazione nuove simulazioni</li> <li>Visualizzazione risultati</li> <li>Controlli cancellazione/pausa</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#cache-management-cache","title":"Cache Management (<code>/cache</code>)","text":"<ul> <li>Statistiche utilizzo cache</li> <li>Grafici breakdown storage</li> <li>Performance hit/miss rate</li> <li>Controlli pulizia cache</li> <li>Log operazioni cache</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#settings-settings","title":"Settings (<code>/settings</code>)","text":"<ul> <li>Configurazione PLECS paths</li> <li>Impostazioni orchestrazione</li> <li>Parametri cache</li> <li>Configurazione web GUI</li> <li>Informazioni sistema</li> </ul>"},{"location":"archive/PROGRESS_MEMO/#come-avviare","title":"\ud83d\ude80 Come Avviare","text":"<pre><code>cd /home/tinix84/00_brusa/pyplecs\npython start_webgui.py\n</code></pre> <p>URL Accesso: http://127.0.0.1:8001</p>"},{"location":"archive/PROGRESS_MEMO/#configurazione-plecs","title":"\ud83d\udccb Configurazione PLECS","text":"<p>Path Corrente: <code>D:/OneDrive/Documenti/Plexim/PLECS 4.7 (64 bit)/plecs.exe</code></p> <p>Il sistema \u00e8 configurato per PLECS 4.7 ed \u00e8 pronto per l'integrazione con simulazioni reali.</p>"},{"location":"archive/PROGRESS_MEMO/#prossime-iterazioni-possibili","title":"\ud83d\udd04 Prossime Iterazioni Possibili","text":""},{"location":"archive/PROGRESS_MEMO/#priorita-alta","title":"Priorit\u00e0 Alta","text":"<ol> <li>Integrazione PLECS Reale</li> <li>Collegamento effettivo con PLECS executable</li> <li>Parsing risultati simulazione</li> <li> <p>Gestione file .plecs</p> </li> <li> <p>Sistema Autenticazione</p> </li> <li>Login/logout users</li> <li>Gestione permessi</li> <li>Session management</li> </ol>"},{"location":"archive/PROGRESS_MEMO/#priorita-media","title":"Priorit\u00e0 Media","text":"<ol> <li>Enhanced Analytics</li> <li>Grafici avanzati risultati</li> <li>Export dati (CSV, Excel)</li> <li> <p>Confronto simulazioni</p> </li> <li> <p>File Management</p> </li> <li>Upload modelli PLECS</li> <li>Libreria modelli</li> <li>Versioning simulazioni</li> </ol>"},{"location":"archive/PROGRESS_MEMO/#priorita-bassa","title":"Priorit\u00e0 Bassa","text":"<ol> <li>Collaboration Features</li> <li>Multi-user support</li> <li>Comments su simulazioni</li> <li> <p>Sharing risultati</p> </li> <li> <p>Advanced Optimization</p> </li> <li>Parameter sweeps</li> <li>Design space exploration</li> <li>Algoritmi ottimizzazione</li> </ol>"},{"location":"archive/PROGRESS_MEMO/#status-riassuntivo","title":"\ud83c\udfaf Status Riassuntivo","text":"<p>COMPLETATO: \u2705 Web GUI funzionale con backend FastAPI completo IN CORSO: \ud83d\udd04 Testing e documentazione PROSSIMO: \u23ed\ufe0f Integrazione PLECS reale  </p> <p>Stato Generale: \ud83d\udfe2 ECCELLENTE - Sistema base completamente funzionale e pronto per produzione</p> <p>Note Tecniche: - Virtual environment attivo: <code>.venv/</code> - Branch development: <code>dev</code> - Logging configurato per debugging - Cache system implementato ma non ancora utilizzato per PLECS reale - WebSocket real-time funzionante - Responsive design mobile-friendly</p> <p>Ultimo Test: 20/08/2025 - Tutti i componenti web GUI verificati e funzionanti.</p>"},{"location":"archive/PROGRESS_MEMO/#nuovi-strumenti-di-installazione-e-setup","title":"\ud83d\udee0\ufe0f Nuovi strumenti di installazione e setup","text":"<ul> <li><code>pyplecs-setup</code> (entrypoint CLI): semplice helper per creare la config di base e verificare l'installazione.</li> <li> <p>Comandi utili:</p> <ul> <li><code>pyplecs-setup create-config</code> -&gt; scrive <code>./config/default.yml</code> minimale</li> <li><code>pyplecs-setup check-windows</code> -&gt; esegue controlli conservativi su Windows</li> <li><code>pyplecs-setup check-macos</code> -&gt; esegue controlli conservativi su macOS</li> </ul> </li> <li> <p>Script helper in <code>tools/installers/</code>:</p> </li> <li><code>tools/installers/windows_installer.bat</code> -&gt; lancia <code>pyplecs-setup</code> su Windows</li> <li> <p><code>tools/installers/macos_installer.sh</code> -&gt; lancia <code>pyplecs-setup</code> su macOS</p> </li> <li> <p>Script di avvio spostato in <code>tools/start_webgui.py</code> per mantenere la root pulita.</p> </li> </ul> <p>Esempio rapido:</p> <pre><code>python -m pyplecs.cli.installer create-config\npython -m pyplecs.cli.installer check-all\n</code></pre>"},{"location":"archive/PROGRESS_MEMO/#windows-installer-double-clickable","title":"Windows installer (double-clickable)","text":"<ul> <li><code>tools/installers/windows_installer.bat</code> \u00e8 ora un installer interattivo pensato per essere eseguito con doppio click e guida l'utente attraverso:</li> <li>Verifica presenza di Python e possibilit\u00e0 di scaricarlo/avviarne l'installer (richiede interazione GUI).</li> <li>Creazione di una virtualenv <code>.venv</code> nel progetto.</li> <li>Attivazione della venv e installazione delle dipendenze Python principali (fastapi, uvicorn, jinja2, pandas, pyyaml, pywinauto).</li> <li>Ricerca dei percorsi PLECS comuni; se non trovati chiede all'utente il percorso e aggiorna <code>config/default.yml</code> automaticamente.</li> <li>Opzione per eseguire <code>pytest tests/test_basic.py</code> per verificare l'integrazione con <code>pywinauto</code> e PLECS (richiede PLECS/Windows GUI).</li> </ul> <p>Note: Lo script \u00e8 conservativo: quando possibile usa i canali ufficiali (download Python dal sito ufficiale) e non forza installazioni di sistema senza conferma.</p>"},{"location":"archive/REFACTORING/","title":"PyPLECS Refactoring Summary","text":""},{"location":"archive/REFACTORING/#overview","title":"Overview","text":"<p>This document summarizes the comprehensive refactoring of PyPLECS to support modern simulation orchestration, web UI, REST API, optimization, and Model Context Protocol (MCP) server capabilities.</p>"},{"location":"archive/REFACTORING/#new-architecture","title":"New Architecture","text":""},{"location":"archive/REFACTORING/#directory-structure","title":"\ud83d\udcc1 Directory Structure","text":"<pre><code>pyplecs/\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 default.yml              # Centralized configuration\n\u251c\u2500\u2500 pyplecs/\n\u2502   \u251c\u2500\u2500 __init__.py              # Main package with backward compatibility\n\u2502   \u251c\u2500\u2500 config.py                # Configuration management system\n\u2502   \u251c\u2500\u2500 pyplecs.py               # Legacy PLECS automation (unchanged)\n\u2502   \u251c\u2500\u2500 plecs_components.py      # Legacy components (unchanged)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 core/                    # Core data models and types\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 models.py\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 orchestration/           # Simulation queue and worker management\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 cache/                   # Intelligent caching system\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 optimizer/               # Parameter optimization engines\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py          # (placeholder)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 webgui/                  # Web-based monitoring interface\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py          # (placeholder)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 api/                     # REST API for integration\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 logging/                 # Structured logging system\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 mcp/                     # Model Context Protocol server\n\u2502       \u2514\u2500\u2500 __init__.py          # (placeholder)\n\u2502\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 test_basic.py            # Original tests\n\u2502   \u2514\u2500\u2500 test_refactored.py       # New architecture tests\n\u251c\u2500\u2500 requirements.txt             # Complete dependency list\n\u251c\u2500\u2500 setup_env.sh                # Environment setup script\n\u2514\u2500\u2500 setup.py                    # Updated package configuration\n</code></pre>"},{"location":"archive/REFACTORING/#key-features-implemented","title":"\ud83d\udd27 Key Features Implemented","text":""},{"location":"archive/REFACTORING/#1-configuration-management-configpy","title":"1. Configuration Management (<code>config.py</code>)","text":"<ul> <li>Centralized YAML configuration in <code>config/default.yml</code></li> <li>Environment-specific overrides support</li> <li>Type-safe configuration using dataclasses</li> <li>Hot-reload capability for development</li> </ul> <p>Key configurations: - PLECS application settings (executable paths, XML-RPC) - Cache settings (storage format, TTL, compression) - Web GUI and API endpoints - Logging configuration - MCP server settings</p>"},{"location":"archive/REFACTORING/#2-core-data-models-coremodelspy","title":"2. Core Data Models (<code>core/models.py</code>)","text":"<p>New Models: - <code>SimulationRequest</code> - Standardized simulation input - <code>SimulationResult</code> - Structured simulation output - <code>SimulationStatus</code> - Task status tracking - <code>ComponentParameter</code> - PLECS component parameters - <code>ModelVariant</code> - Model variations with parameters - <code>OptimizationRequest/Result</code> - Optimization workflows - <code>LogEntry</code> - Structured logging entries</p>"},{"location":"archive/REFACTORING/#3-simulation-orchestration-orchestration","title":"3. Simulation Orchestration (<code>orchestration/</code>)","text":"<p>Features: - Priority-based task queue with configurable workers - Automatic retry logic for failed simulations - Async/await support for scalable execution - Real-time status tracking and callbacks - Worker load balancing and statistics</p> <p>Priority Levels: - CRITICAL - HIGH - NORMAL - LOW</p>"},{"location":"archive/REFACTORING/#4-intelligent-caching-cache","title":"4. Intelligent Caching (<code>cache/</code>)","text":"<p>Hash-based caching that considers: - Model file content - Simulation parameters - Configurable exclude fields</p> <p>Storage Options: - Timeseries: Parquet, HDF5, CSV - Metadata: JSON, YAML - Compression: Snappy, GZIP, LZ4</p> <p>Cache Backends: - File-based (implemented) - Redis (placeholder) - Memory (placeholder)</p>"},{"location":"archive/REFACTORING/#5-rest-api-api","title":"5. REST API (<code>api/</code>)","text":"<p>FastAPI-based endpoints: - <code>POST /simulations</code> - Submit simulation - <code>GET /simulations/{id}</code> - Get status - <code>GET /simulations/{id}/result</code> - Get results - <code>DELETE /simulations/{id}</code> - Cancel simulation - <code>GET /stats</code> - System statistics - <code>POST/GET /cache/*</code> - Cache management</p> <p>Features: - Auto-generated OpenAPI docs - CORS support for web integration - Rate limiting and authentication hooks - Async request handling</p>"},{"location":"archive/REFACTORING/#6-structured-logging-logging","title":"6. Structured Logging (<code>logging/</code>)","text":"<p>Multi-format logging: - Console output with colors - File rotation with size/time limits - Structured JSON logs for analysis - Event-specific loggers (simulation, optimization, API)</p> <p>Log Events: - Simulation lifecycle - Cache hits/misses - API requests - System statistics - Worker performance</p>"},{"location":"archive/REFACTORING/#backward-compatibility","title":"\ud83d\udd04 Backward Compatibility","text":"<p>The refactoring maintains full backward compatibility:</p> <pre><code># Legacy usage still works\nfrom pyplecs import PlecsServer, GenericConverterPlecsMdl\n\n# New capabilities available\nfrom pyplecs import SimulationOrchestrator, SimulationCache\n</code></pre> <p>Graceful degradation when optional dependencies are missing.</p>"},{"location":"archive/REFACTORING/#configuration-example","title":"\ud83d\udcca Configuration Example","text":"<pre><code># config/default.yml\nplecs:\n  executable_paths:\n    - \"C:/Program Files/Plexim/PLECS 4.3 (64 bit)/plecs.exe\"\n  xmlrpc:\n    host: \"localhost\"\n    port: 1080\n\ncache:\n  enabled: true\n  directory: \"./cache\"\n  timeseries_format: \"parquet\"\n  compression: \"snappy\"\n  ttl: 3600\n\norchestration:\n  max_concurrent_simulations: 4\n  retry_attempts: 3\n\nwebgui:\n  enabled: true\n  port: 8080\n\napi:\n  enabled: true  \n  port: 8081\n</code></pre>"},{"location":"archive/REFACTORING/#usage-examples","title":"\ud83d\ude80 Usage Examples","text":""},{"location":"archive/REFACTORING/#basic-simulation-with-caching","title":"Basic Simulation with Caching","text":"<pre><code>import pyplecs\n\n# Initialize with configuration\nconfig = pyplecs.init_config()\norchestrator = pyplecs.SimulationOrchestrator()\n\n# Submit simulation\nrequest = pyplecs.SimulationRequest(\n    model_file=\"./models/buck_converter.plecs\",\n    parameters={\"Vi\": 12.0, \"Vo\": 5.0, \"L\": 100e-6}\n)\n\ntask_id = await orchestrator.submit_simulation(request)\nresult = await orchestrator.wait_for_completion(task_id)\n</code></pre>"},{"location":"archive/REFACTORING/#priority-based-queue-management","title":"Priority-based Queue Management","text":"<pre><code># High priority simulation\nurgent_task = await orchestrator.submit_simulation(\n    request, \n    priority=pyplecs.TaskPriority.HIGH\n)\n\n# Monitor queue statistics\nstats = orchestrator.get_orchestrator_stats()\nprint(f\"Queue size: {stats['queue_size']}\")\nprint(f\"Active workers: {stats['active_tasks']}\")\n</code></pre>"},{"location":"archive/REFACTORING/#cache-management","title":"Cache Management","text":"<pre><code>cache = pyplecs.SimulationCache()\n\n# Check cache statistics\nstats = cache.get_cache_stats()\nprint(f\"Cache entries: {stats['total_entries']}\")\nprint(f\"Cache size: {stats['total_size_mb']} MB\")\n\n# Clear cache\ncache.clear_cache()\n</code></pre>"},{"location":"archive/REFACTORING/#future-extensions","title":"\ud83d\udd2e Future Extensions","text":"<p>The architecture is designed to easily support:</p> <ol> <li>Parameter Optimization (<code>optimizer/</code>)</li> <li>Genetic algorithms</li> <li>Particle swarm optimization</li> <li>Bayesian optimization</li> <li> <p>Multi-objective optimization</p> </li> <li> <p>Web GUI (<code>webgui/</code>)</p> </li> <li>Real-time monitoring dashboard</li> <li>Interactive parameter tuning</li> <li>Result visualization</li> <li> <p>Queue management interface</p> </li> <li> <p>MCP Server (<code>mcp/</code>)</p> </li> <li>Model Context Protocol integration</li> <li>AI assistant tools for simulation</li> <li>Automated model analysis</li> <li>Smart parameter suggestions</li> </ol>"},{"location":"archive/REFACTORING/#next-steps","title":"\ud83d\udccb Next Steps","text":"<ol> <li>Install Dependencies: <code>pip install -r requirements.txt</code></li> <li>Run Setup Script: <code>bash setup_env.sh</code></li> <li>Test Configuration: Run test suite</li> <li>Start API Server: <code>python -m pyplecs.api</code></li> <li>Implement Missing Modules: webgui, optimizer, mcp</li> </ol>"},{"location":"archive/REFACTORING/#development-setup","title":"\ud83d\udd27 Development Setup","text":"<pre><code># Create environment and install dependencies\nbash setup_env.sh\n\n# Run tests\npytest tests/test_refactored.py\n\n# Start API server\npython -m pyplecs.api\n\n# Check configuration\npython -c \"import pyplecs; print(pyplecs.get_config().plecs.xmlrpc_host)\"\n</code></pre> <p>This refactoring provides a solid foundation for advanced PLECS simulation workflows while maintaining the simplicity and reliability of the original package.</p>"},{"location":"examples/legacy_variant_generation/","title":"Legacy Variant Generation (v0.x - Deprecated)","text":"<p>This example documents the OLD file-based variant generation approach that was removed in v1.0.0. This file serves as historical reference for users migrating from v0.x.</p>"},{"location":"examples/legacy_variant_generation/#what-was-removed","title":"What Was Removed","text":"<p>PyPLECS v0.x included a file-based variant generation system that: - Created physical <code>.plecs</code> files in subdirectories (<code>data/01/</code>, <code>data/02/</code>, etc.) - Used the <code>GenericConverterPlecsMdl</code> class to wrap model files - Provided <code>generate_variant_plecs_mdl()</code> and <code>generate_variant_plecs_file()</code> functions</p> <p>Why it was removed: PLECS native <code>ModelVars</code> API already handles parameter variations without file generation. Creating physical files was unnecessary, slow, and cluttered the workspace.</p>"},{"location":"examples/legacy_variant_generation/#old-approach-v0x-do-not-use","title":"Old Approach (v0.x - DO NOT USE)","text":""},{"location":"examples/legacy_variant_generation/#example-file-based-variant-generation","title":"Example: File-Based Variant Generation","text":"<pre><code>from pyplecs import GenericConverterPlecsMdl, generate_variant_plecs_mdl, PlecsServer\n\n# Step 1: Create model object\nbuck_mdl = GenericConverterPlecsMdl(\"simple_buck.plecs\")\n\n# Step 2: Generate variant file in subdirectory\nModelVars = {\"Vi\": 250, \"Vo_ref\": 25}\nvariant_mdl = generate_variant_plecs_mdl(\n    src_mdl=buck_mdl,\n    variant_name='01',  # Creates file in data/01/\n    variant_vars=ModelVars\n)\n\n# Step 3: Run simulation on generated variant file\nplecs_server = PlecsServer(\n    sim_path=variant_mdl.folder,          # \"data/01/\"\n    sim_name=variant_mdl.simulation_name  # \"simple_buck01.plecs\"\n)\nresults = plecs_server.run_sim_with_datastream()\n</code></pre>"},{"location":"examples/legacy_variant_generation/#what-happened-behind-the-scenes","title":"What Happened Behind the Scenes","text":"<ol> <li>File Generation:</li> <li>Original model: <code>simple_buck.plecs</code></li> <li>Generated variant: <code>data/01/simple_buck01.plecs</code></li> <li> <p>The variant file was a physical copy with ModelVars embedded</p> </li> <li> <p>Directory Structure Created:    <pre><code>project/\n\u251c\u2500\u2500 simple_buck.plecs       # Original\n\u2514\u2500\u2500 data/\n    \u251c\u2500\u2500 01/\n    \u2502   \u2514\u2500\u2500 simple_buck01.plecs  # Generated variant\n    \u2514\u2500\u2500 02/\n        \u2514\u2500\u2500 simple_buck02.plecs  # Another variant\n</code></pre></p> </li> <li> <p>Problems with This Approach:</p> </li> <li>\u274c File I/O overhead (slow)</li> <li>\u274c Disk space wasted on duplicates</li> <li>\u274c Workspace clutter (dozens of variant directories)</li> <li>\u274c PLECS already supports ModelVars without file generation</li> <li>\u274c Unnecessary abstraction layer</li> </ol>"},{"location":"examples/legacy_variant_generation/#new-approach-v100-use-this","title":"New Approach (v1.0.0+ - USE THIS)","text":""},{"location":"examples/legacy_variant_generation/#example-direct-modelvars-usage","title":"Example: Direct ModelVars Usage","text":"<pre><code>from pyplecs import PlecsServer\n\n# No file generation needed - use ModelVars directly\nwith PlecsServer(\"simple_buck.plecs\") as server:\n    ModelVars = {\"Vi\": 250, \"Vo_ref\": 25}\n    results = server.simulate(ModelVars)\n</code></pre>"},{"location":"examples/legacy_variant_generation/#what-happens-now","title":"What Happens Now","text":"<ol> <li>No File Generation: PLECS loads <code>simple_buck.plecs</code> and applies ModelVars in memory</li> <li>No Directory Clutter: No <code>data/01/</code>, <code>data/02/</code> subdirectories created</li> <li>Faster Execution: No file I/O overhead</li> <li>Simpler Code: 3 lines instead of 10+</li> </ol>"},{"location":"examples/legacy_variant_generation/#batch-simulations-old-vs-new","title":"Batch Simulations: Old vs New","text":""},{"location":"examples/legacy_variant_generation/#old-approach-v0x-sequential-file-generation","title":"Old Approach (v0.x - Sequential File Generation)","text":"<pre><code>from pyplecs import GenericConverterPlecsMdl, generate_variant_plecs_mdl, PlecsServer\n\nbuck_mdl = GenericConverterPlecsMdl(\"simple_buck.plecs\")\n\nresults = []\nfor i, voltage in enumerate([12, 24, 48, 96]):\n    # Generate variant file\n    variant_mdl = generate_variant_plecs_mdl(\n        src_mdl=buck_mdl,\n        variant_name=f\"{i:02d}\",\n        variant_vars={\"Vi\": voltage}\n    )\n\n    # Run simulation on variant file\n    server = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\n    result = server.run_sim_with_datastream()\n    results.append(result)\n\n# Result: 4 files created (data/00/, data/01/, data/02/, data/03/)\n# Performance: Sequential execution (no parallelization)\n</code></pre>"},{"location":"examples/legacy_variant_generation/#new-approach-v100-batch-parallel","title":"New Approach (v1.0.0+ - Batch Parallel)","text":"<pre><code>from pyplecs import PlecsServer\n\nwith PlecsServer(\"simple_buck.plecs\") as server:\n    # Prepare parameter list\n    params_list = [\n        {\"Vi\": 12},\n        {\"Vi\": 24},\n        {\"Vi\": 48},\n        {\"Vi\": 96}\n    ]\n\n    # Batch execution - PLECS parallelizes internally\n    results = server.simulate_batch(params_list)\n\n# Result: 0 files created (all in-memory)\n# Performance: 3-5x faster on multi-core machines\n</code></pre>"},{"location":"examples/legacy_variant_generation/#migration-path","title":"Migration Path","text":"<p>If you have code using the old file-based approach:</p>"},{"location":"examples/legacy_variant_generation/#step-1-remove-file-generation","title":"Step 1: Remove File Generation","text":"<pre><code># OLD - Delete this code\nbuck_mdl = GenericConverterPlecsMdl(\"simple_buck.plecs\")\nvariant_mdl = generate_variant_plecs_mdl(buck_mdl, \"01\", {\"Vi\": 250})\n\n# NEW - Replace with this\n# (No model object needed - use path directly)\n</code></pre>"},{"location":"examples/legacy_variant_generation/#step-2-simplify-plecsserver-usage","title":"Step 2: Simplify PlecsServer Usage","text":"<pre><code># OLD\nplecs_server = PlecsServer(\n    sim_path=variant_mdl.folder,\n    sim_name=variant_mdl.simulation_name\n)\nresults = plecs_server.run_sim_with_datastream()\n\n# NEW\nwith PlecsServer(\"simple_buck.plecs\") as server:\n    results = server.simulate({\"Vi\": 250})\n</code></pre>"},{"location":"examples/legacy_variant_generation/#step-3-clean-up-generated-files","title":"Step 3: Clean Up Generated Files","text":"<pre><code># After migration, delete old variant directories\nrm -rf data/01/\nrm -rf data/02/\n# ... etc\n</code></pre>"},{"location":"examples/legacy_variant_generation/#historical-context-why-this-existed","title":"Historical Context: Why This Existed","text":"<p>In early versions of PyPLECS (v0.x), the file-based approach seemed logical because: 1. We didn't fully understand PLECS XML-RPC capabilities 2. Physical files felt \"safer\" for debugging 3. It matched patterns from MATLAB workflows</p> <p>The lesson: Sometimes the best refactoring is deleting code that wraps functionality that already exists natively. The PLECS API is more capable than we initially realized.</p>"},{"location":"examples/legacy_variant_generation/#summary","title":"Summary","text":"<p>Don't do this: <pre><code># File-based variant generation (REMOVED)\nvariant_mdl = generate_variant_plecs_mdl(mdl, \"01\", params)\nserver = PlecsServer(variant_mdl.folder, variant_mdl.simulation_name)\n</code></pre></p> <p>Do this instead: <pre><code># Direct ModelVars usage (v1.0.0+)\nwith PlecsServer(\"model.plecs\") as server:\n    results = server.simulate(params)\n</code></pre></p> <p>For complete migration guide, see MIGRATION.md</p> <p>Performance boost: Use <code>simulate_batch()</code> for 3-5x speedup on multiple simulations!</p>"}]}